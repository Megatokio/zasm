              	; --------------------------------------
              	; zasm: assemble "opense.asm"
              	; opts: --dotnames --reqcolon
              	; date: 2018-05-18 20:49:25
              	; --------------------------------------


              	#!/usr/local/bin/zasm --dotnames --reqcolon -o ../original/
              	
              	; The Legalese OpenSE BASIC Disassembly
              	; Copyright (c) 2011-2012 Andrew Owen 
              	; Distributed under the CC BY-SA 3.0 license
              	; Creative Commons Attribution-ShareAlike 3.0 Unported
              	
              	
              	; Foreword
              	
              	; Development of OpenSE BASIC was funded by donations to the Red Cross Japan
              	; Tsunami Appeal (http://www.pledgebank.com/opense). 
              	
              	
              	; Legal
              	
              	; The purpose of a commented disassembly is typically as an aid to
              	; understanding the code.  That is not the purpose of this document. Meaningful
              	; labels are used throughout and individuals requiring further explanation will
              	; find an excellent disassembly in Logan and O'Hara's 'The Complete Timex
              	; TS1000 / Sinclair ZX81 ROM Disassembly', from which the labels used in this
              	; document are taken (for easy cross-referencing).  This document is provided
              	; as evidence to support the contention that OpenSE BASIC is a derivative work
              	; of the ZX81 ROM by Grant and Vickers that may be distributed under an open
              	; source license without infringing the rights of British Sky Broadcasting
              	; Group plc, the copyright holder of the ZX Spectrum ROM.
              	
              	
              	; OpenSE BASIC - An open source firmware for Timex 2000/ZX Spectrum clones
              	; Copyright (c) 1981 Nine Tiles Networks Ltd
              	
              	; This program is free software: you can redistribute it and/or modify it under
              	; the terms of the GNU General Public License as published by the Free Software
              	; Foundation, either version 2 of the License, or (at your option) any later
              	; version.  This program is distributed in the hope that it will be useful, but
              	; WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
              	; FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
              	; more details.
              	
              	; You should have received a copy of the GNU General Public License along with
              	; this program.  If not, see <http://www.gnu.org/licenses/>.
              	
              	
              	; Purpose
              	
              	; To enable the legal distribution of 8-bit computers capable of running
              	; software written for the ZX Spectrum without infringing the rights of British
              	; Sky Broadcasting Group plc, the copyright holder of the ZX Spectrum ROM.
              	
              	
              	; Method
              	
              	; With the ZX81 ROM as the starting point, routines were taken from the ZX80,
              	; skeleton ROM (from The Messenger), SAM Coupe, and original code from SE Basic
              	; to replace the missing routines from the ZX Spectrum ROM.  To fill the
              	; remaining gaps, machine reverse engineering was used to generate functionally
              	; equivalent but different code, as permitted under the interoperability clause
              	; in section 50B of the UK Copyright (Computer Programs) Regulations 1992
              	; amendment to the UK Copyright, Designs and Patents Act 1988.
              	
              	
              	; Attribution
              	
              	; The following labels in comments donate the origin of the code that follows
              	; them: zx80, zx81, sam, skel, se. All other code is legally reverse engineered
              	; in accordance with section 50B of the 1992 act.
              	
              	
              	; Acknowledgements
              	
              	; Jarek Adamski, Alvin Albrecht, Richard Altwasser, Toni Baker, Steve Berry,
              	; Mark Boyd, Jeff Braine, Martin Brennan, Ian Collier, Rob Collins,
              	; Chris Cowley, Andrew Cummins, Rick Dickinson, Paul Dunn, John Elliott,
              	; Paul Farrow, Lou Galie, Simon Goodwin, Rupert Goodwins, Bruce Gordon,
              	; John Grant, Jim Grimwood, Henk de Groot, Frank O'Hara, Paul Harrison,
              	; Jonathan Graham Harston, Martijn van der Heide, Pete Hope, Miguel Jodar,
              	; Dilwyn Jones, Zeljko Juric, Susan Kare, Stephen Kelly, Richard Kelsh,
              	; Philip Kendall, Slavomir Labsky, Jiri Lamac, Cliff Lawson, Ian Logan,
              	; Gerton Lunter, Kevin Males, Markos Masouras, Alan Miles, Simon Owen,
              	; Milan Pikula, Andrew Ryals, Jose Sanchez, Einar Saukas, Clive Sinclair,
              	; Chris Smith, Dylan Smith, Tony Stratton, Steve Vickers, Geoff Wearmouth,
              	; Matt Westcott, Jim Westwood, Matthew Wilson, Gunter Woijk, Mark Woodmass,
              	; Martin Wren-Hilton, Andy Wright, Chris Young, Vladimir Yudin
              	
              	
              	.section .text
              	
0000:         		org 0
              		include "opense.def"	
              	; Definitions file for opense.asm
              	; Copyright (c) 2011-2012 Andrew Owen
              	
              	; X80 maths co-processor instruction set (uses binutils style macros)
              	
              	; parameter definitions
              	; (period used to distinguish from assembler commands)
              	
0000:         	.le	equ	0	; less than or equal
0001:         	.ge	equ	1	; greater or equal
0002:         	.ne	equ	2	; not equal
0003:         	.gt	equ	3	; greater than
0004:         	.lt	equ	4	; less than
0005:         	.eq	equ	5	; equal
002D:         	.lz	equ	2DH	; less than zero
002E:         	.gz	equ	2EH	; greater than zero
              	
              	; instruction macros
              	
              	.macro	fwait		; stop the Z80
              		rst	28h
              	.endm
              	
              	.macro	fjpt	n	; jump if true
              		defb	0x00, \n - $
              	.endm
              	
              	.macro	fxch		; exchange
              		defb	0x01
              	.endm
              	
              	.macro	fdel		; delete
              		defb	0x02
              	.endm
              	
              	.macro	fsub		; subtract
              		defb	0x03
              	.endm
              	
              	.macro	fmul		; multiply
              		defb	0x04
              	.endm
              	
              	.macro	fdiv		; divide
              		defb	0x05
              	.endm
              	
              	.macro	ftop		; to power
              		defb	0x06
              	.endm
              	
              	.macro	fbor		; binary or
              		defb	0x07
              	.endm
              	
              	.macro	fband		; binary and
              		defb	0x08
              	.endm
              	
              	.macro	fcp	n	; compare (.le ... gtz)
              		defb	0x09 + \n
              	.endm
              	
              	.macro	fadd		; add
              		defb	0x0f
              	.endm
              	
              	.macro	fbands		; binary and string
              		defb	0x10
              	.endm
              	
              	.macro	fcps	n	; compare string (.le to .eq)
              		defb	0x11 + \n
              	.endm
              	
              	.macro	fcat		; concatenate string
              		defb	0x17
              	.endm
              	
              	.macro	fvals		; value string
              		defb	0x18
              	.endm
              	
              	.macro	fusrs		; user string
              		defb	0x19
              	.endm
              	
              	.macro	fread		; read in
              		defb	0x1a
              	.endm
              	
              	.macro	fneg		; negate
              		defb	0x1b
              	.endm
              	
              	.macro	fasc		; character to ASCII
              		defb	0x1c
              	.endm
              	
              	.macro	fval		; value
              		defb	0x1d
              	.endm
              	
              	.macro	flen		; length of string
              		defb	0x1e
              	.endm
              	
              	.macro	fsin		; sine
              		defb	0x1f
              	.endm
              	
              	.macro	fcos		; cosine
              		defb	0x20
              	.endm
              	
              	.macro	ftan		; tangent
              		defb	0x21
              	.endm
              	
              	.macro	fasin		; arcsine
              		defb	0x22
              	.endm
              	
              	.macro	facos		; arccosine
              		defb	0x23
              	.endm
              	
              	.macro	fatan		; arctangent
              		defb	0x24
              	.endm
              	
              	.macro	flogn		; natural logarithm
              		defb	0x25
              	.endm
              	
              	.macro	fexp		; exponential
              		defb	0x26
              	.endm
              	
              	.macro	fint		; integer (rounded down)
              		defb	0x27
              	.endm
              	
              	.macro	fsqrt		; square root
              		defb	0x28
              	.endm
              	
              	.macro	fsgn		; signum
              		defb	0x29
              	.endm
              	
              	.macro	fabs		; absolute value
              		defb	0x2a
              	.endm
              	
              	.macro	fpeek		; PEEK
              		defb	0x2b
              	.endm
              	
              	.macro	fin		; IN
              		defb	0x2c
              	.endm
              	
              	.macro	fusr		; user address
              		defb	0x2d
              	.endm
              	
              	.macro	fstrs		; string
              		defb	0x2e
              	.endm
              	
              	.macro	fchrs		; character
              		defb	0x2f
              	.endm
              	
              	.macro	fnot		; not
              		defb	0x30
              	.endm
              	
              	.macro	fmove		; move
              		defb	0x31
              	.endm
              	
              	.macro	fmod		; modulus
              		defb	0x32
              	.endm
              	
              	.macro	fjp	n	; jump
              		defb	0x33, \n - $
              	.endm
              	
              	.macro	fstk		; stack data
              		defb	0x34
              	.endm
              	
              	.macro	fdjnz	n	; djnz
              		defb	0x35, \n - $
              	.endm
              	
              	.macro	fce		; chip enable
              		defb	0x38
              	.endm
              	
              	.macro	fget		; get
              		defb	0x39
              	.endm
              	
              	.macro	ftrn		; truncate
              		defb	0x3a
              	.endm
              	
              	.macro	fsgl		; single operation
              		defb	0x3b
              	.endm
              	
              	.macro	fetof		; e to floating-point
              		defb	0x3c
              	.endm
              	
              	.macro	frstk		; restack
              		defb	0x3d
              	.endm
              	
              	.macro	fstk0		; stack 0
              		defb	0xa0
              	.endm
              	
              	.macro	fstk1		; stack 1
              		defb	0xa1
              	.endm
              	
              	.macro	fstk_5		; stack half
              		defb	0xa2
              	.endm
              	
              	.macro	fstkpix_5	; stack pi/2
              		defb	0xa3
              	.endm
              	
              	.macro	fstk10		; stack 10
              		defb	0xa4
              	.endm
              	
              	.macro	fst	n	; store (mem 0-5)
              		defb	0xc0 + \n
              	.endm
              	
              	.macro	fgt	n	; get (mem 0-5)
              		defb	0xe0 + \n
              	.endm
              	
              	
              	; colours
              	
0000:         	black			equ	0x00
0001:         	blue			equ	0x01
0002:         	red				equ	0x02
0003:         	magenta			equ	0x03
0004:         	green			equ	0x04
0005:         	cyan			equ	0x05
0006:         	yellow			equ	0x06
0007:         	white			equ	0x07
              	
              	
              	; control characters
              	
0004:         	ctrl_true_vid	equ	0x04
0005:         	ctrl_inv_vid	equ	0x05
0006:         	ctrl_caps		equ	0x06
0006:         	ctrl_comma		equ	0x06
0007:         	ctrl_edit		equ	0x07
0008:         	ctrl_left		equ	0x08
0009:         	ctrl_right		equ	0x09
000A:         	ctrl_down		equ	0x0a
000B:         	ctrl_up			equ	0x0b
000C:         	ctrl_rubout		equ	0x0c
000D:         	ctrl_n_l		equ	0x0d
000E:         	ctrl_symbol		equ	0x0e
000E:         	ctrl_number		equ	0x0e
000F:         	ctrl_graphics	equ	0x0f
0010:         	ctrl_pen		equ	0x10
0011:         	ctrl_paper		equ	0x11
0012:         	ctrl_flash		equ	0x12
0013:         	ctrl_bright		equ	0x13
0014:         	ctrl_inverse	equ	0x14
0015:         	ctrl_over		equ	0x15
0016:         	ctrl_at			equ	0x16
0017:         	ctrl_tab		equ	0x17
              	
              	
              	; printable characters
              	
0060:         	pchr_pound		equ	'`'
007F:         	pchr_copyright	equ	0x7f
              	
              	
              	;canned tokens
              	
0000:         	ctk_out			equ	0x00
0001:         	ctk_lprint		equ	0x01
0002:         	ctk_llist		equ	0x02
0003:         	ctk_stop		equ	0x03
0004:         	ctk_read		equ	0x04
0005:         	ctk_data		equ	0x05
0006:         	ctk_restore		equ	0x06
0007:         	ctk_new			equ	0x07
              	
              	; 0x08 - still used as backspace
              	
0009:         	ctk_continue	equ	0x09
000A:         	ctk_dim			equ	0x0a
000B:         	ctk_rem			equ	0x0b
000C:         	ctk_for			equ	0x0c
              	
              	; 0x0d - still used as enter 
              	
000E:         	ctk_gosub		equ	0x0e
000F:         	ctk_input		equ	0x0f
0010:         	ctk_load		equ	0x10
0011:         	ctk_list		equ	0x11
0012:         	ctk_let			equ	0x12
0013:         	ctk_pause		equ	0x13
0014:         	ctk_next		equ	0x14
0015:         	ctk_poke		equ	0x15
0016:         	ctk_print		equ	0x16
0017:         	ctk_plot		equ	0x17
0018:         	ctk_run			equ	0x18
0019:         	ctk_save		equ	0x19
001A:         	ctk_randomize	equ	0x1a
001B:         	ctk_if			equ	0x1b
001C:         	ctk_cls			equ	0x1c
001D:         	ctk_draw		equ	0x1d
001E:         	ctk_clear		equ	0x1e
001F:         	ctk_return		equ	0x1f
              	
              	
              	; tokens
              	
00A5:         	tk_rnd			equ	0xa5
00A6:         	tk_inkey_str	equ	0xa6
00A7:         	tk_pi			equ	0xa7
00A8:         	tk_fn			equ	0xa8
00A9:         	tk_point		equ	0xa9
00AA:         	tk_screen_str	equ	0xaa
00AB:         	tk_attr			equ	0xab
00AC:         	tk_at			equ	0xac
00AD:         	tk_tab			equ	0xad
00AE:         	tk_val_str		equ	0xae
00AF:         	tk_code			equ	0xaf
00B0:         	tk_val			equ	0xb0
00B1:         	tk_len			equ	0xb1
00B2:         	tk_sin			equ	0xb2
00B3:         	tk_cos			equ	0xb3
00B4:         	tk_tan			equ	0xb4
00B5:         	tk_asn			equ	0xb5
00B6:         	tk_acs			equ	0xb6
00B7:         	tk_atn			equ	0xb7
00B8:         	tk_ln			equ	0xb8
00B9:         	tk_exp			equ	0xb9
00BA:         	tk_int			equ	0xba
00BB:         	tk_sqr			equ	0xbb
00BC:         	tk_sgn			equ	0xbc
00BD:         	tk_abs			equ	0xbd
00BE:         	tk_peek			equ	0xbe
00BF:         	tk_in			equ	0xbf
00C0:         	tk_usr			equ	0xc0
00C1:         	tk_str_str		equ	0xc1
00C2:         	tk_chr_str		equ	0xc2
00C3:         	tk_not			equ	0xc3
00C4:         	tk_bin			equ	0xc4
00C5:         	tk_or			equ	0xc5
00C6:         	tk_and			equ	0xc6
00C7:         	tk_l_eql		equ	0xc7
00C8:         	tk_gr_eq		equ	0xc8
00C9:         	tk_neql			equ	0xc9
00CA:         	tk_line			equ	0xca
00CB:         	tk_then			equ	0xcb
00CC:         	tk_to			equ	0xcc
00CD:         	tk_step			equ	0xcd
00CE:         	tk_deffn		equ	0xce
00CF:         	tk_dir			equ	0xcf
00D0:         	tk_format		equ	0xd0
00D1:         	tk_move			equ	0xd1
00D2:         	tk_erase		equ	0xd2
00D3:         	tk_open			equ	0xd3
00D4:         	tk_close		equ	0xd4
00D5:         	tk_merge		equ	0xd5
00D6:         	tk_verify		equ	0xd6
00D7:         	tk_beep			equ	0xd7
00D8:         	tk_circle		equ	0xd8
00D9:         	tk_pen			equ	0xd9
00DA:         	tk_paper		equ	0xda
00DB:         	tk_flash		equ	0xdb
00DC:         	tk_bright		equ	0xdc
00DD:         	tk_inverse		equ	0xdd
00DE:         	tk_over			equ	0xde
00DF:         	tk_out			equ	0xdf
00E0:         	tk_lprint		equ	0xe0
00E1:         	tk_llist		equ	0xe1
00E2:         	tk_stop			equ	0xe2
00E3:         	tk_read			equ	0xe3
00E4:         	tkdata			equ	0xe4
00E5:         	tk_restore		equ	0xe5
00E6:         	tk_new			equ	0xe6
00E7:         	tk_border		equ	0xe7
00E8:         	tk_continue		equ	0xe8
00E9:         	tk_dim			equ	0xe9
00EA:         	tk_rem			equ	0xea
00EB:         	tk_for			equ	0xeb
00EC:         	tk_goto			equ	0xec
00ED:         	tk_gosub		equ	0xed
00EE:         	tk_input		equ	0xee
00EF:         	tk_load			equ	0xef
00F0:         	tk_list			equ	0xf0
00F1:         	tk_let			equ	0xf1
00F2:         	tk_pause		equ	0xf2
00F3:         	tk_next			equ	0xf3
00F4:         	tk_poke			equ	0xf4
00F5:         	tk_print		equ	0xf5
00F6:         	tk_plot			equ	0xf6
00F7:         	tk_run			equ	0xf7
00F8:         	tk_save			equ	0xf8
00F9:         	tk_randomize	equ	0xf9
00FA:         	tk_if			equ	0xfa
00FB:         	tk_cls			equ	0xfb
00FC:         	tk_draw			equ	0xfc
00FD:         	tk_clear		equ	0xfd
00FE:         	tk_return		equ	0xfe
00FF:         	tk_copy			equ	0xff
0000:         	tk_delete		equ	0x00
0001:         	tk_edit			equ	0x01
0002:         	tk_renum		equ	0x02
0003:         	tk_palette		equ	0x03
0004:         	tk_sound		equ	0x04
0005:         	tk_onerr		equ	0x05
              	
              	
              	; i/o ports
              	
00FE:         	ula				equ	0xfe
00FF:         	scld			equ	0xff
C0F5:         	ay_reg			equ	0xc0f5
00F6:         	ay_tmxdat		equ	0x00f6
BFFD:         	ay_128dat		equ	0xbffd
BF3B:         	ulaplus_reg		equ	0xbf3b
FF3B:         	ulaplus_dat		equ	0xff3b
              	
              	
              	; restarts
              	
0000:         	start			equ	0x00
0008:         	error_1			equ	0x08
0010:         	print_a			equ	0x10
0018:         	get_ch			equ	0x18
0020:         	next_ch			equ	0x20
0028:         	fp_calc			equ	0x28
0030:         	bc_spaces		equ	0x30
0038:         	interrupt		equ	0x38
              	
              	
              	; command classes
              	
0000:         	no_f_ops		equ	0x00
0001:         	var_rqd			equ	0x01
0002:         	expr_num_str	equ	0x02
0003:         	num_exp_0		equ	0x03
0004:         	chr_var			equ	0x04
0005:         	var_syn			equ	0x05
0006:         	num_exp			equ	0x06
0007:         	col_offst		equ	0x07
0008:         	two_c_s_num		equ	0x08
0009:         	two_csn_col		equ	0x09
000A:         	str_exp			equ	0x0a
000B:         	tap_offst		equ	0x0b
000C:         	numexp_nofops	equ	0x0c
              	
              	
              	; errors
              	
00FF:         	OK						equ	0xff
0000:         	NEXT_without_FOR		equ	0x00
0001:         	Undefined_variable		equ	0x01
0002:         	Bad_subscript			equ	0x02
0003:         	Out_of_memory			equ	0x03
0004:         	Off_screen				equ	0x04
0005:         	Number_too_large		equ	0x05
0006:         	RETURN_without_GOSUB	equ	0x06
0007:         	End_of_file				equ	0x07
0008:         	STOP_statement			equ	0x08
0009:         	Bad_argument			equ	0x09
000A:         	Integer_out_of_range	equ	0x0a
000B:         	Syntax_error			equ	0x0b
000C:         	BREAK_CONTINUE_repeats	equ	0x0c
000D:         	End_of_DATA				equ	0x0d
000E:         	Bad_filename			equ	0x0e
000F:         	No_room_for_line		equ	0x0f
0010:         	STOP_in_INPUT			equ	0x10
0011:         	FOR_without_NEXT		equ	0x11
0012:         	Bad_device				equ	0x12
0013:         	Bad_colour				equ	0x13
0014:         	BREAK_into_program		equ	0x14
0015:         	Bad_CLEAR_address		equ	0x15
0016:         	Missing_statement		equ	0x16
0017:         	Bad_stream				equ	0x17
0018:         	Undefined_FN			equ	0x18
0019:         	Parameter_error			equ	0x19
001A:         	Loading_error			equ	0x1a
              	
              	
              	; system variables
              	
4000:         	bitmap			equ	0x4000
5800:         	attrmap			equ	0x5800
5B00:         	palbuf			equ	0x5b00
              	
5BFE:         	oldsp			equ	0x5bfe		; (iy - 0x38)
5C00:         	kstate			equ	oldsp + 2	; (iy - 0x3a)
5C04:         	kstate_4		equ	kstate + 4	; (iy - 0x36)
5C08:         	lastk			equ	kstate + 8	; (iy - 0x32)
5C09:         	repdel			equ	lastk + 1	; (iy - 0x31)
5C0A:         	repper			equ	repdel + 1	; (iy - 0x30)
5C0B:         	defadd			equ	repper + 1	; (iy - 0x2f)
5C0C:         	defadd_h		equ	defadd + 1	; (iy - 0x2e)
5C0D:         	kdata			equ	defadd + 2	; (iy - 0x2d)
5C0E:         	vdudata			equ	kdata + 1	; (iy - 0x2c)
5C0F:         	vdudata_h		equ	vdudata + 1	; (iy - 0x2b)
5C10:         	strms			equ	vdudata + 2	; (iy - 0x2a)
5C12:         	strms_fe		equ	strms + 2	; (iy - 0x28)
5C14:         	strms_ff		equ	strms + 4	; (iy - 0x26)
5C16:         	strms_00		equ	strms + 6	; (iy - 0x24)
5C18:         	strms_01		equ	strms + 8	; (iy - 0x22)
5C1A:         	strms_02		equ	strms + 10	; (iy - 0x20)
5C1C:         	strms_03		equ	strms + 12	; (iy - 0x1e)
5C1E:         	strms_04		equ	strms + 14	; (iy - 0x1c)
5C20:         	strms_05		equ	strms + 16	; (iy - 0x1a)
5C22:         	strms_06		equ	strms + 18	; (iy - 0x18)
5C24:         	strms_07		equ	strms + 20	; (iy - 0x16)
5C26:         	strms_08		equ	strms + 22	; (iy - 0x14)
5C28:         	strms_09		equ	strms + 24	; (iy - 0x12)
5C2A:         	strms_10		equ	strms + 26	; (iy - 0x10)
5C2C:         	strms_11		equ	strms + 28	; (iy - 0x0e)
5C2E:         	strms_12		equ	strms + 30	; (iy - 0x0c)
5C30:         	strms_13		equ	strms + 32	; (iy - 0x0a)
5C32:         	strms_14		equ	strms + 34	; (iy - 0x08)
5C34:         	strms_15		equ	strms + 36	; (iy - 0x06)
5C36:         	chars			equ	strms + 38	; (iy - 0x04)
5C38:         	errsound		equ	chars + 2	; (iy - 0x02)
5C39:         	click			equ	errsound + 1; (iy - 0x01)
5C3A:         	errnr			equ	click + 1	; (iy + 0x00)
5C3B:         	flags			equ	errnr + 1	; (iy + 0x01)
5C3C:         	dflag			equ	flags + 1	; (iy + 0x02)
5C3D:         	errsp			equ	dflag + 1	; (iy + 0x03)
5C3F:         	listsp			equ	errsp + 2	; (iy + 0x05)
5C41:         	mode			equ	listsp + 2	; (iy + 0x07)
5C42:         	newppc			equ	mode + 1	; (iy + 0x08)
5C44:         	nsppc			equ	newppc + 2	; (iy + 0x0a)
5C45:         	ppc				equ	nsppc + 1	; (iy + 0x0b)
5C47:         	subppc			equ	ppc + 2		; (iy + 0x0d)
5C48:         	bordcr			equ	subppc + 1	; (iy + 0x0e)
5C49:         	eppc			equ	bordcr + 1	; (iy + 0x0f)
5C4A:         	eppc_h			equ	eppc + 1	; (iy + 0x10)
5C4B:         	vars			equ	eppc + 2	; (iy + 0x11)
5C4D:         	dest			equ	vars + 2	; (iy + 0x13)
5C4F:         	chans			equ	dest + 2	; (iy + 0x15)
5C51:         	curchl			equ	chans + 2	; (iy + 0x17)
5C53:         	prog			equ	curchl + 2	; (iy + 0x19)
5C55:         	nxtline			equ	prog + 2	; (iy + 0x1b)
5C57:         	datadd			equ	nxtline + 2	; (iy + 0x1d)
5C59:         	eline			equ	datadd + 2	; (iy + 0x1f)
5C5B:         	kcur			equ	eline	+2	; (iy + 0x21)
5C5D:         	chadd			equ	kcur + 2	; (iy + 0x23)
5C5F:         	xptr			equ	chadd + 2	; (iy + 0x25)
5C61:         	worksp			equ	xptr + 2	; (iy + 0x27)
5C63:         	stkbot			equ	worksp + 2	; (iy + 0x29)
5C65:         	stkend			equ	stkbot + 2	; (iy + 0x2b)
5C66:         	stkend_h		equ	stkend + 1	; (iy + 0x2c)
5C67:         	breg			equ	stkend + 2	; (iy + 0x2d)
5C68:         	mem				equ	breg + 1	; (iy + 0x2e)
5C6A:         	klflag			equ	mem + 2		; (iy + 0x30)
5C6B:         	dfsz			equ	klflag + 1	; (iy + 0x31)
5C6C:         	sdtop			equ	dfsz + 1	; (iy + 0x32)
5C6E:         	coppc			equ	sdtop + 2	; (iy + 0x34)
5C70:         	cosppc			equ	coppc + 2	; (iy + 0x36)
5C71:         	flage			equ	cosppc + 1	; (iy + 0x37)
5C72:         	stril			equ	flage + 1	; (iy + 0x38)
5C74:         	taddr			equ	stril + 2	; (iy + 0x3a)
5C76:         	seed			equ	taddr + 2	; (iy + 0x3c)
5C78:         	frames			equ	seed + 2	; (iy + 0x3e)
5C7A:         	frames_h		equ	frames + 2	; (iy + 0x40)
5C7B:         	udg				equ	frames + 3	; (iy + 0x41)
5C7D:         	xcoord			equ	udg + 2		; (iy + 0x43)
5C7E:         	ycoord			equ	xcoord + 1	; (iy + 0x44)
5C7F:         	onerrflag		equ	xcoord + 2	; (iy + 0x45)
5C80:         	onerrflag_h		equ	xcoord + 3	; (iy + 0x46)
5C81:         	user			equ	onerrflag + 2;(iy + 0x47)
5C82:         	echoe			equ	user + 1	; (iy + 0x48)
5C84:         	dfcc			equ	echoe + 2	; (iy + 0x4a)
5C86:         	dfccl			equ	dfcc + 2	; (iy + 0x4c)
5C88:         	sposnu			equ	dfccl + 2	; (iy + 0x4e)
5C89:         	sposnu_h		equ	sposnu + 1	; (iy + 0x4f)
5C8A:         	sposnl			equ	sposnu + 2	; (iy + 0x50)
5C8B:         	sposnl_h		equ	sposnl + 1	; (iy + 0x51)
5C8C:         	scrct			equ	sposnl + 2	; (iy + 0x52)
5C8D:         	attrp			equ	scrct + 1	; (iy + 0x53)
5C8E:         	maskp			equ	attrp + 1	; (iy + 0x54)
5C8F:         	attrt			equ	maskp + 1	; (iy + 0x55)
5C90:         	maskt			equ	attrt + 1	; (iy + 0x56)
5C91:         	pflag			equ	maskt + 1	; (iy + 0x57)
5C92:         	membot			equ	pflag + 1	; (iy + 0x58)
5C93:         	mem_0_1			equ	membot + 1	; (iy + 0x59)
5C94:         	mem_0_2			equ	membot + 2	; (iy + 0x5a)
5C95:         	mem_0_3			equ	membot + 3	; (iy + 0x5b)
5C96:         	mem_0_4			equ	membot + 4	; (iy + 0x5c)
5C97:         	mem_1			equ	membot + 5	; (iy + 0x5d)
5C98:         	mem_1_1			equ	membot + 6	; (iy + 0x5e)
5C99:         	mem_1_2			equ	membot + 7	; (iy + 0x5f)
5C9A:         	mem_1_3			equ	membot + 8	; (iy + 0x60)
5C9B:         	mem_1_4			equ	membot + 9	; (iy + 0x61)
5C9C:         	mem_2			equ	membot + 10	; (iy + 0x62)
5C9D:         	mem_2_1			equ	membot + 11	; (iy + 0x63)
5C9E:         	mem_2_2			equ	membot + 12	; (iy + 0x64)
5C9F:         	mem_2_3			equ	membot + 13	; (iy + 0x65)
5CA0:         	mem_2_4			equ	membot + 14	; (iy + 0x66)
5CA1:         	mem_3			equ	membot + 15	; (iy + 0x67)
5CA1:         	mem_3_1			equ	membot + 15	; (iy + 0x68)
5CA3:         	mem_3_2			equ	membot + 17	; (iy + 0x69)
5CA4:         	mem_3_3			equ	membot + 18	; (iy + 0x6a)
5CA5:         	mem_3_4			equ	membot + 19	; (iy + 0x6b)
5CA6:         	mem_4			equ	membot + 20	; (iy + 0x6c)
5CA7:         	mem_4_1			equ	membot + 21	; (iy + 0x6d)
5CA8:         	mem_4_2			equ	membot + 22	; (iy + 0x6e)
5CA9:         	mem_4_3			equ	membot + 23	; (iy + 0x6f)
5CAA:         	mem_4_4			equ	membot + 24	; (iy + 0x70)
5CAB:         	mem_5			equ	membot + 25	; (iy + 0x71)
5CAC:         	mem_5_1			equ	membot + 26	; (iy + 0x72)
5CAD:         	mem_5_2			equ	membot + 27	; (iy + 0x73)
5CAE:         	mem_5_3			equ	membot + 28	; (iy + 0x74)
5CAF:         	mem_5_4			equ	membot + 29	; (iy + 0x75)
5CB0:         	nmiadd			equ	membot + 30	; (iy + 0x76)
5CB2:         	ramtop			equ	nmiadd + 2	; (iy + 0x78)
5CB4:         	pramt			equ	ramtop + 2	; (iy + 0x7a)
5CB6:         	channels		equ	pramt + 2
              	
              	
              	; system variable IY offsets
              	
              	; negative
              	
0038:         	_oldsp			equ 0x38
003A:         	_kstate			equ	0x3a
0036:         	_kstate_4		equ	0x36
0032:         	_lastk			equ	0x32
0031:         	_repdel			equ	0x31
0030:         	_repper			equ	0x30
002F:         	_defadd			equ	0x2f
002E:         	_defadd_h		equ	0x2e
002D:         	_kdata			equ	0x2d
002C:         	_vdudata		equ	0x2c
002B:         	_vdudata_h		equ	0x2b
002A:         	_strms			equ	0x2a
0028:         	_strms_fe		equ	0x28
0026:         	_strms_ff		equ	0x26
0024:         	_strms_00		equ	0x24
0022:         	_strms_01		equ	0x22
0020:         	_strms_02		equ	0x20
001E:         	_strms_03		equ	0x1e
001C:         	_strms_04		equ	0x1c
001A:         	_strms_05		equ	0x1a
0018:         	_strms_06		equ	0x18
0016:         	_strms_07		equ	0x16
0014:         	_strms_08		equ	0x14
0012:         	_strms_09		equ	0x12
0010:         	_strms_10		equ	0x10
000E:         	_strms_11		equ	0x0e
000C:         	_strms_12		equ	0x0c
000A:         	_strms_13		equ	0x0a
0008:         	_strms_14		equ	0x08
0006:         	_strms_15		equ	0x06
0004:         	_chars			equ	0x04
0002:         	_errsound		equ	0x02
0001:         	_click			equ	0x01
              	
              	; positive
              	
0000:         	_errnr			equ	0x00
0001:         	_flags			equ	0x01
0002:         	_dflag			equ	0x02
0003:         	_errsp			equ	0x03
0005:         	_listsp			equ	0x05
0007:         	_mode			equ	0x07
0008:         	_newppc			equ	0x08
000A:         	_nsppc			equ	0x0a
000B:         	_ppc			equ	0x0b
000D:         	_subppc			equ	0x0d
000E:         	_bordcr			equ	0x0e
000F:         	_eppc			equ	0x0f
0010:         	_eppc_h			equ	0x10
0011:         	_vars			equ	0x11
0013:         	_dest			equ	0x13
0015:         	_chans			equ	0x15
0017:         	_curchl			equ	0x17
0019:         	_prog			equ	0x19
001B:         	_nxtline		equ	0x1b
001D:         	_datadd			equ	0x1d
001F:         	_eline			equ	0x1f
0021:         	_kcur			equ	0x21
0022:         	_kcur_h			equ	0x22
0023:         	_chadd			equ	0x23
0025:         	_xptr			equ	0x25
0026:         	_xptr_h			equ	0x26
0027:         	_worksp			equ	0x27
0029:         	_stkbot			equ	0x29
002B:         	_stkend			equ	0x2b
002C:         	_stkend_h		equ	0x2c
002D:         	_breg			equ	0x2d
002E:         	_mem			equ	0x2e
0030:         	_klflag			equ	0x30
0031:         	_dfsz			equ	0x31
0032:         	_sdtop			equ	0x32
0034:         	_coppc			equ	0x34
0036:         	_cosppc			equ	0x36
0037:         	_flage			equ	0x37
0038:         	_stril			equ	0x38
003A:         	_taddr			equ	0x3a
003C:         	_seed			equ	0x3c
003E:         	_frames			equ	0x3e
0040:         	_frames_h		equ	0x40
0041:         	_udg			equ	0x41
0043:         	_xcoord			equ	0x43
0044:         	_ycoord			equ	0x44
0045:         	_onerrflag		equ	0x45
0046:         	_onerrflag_h	equ	0x46
0047:         	_user			equ	0x47
0048:         	_echoe			equ	0x48
004A:         	_dfcc			equ	0x4a
004C:         	_dfccl			equ	0x4c
004E:         	_sposnu			equ	0x4e
004F:         	_sposnu_h		equ	0x4f
0050:         	_sposnl			equ	0x50
0051:         	_sposnl_h		equ	0x51
0052:         	_scrct			equ	0x52
0053:         	_attrp			equ	0x53
0054:         	_maskp			equ	0x54
0055:         	_attrt			equ	0x55
0056:         	_maskt			equ	0x56
0057:         	_pflag			equ	0x57
0058:         	_membot			equ	0x58
0059:         	_mem_0_1		equ	0x59
005A:         	_mem_0_2		equ	0x5a
005B:         	_mem_0_3		equ	0x5b
005C:         	_mem_0_4		equ	0x5c
005D:         	_mem_1			equ	0x5d
005E:         	_mem_1_1		equ	0x5e
005F:         	_mem_1_2		equ	0x5f
0060:         	_mem_1_3		equ	0x60
0061:         	_mem_1_4		equ	0x61
0062:         	_mem_2			equ	0x62
0063:         	_mem_2_1		equ	0x63
0064:         	_mem_2_2		equ	0x64
0065:         	_mem_2_3		equ	0x65
0066:         	_mem_2_4		equ	0x66
0067:         	_mem_3			equ	0x67
0068:         	_mem_3_1		equ	0x68
0069:         	_mem_3_2		equ	0x69
006A:         	_mem_3_3		equ	0x6a
006B:         	_mem_3_4		equ	0x6b
006C:         	_mem_4			equ	0x6c
006D:         	_mem_4_1		equ	0x6d
006E:         	_mem_4_2		equ	0x6e
006F:         	_mem_4_3		equ	0x6f
0070:         	_mem_4_4		equ	0x70
0071:         	_mem_5			equ	0x71
0072:         	_mem_5_1		equ	0x72
0073:         	_mem_5_2		equ	0x73
0074:         	_mem_5_3		equ	0x74
0075:         	_mem_5_4		equ	0x75
0076:         	_nmiadd			equ	0x76
0078:         	_ramtop			equ	0x78
007A:         	_pramt			equ	0x7a
              	
0CF7:         	initpal equ 0x0cf7					; code used as palette data
              	
0000:         	_start:
0000: F3      		di								;
0001: AF      		xor		a						;
0002: C3A703  		jp		ram_check				; zx81
0005: 00      		nop								; se
0006: 00      		nop								;
              										;
0007:         	l0007:								;
0007: C7      		rst		start					;
              				
0008:         	_error_1:							; zx81
0008: 2A5D5C  		ld		hl, (chadd)				;
000B: 225F5C  		ld		(xptr), hl				;
000E: 1803    		jr		l0013					; se
              	
0010:         	_print_a:							; zx81
0010: C3F215  		jp		print_sp				;
              	
0013:         	l0013:								; se
0013: 225B5C  		ld		(kcur), hl				;
0016: 183B    		jr		error_2					; zx81
              										;
0018:         	_get_ch:							;
0018: 2A5D5C  		ld		hl, (chadd)				;
001B: 7E      		ld		a, (hl)					;
              	
001C:         	test_sp:
001C: CD7D00  		call	l007d
001F: D0      		ret		nc
              	
0020:         	_next_ch:							; zx81
0020: CD7400  		call	ch_add_1				;
0023: 18F7    		jr		test_sp					;
              	
0025:         	l0025:								; se
0025: 333132  		defb	"312"					; version 3.1.2
              	
0028:         	_fp_calc:							; zx81
0028: C36233  		jp		calculate				;
              	
002B:         	l002b:								; se
002B: 5345    		defb	"SE"					; Test this location to check if
              										; SE BASIC is present
              										;
002D:         	bc_spaces1:							;
002D: 010100  		ld		bc, 1					;
              	
0030:         	_bc_spaces:							; zx81
0030: C5      		push	bc						;
0031: 2A615C  		ld		hl, (worksp)			; was eline
0034: E5      		push	hl						;
0035: C39E16  		jp		reserve					;
              	
0038:         	_interrupt:
0038: E5      		push	hl
0039: F5      		push	af
003A: 21785C  		ld		hl, frames				; se
003D: 34      		inc		(hl)					;
003E: 2006    		jr		nz, anyi				;
0040: 2C      		inc		l						;
0041: 34      		inc		(hl)					;
0042: 2002    		jr		nz, anyi				;
0044: 2C      		inc		l						;
0045: 34      		inc		(hl)					;
              	
0046:         	anyi:
0046: D5      		push	de
0047: C5      		push	bc
0048: CDBF02  		call	l02bf
004B: C1      		pop		bc
004C: D1      		pop		de						; sam
004D: F1      		pop		af						;
004E: E1      		pop		hl						;
004F: FB      		ei								;
0050: C9      		ret								;
              	
0051:         	l0051:								; se
0051: 4A47    		defb	"JG"					;
              	
0053:         	error_2:							; zx81
0053: E1      		pop		hl						;
0054: 6E      		ld		l, (hl)					;
              										;
0055:         	error_3:							;
0055: FD7500  		ld		(iy + _errnr), l		;
0058: ED7B3D5C		ld		sp, (errsp)				;
005C: C3C516  		jp		set_mem
              	
005F:         	l005f:								; se
005F: FDCB01C6		set		0, (iy + _flags)		;
0063: C3AF0D  		jp		l0daf					;
              	
0066:         	nmi:								; sam
0066: F5      		push	af						;
0067: E5      		push	hl						;
0068: 2AB05C  		ld		hl, (nmiadd)			;
006B: 7C      		ld		a, h					;
006C: B5      		or		l						;
006D: 2801    		jr		z, nmi_ret				; se
006F: E9      		jp		(hl)
              	
0070:         	nmi_ret:							; sam
0070: E1      		pop		hl						;
0071: F1      		pop		af						;
0072: ED45    		retn							;
              	
0074:         	ch_add_1:							; zx81
0074: 2A5D5C  		ld		hl, (chadd)				;
              										;
0077:         	cursor_so:							;
0077: 23      		inc		hl						;
              										;
0078:         	temp_ptr:							;
0078: 225D5C  		ld		(chadd), hl				;
007B: 7E      		ld		a, (hl)					;
007C: C9      		ret
              	
007D:         	l007d:								; se
007D: FE20    		cp		' '						;
007F: 37      		scf								;
0080: C8      		ret		z						;
0081: FE18    		cp		24						;
0083: D0      		ret		nc						;
0084: FE0D    		cp		ctrl_n_l				;
0086: C8      		ret		z						;
0087: FE06    		cp		6						;
0089: 3F      		ccf								;
008A: D0      		ret		nc						;
008B: FE10    		cp		ctrl_pen				;
008D: D8      		ret		c						;
008E: 23      		inc		hl						;
008F: FE16    		cp		ctrl_at					;
0091: 3801    		jr		c, l0094				;
0093: 23      		inc		hl						;
              										;
0094:         	l0094:								;
0094: 37      		scf								;
0095: 225D5C  		ld		(chadd), hl				;
0098: C9      		ret								;
              										;
0099:         	l0099:								;
0099: 7E      		ld		a, (hl)					;
009A: FE0D    		cp		0x0d					;
009C: C8      		ret		z						;
009D: CD0E10  		call	l100e					;
00A0: FE15    		cp		0x15					;
00A2: D0      		ret		nc						;
00A3: FE10    		cp		0x10					;
00A5: D20E10  		jp		nc, l100e				;
00A8: C9      		ret								;
              	
00A9:         	k_token:							; zx81, sam, se
00A9: 524EC449		incbin		"data/tokens.txt"		;
00AD: 4E4B4559	
00B1: A450C946	
00B5: CE504F49	
00B9: 4ED45343	
00BD: 5245454E	
00C1: A4415454	
00C5: D241D454	
00C9: 41C25641	
00CD: 4CA4434F	
00D1: 44C55641	
00D5: CC4C45CE	
00D9: 5349CE43	
00DD: 4FD35441	
00E1: CE4153CE	
00E5: 4143D341	
00E9: 54CE4CCE	
00ED: 4558D049	
00F1: 4ED45351	
00F5: D25347CE	
00F9: 4142D350	
00FD: 4545CB49	
0101: CE5553D2	
0105: 535452A4	
0109: 434852A4	
010D: 4E4FD442	
0111: 49CE4FD2	
0115: 414EC43C	
0119: BD3EBD3C	
011D: BE4C494E	
0121: C5544845	
0125: CE54CF53	
0129: 5445D044	
012D: 45462046	
0131: CE4449D2	
0135: 464F524D	
0139: 41D44D4F	
013D: 56C54552	
0141: 4153C54F	
0145: 50454E20	
0149: A3434C4F	
014D: 534520A3	
0151: 4D455247	
0155: C5564552	
0159: 4946D942	
015D: 4545D043	
0161: 4952434C	
0165: C55045CE	
0169: 50415045	
016D: D2464C41	
0171: 53C84252	
0175: 494748D4	
0179: 494E5645	
017D: 5253C54F	
0181: 5645D24F	
0185: 55D44C50	
0189: 52494ED4	
018D: 4C4C4953	
0191: D453544F	
0195: D0524541	
0199: C4444154	
019D: C1524553	
01A1: 544F52C5	
01A5: 4E45D742	
01A9: 4F524445	
01AD: D2434F4E	
01B1: 54494E55	
01B5: C54449CD	
01B9: 5245CD46	
01BD: 4FD2474F	
01C1: 54CF474F	
01C5: 5355C249	
01C9: 4E5055D4	
01CD: 4C4F41C4	
01D1: 4C4953D4	
01D5: 4C45D450	
01D9: 415553C5	
01DD: 4E4558D4	
01E1: 504F4BC5	
01E5: 5052494E	
01E9: D4504C4F	
01ED: D45255CE	
01F1: 534156C5	
01F5: 52414E44	
01F9: 4F4D495A	
01FD: C549C643	
0201: 4CD34452	
0205: 41D7434C	
0209: 4541D252	
020D: 45545552	
0211: CE43414C	
0215: CC44454C	
0219: 4554C545	
021D: 4449D452	
0221: 454E55CD	
0225: 50414C45	
0229: 5454C553	
022D: 4F554EC4	
0231: 4F4E2045	
0235: 52524FD2	
              	
0239:         	k_unshifted:						; sam
0239: 42485936		incbin		"data/unshifted.txt"		;
023D: 35544756	
0241: 4E4A5537	
0245: 34524643	
0249: 4D4B4938	
024D: 33454458	
0251: 0E4C4F39	
0255: 3257535A	
0259: 200D5030	
025D: 315141  	
              	
0260:         	k_shifted:
0260: 0C070604		defb	ctrl_rubout, ctrl_edit, ctrl_caps, ctrl_true_vid
0264: 05080A0B		defb	ctrl_inv_vid, ctrl_left, ctrl_down, ctrl_up, ctrl_right
0268: 09      	
0269: 0F      		defb	ctrl_graphics
              	
026A:         	k_function:							; se
026A: 7E2A3F5C		incbin		"data/alphasym.txt"		;
026E: F77B7D5E	
0272: 7F2D2B3D	
0276: 2E2C3B22	
027A: EF3C7C3E	
027E: 5D2FAF60	
0282: 5B3A    	
              										;
0284:         	k_graphic:							;
0284: 5F214023		incbin		"data/numsym.txt"		;
0288: 24252627	
028C: 2829    	
              	
028E:         	keyboard:							; se
028E: 2E2F    		ld		l, 47					;
0290: 11FFFF  		ld		de, 0xffff
0293: 01FEFE  		ld		bc, 0xfefe				; zx81
              										;
0296:         	l0296:								;
0296: ED78    		in		a, (c)					;
0298: 2F      		cpl
0299: E61F    		and		%00011111
029B: 280E    		jr		z, l02ab
029D: 67      		ld		h, a
029E: 7D      		ld		a, l						
              	
029F:         	l029f:
029F: 14      		inc		d
02A0: C0      		ret		nz
              	
02A1:         	l02a1:
02A1: D608    		sub		8
02A3: CB3C    		srl		h
02A5: 30FA    		jr		nc, l02a1
02A7: 53      		ld		d, e
02A8: 5F      		ld		e, a
02A9: 20F4    		jr		nz, l029f
              	
02AB:         	l02ab:
02AB: 2D      		dec		l
02AC: CB00    		rlc		b
02AE: 38E6    		jr		c, l0296
02B0: 7A      		ld		a, d
02B1: 3C      		inc		a
02B2: C8      		ret		z
02B3: FE28    		cp		40
02B5: C8      		ret		z
02B6: FE19    		cp		25
02B8: C8      		ret		z
02B9: 7B      		ld		a, e
02BA: 5A      		ld		e, d
02BB: 57      		ld		d, a
02BC: FE18    		cp		24
02BE: C9      		ret
              	
02BF:         	l02bf:
02BF: CD8E02  		call	keyboard
02C2: C0      		ret		nz
02C3: 21005C  		ld		hl, kstate
              	
02C6:         	l02c6:
02C6: CB7E    		bit		7, (hl)
02C8: 2007    		jr		nz, l02d1
02CA: 23      		inc		hl
02CB: 35      		dec		(hl)
02CC: 2B      		dec		hl
02CD: 2002    		jr		nz, l02d1
02CF: 36FF    		ld		(hl), 255
              	
02D1:         	l02d1:
02D1: 7D      		ld		a, l
02D2: 21045C  		ld		hl, kstate_4
02D5: BD      		cp		l
02D6: 20EE    		jr		nz, l02c6
02D8: CD1E03  		call	l031e
02DB: D0      		ret		nc
02DC: 21005C  		ld		hl, kstate
02DF: BE      		cp		(hl)
02E0: 282E    		jr		z, l0310
02E2: EB      		ex		de, hl
02E3: 21045C  		ld		hl, kstate_4
02E6: BE      		cp		(hl)
02E7: 2827    		jr		z, l0310
02E9: CB7E    		bit		7, (hl)
02EB: 2004    		jr		nz, l02f1
02ED: EB      		ex		de, hl
02EE: CB7E    		bit		7, (hl)
02F0: C8      		ret		z
              	
02F1:         	l02f1:
02F1: 77      		ld		(hl), a
02F2: 5F      		ld		e, a
02F3: 23      		inc		hl
02F4: 3605    		ld		(hl), 5
02F6: 3A095C  		ld		a, (repdel)
02F9: 23      		inc		hl
02FA: 77      		ld		(hl), a
02FB: 23      		inc		hl
02FC: FD5601  		ld		d, (iy + _flags)
02FF: FD4E07  		ld		c, (iy + _mode)
0302: E5      		push	hl
0303: CD3303  		call	l0333
0306: E1      		pop		hl
0307: 77      		ld		(hl), a
              	
0308:         	l0308:
0308: FDCB01EE		set		5, (iy + _flags)
030C: 32085C  		ld		(lastk), a
030F: C9      		ret
              	
0310:         	l0310:
0310: 23      		inc		hl
0311: 3605    		ld		(hl), 5
0313: 23      		inc		hl
0314: 35      		dec		(hl)
0315: C0      		ret		nz
0316: 3A0A5C  		ld		a, (repper)
0319: 77      		ld		(hl), a
031A: 23      		inc		hl
031B: 7E      		ld		a, (hl)
031C: 18EA    		jr		l0308
              	
031E:         	l031e:
031E: 42      		ld		b, d
031F: 7B      		ld		a, e
0320: 1600    		ld		d, 0
0322: FE27    		cp		39
0324: D0      		ret		nc
0325: FE18    		cp		24
0327: 2003    		jr		nz, l032c
0329: CB78    		bit		7, b
032B: C0      		ret		nz
              	
032C:         	l032c:
032C: 213902  		ld		hl, k_unshifted
032F: 19      		add		hl, de
0330: 37      		scf
0331: 7E      		ld		a, (hl)
0332: C9      		ret
              	
0333:         	l0333:
0333: 7B      		ld		a, e
0334: FE3A    		cp		':'
0336: 3827    		jr		c, l035f
0338: 0D      		dec		c
0339: FA4B03  		jp		m, l034b
033C: 280D    		jr		z, l034b				; se
033E: C64F    		add		a, 79					;
0340: FEA5    		cp		'V' + 0x4f				;
0342: D8      		ret		c						;
0343: C60D    		add		a, 13					;
0345: CD810F  		call	add_char				;
0348: 3E0F    		ld		a, ctrl_graphics		;
034A: C9      		ret								;
              	
034B:         	l034b:
034B: 212902  		ld		hl, k_function - 'A'
034E: CB40    		bit		0, b
0350: 284F    		jr		z, l03a1
0352: FDCB305E		bit		3, (iy + _klflag)
0356: 2802    		jr		z, l035a				; se
0358: EE20    		xor		%00100000				;
              	
035A:         	l035a:
035A: 04      		inc		b
035B: C0      		ret		nz
035C: EE20    		xor		%00100000				; se
035E: C9      		ret								;
              	
035F:         	l035f:
035F: FE30    		cp		'0'
0361: D8      		ret		c
0362: 0D      		dec		c
0363: FA9503  		jp		m, l0395
0366: 2019    		jr		nz, l0381
0368: 215402  		ld		hl, k_graphic - '0'
036B: CB68    		bit		5, b
036D: 2832    		jr		z, l03a1
036F: FE38    		cp		'8'
0371: 3007    		jr		nc, l037a
0373: D620    		sub		32
0375: 04      		inc		b
0376: C8      		ret		z
0377: C608    		add		a, 8
0379: C9      		ret
              	
037A:         	l037a:
037A: D636    		sub		54
037C: 04      		inc		b
037D: C8      		ret		z
037E: C6FE    		add		a, 254
0380: C9      		ret
              	
0381:         	l0381:
0381: 213002  		ld		hl, k_shifted - '0'
0384: FE39    		cp		'9'
0386: 2819    		jr		z, l03a1
0388: FE30    		cp		'0'
038A: 2815    		jr		z, l03a1
038C: E607    		and		%00000111
038E: C680    		add		a, 0x80
0390: 04      		inc		b
0391: C8      		ret		z
0392: EE0F    		xor		15
0394: C9      		ret
              	
0395:         	l0395:
0395: 04      		inc		b
0396: C8      		ret		z
0397: CB68    		bit		5, b
0399: 213002  		ld		hl, k_shifted - '0'
039C: 2003    		jr		nz, l03a1
039E: 215402  		ld		hl, k_graphic - '0'
              	
03A1:         	l03a1:
03A1: 1600    		ld		d, 0
03A3: 19      		add		hl, de
03A4: 7E      		ld		a, (hl)
03A5: C9      		ret
03A6: FF      		defb	0xff					; se
              										;
03A7:         	ram_check:							;
03A7: 11FFFF  		ld		de, 0xffff				;
03AA: 12      		ld		(de), a					;
03AB: 1A      		ld		a, (de)					;
03AC: A7      		and		a						;
03AD: 2803    		jr		z, l03b2				;
03AF: AF      		xor		a						;
03B0: 167F    		ld		d, 0x7f					;
              										;
03B2:         	l03b2:								;
03B2: C3CF11  		jp		l11cf					;
              	
03B5:         	l03b5:								; skel
03B5: F3      		di								;
03B6: 7D      		ld		a, l					;
03B7: CB3D    		srl		l						;
03B9: CB3D    		srl		l						;
03BB: 2F      		cpl								;
03BC: E603    		and		%00000011				;
03BE: 0600    		ld		b, 0					;
03C0: 4F      		ld		c, a					;
03C1: DD21D103		ld		ix, l03d1				;
03C5: DD09    		add		ix, bc					;
03C7: 3A485C  		ld		a, (bordcr)				;
03CA: E638    		and		%00111000				;
03CC: 0F      		rrca							;
03CD: 0F      		rrca							;
03CE: 0F      		rrca							;
03CF: F608    		or		%00001000				;
              										;
03D1:         	l03d1:								;
03D1: 00      		nop								;
03D2: 00      		nop								;
03D3: 00      		nop								;
03D4: 0C      		inc		c						;
03D5: 04      		inc		b						;
              										;
03D6:         	l03d6:								;
03D6: 0D      		dec		c						;
03D7: 20FD    		jr		nz, l03d6				;
03D9: 0E3F    		ld		c, 63					;
03DB: 05      		dec		b						;
03DC: C2D603  		jp		nz, l03d6				;
03DF: EE10    		xor		%00010000				;
03E1: D3FE    		out		(ula), a				;
03E3: 4F      		ld		c, a					;
03E4: 44      		ld		b, h					;
03E5: CB67    		bit		4, a					;
03E7: 2009    		jr		nz, l03f2				;
03E9: 7A      		ld		a, d					;
03EA: B3      		or		e						;
03EB: 2809    		jr		z, l03f6				;
03ED: 1B      		dec		de						;
03EE: 79      		ld		a, c					;
03EF: 4D      		ld		c, l					;
03F0: DDE9    		jp		(ix)					;
              										;
03F2:         	l03f2:								;
03F2: 4D      		ld		c, l					;
03F3: 0C      		inc		c						;
03F4: DDE9    		jp		(ix)					;
              										;
03F6:         	l03f6:								;
03F6: FB      		ei								;
03F7: C9      		ret								;
              	
03F8:         	l03f8:
              		fwait
03F8: EF      		rst	28h
              		fmove
03F9: 31      		defb	0x31
              		fint
03FA: 27      		defb	0x27
              		fst		0
03FB: C0      		defb	0xc0 + 0
              		fsub
03FC: 03      		defb	0x03
              		fstk
03FD: 34      		defb	0x34
03FE: EC6C981F		defb	0xec, 0x6c, 0x98, 0x1f, 0xf5
0402: F5      	
              		fmul
0403: 04      		defb	0x04
              		fstk1
0404: A1      		defb	0xa1
              		fadd
0405: 0F      		defb	0x0f
              		fce
0406: 38      		defb	0x38
0407: 21925C  		ld		hl, membot
040A: 7E      		ld		a, (hl)
040B: A7      		and		a
040C: 205E    		jr		nz, ioorerr
040E: 23      		inc		hl
040F: 4E      		ld		c, (hl)
0410: 23      		inc		hl
0411: 46      		ld		b, (hl)
0412: 78      		ld		a, b
0413: 17      		rla
0414: 9F      		sbc		a, a
0415: B9      		cp		c
0416: 2054    		jr		nz, ioorerr
0418: 23      		inc		hl
0419: BE      		cp		(hl)
041A: 2050    		jr		nz, ioorerr
041C: 3E3C    		ld		a, 60
041E: 80      		add		a, b
041F: F22504  		jp		p, l0425
0422: E26C04  		jp		po, ioorerr
              	
0425:         	l0425:
0425: 06FA    		ld		b, 250
              	
0427:         	l0427:
0427: D60C    		sub		12
0429: 04      		inc		b
042A: 30FB    		jr		nc, l0427
042C: 216E04  		ld		hl, l046e
042F: C5      		push	bc
0430: C60C    		add		a, 12
0432: CDF733  		call	loc_mem
0435: CDB833  		call	l33b8
              		fwait
0438: EF      		rst	28h
              		fmul
0439: 04      		defb	0x04
              		fce
043A: 38      		defb	0x38
043B: F1      		pop		af
043C: 86      		add		a, (hl)
043D: 77      		ld		(hl), a
              		fwait
043E: EF      		rst	28h
              		fst		0
043F: C0      		defb	0xc0 + 0
              		fdel
0440: 02      		defb	0x02
              		fmove
0441: 31      		defb	0x31
              		fce
0442: 38      		defb	0x38
0443: CD941E  		call	getbyte
0446: FE0B    		cp		11
0448: 3022    		jr		nc, ioorerr
              		fwait
044A: EF      		rst	28h
              		fgt		0
044B: E0      		defb	0xe0 + 0
              		fmul
044C: 04      		defb	0x04
              		fgt		0
044D: E0      		defb	0xe0 + 0
              		fstk
044E: 34      		defb	0x34
044F: 8043559F		defb	0x80, 0x43, 0x55, 0x9f, 0x80
0453: 80      	
              		fxch
0454: 01      		defb	0x01
              		fdiv
0455: 05      		defb	0x05
              		fstk
0456: 34      		defb	0x34
0457: 356C    		defb	0x35, 0x6c
              		fsub
0459: 03      		defb	0x03
              		fce
045A: 38      		defb	0x38
045B: CD991E  		call	find_int
045E: C5      		push	bc
045F: CD991E  		call	find_int
0462: E1      		pop		hl
0463: 59      		ld		e, c
0464: 50      		ld		d, b
0465: 7B      		ld		a, e
0466: B2      		or		d
0467: C8      		ret		z
0468: 1B      		dec		de
0469: C3B503  		jp		l03b5
              	
046C:         	ioorerr:							; sam
046C: CF      		rst		error_1					;
046D: 0A      		defb	Integer_out_of_range	;
              	
046E:         	l046e:
046E: 8902D012		incbin		"data/semitone.data"
0472: 86890A97	
0476: 60758912	
047A: D5171F89	
047E: 1B904102	
0482: 8924D053	
0486: CA892E9D	
048A: 36B18938	
048E: FF493E89	
0492: 43FF6A73	
0496: 894FA700	
049A: 54895C00	
049E: 00008969	
04A2: 14F62489	
04A6: 76F11005	
              	
04AA:         	l04aa:								; se
04AA: 1A      		ld		a, (de)					;
04AB: E67F    		and		%01111111				;
04AD: FE20    		cp		' '						;
04AF: D0      		ret		nc						;
04B0: FE0D    		cp		ctrl_n_l				;
04B2: C8      		ret		z						;
04B3: FE08    		cp		ctrl_left				;
04B5: C8      		ret		z						;
04B6: C6DF    		add		a, 223					;
04B8: C9      		ret								;
              										;
04B9:         	l04b9:								;
04B9: CD3025  		call	syntax_z				;
04BC: C8      		ret		z						;
04BD: CB7E    		bit		7, (hl)					;
04BF: C0      		ret		nz						;
04C0: CF      		rst		error_1					;
04C1: 0B      		defb	Syntax_error			;
              	
04C2:         	l04c2:								; skel
04C2: 213F05  		ld		hl, l053f				;
04C5: E5      		push	hl						;
04C6: CB7F    		bit		7, a					;
04C8: 21801F  		ld		hl, 0x1f80				;
04CB: 2803    		jr		z, l04d0				;
04CD: 21980C  		ld		hl, 0x0c98				;
              										;
04D0:         	l04d0:								;
04D0: F3      		di								;
04D1: 08      		ex		af, af'					;'
04D2: 3E02    		ld		a, red					;
04D4: DD2B    		dec		ix						;
04D6: 13      		inc		de						;
04D7: 47      		ld		b, a					;
              										;
04D8:         	l04d8:								;
04D8: 10FE    		djnz	l04d8					;
04DA: D3FE    		out		(ula), a				;
04DC: 06A4    		ld		b, 164					;
04DE: EE0F    		xor		%00001111				;
04E0: 2D      		dec		l						;
04E1: 20F5    		jr		nz, l04d8				;
04E3: 05      		dec		b						;
04E4: 25      		dec		h						;
04E5: F2D804  		jp		p, l04d8				;
04E8: 062F    		ld		b, 47					;
              										;
04EA:         	l04ea:								;
04EA: 10FE    		djnz	l04ea					;
04EC: D3FE    		out		(ula), a				;
04EE: 0637    		ld		b, 55					;
04F0: 3E0D    		ld		a, 13					;
              										;
04F2:         	l04f2:								;
04F2: 10FE    		djnz	l04f2					;
04F4: D3FE    		out		(ula), a				;
04F6: 08      		ex		af, af'					;'
04F7: 6F      		ld		l, a					;
04F8: 010E3B  		ld		bc, 0x3b0e				;
04FB: C30705  		jp		l0507					;
              										;
04FE:         	l04fe:								;
04FE: 7B      		ld		a, e					;
04FF: B2      		or		d						;
0500: 280C    		jr		z, l050e				;
0502: DD6E00  		ld		l, (ix + 0x00)			;
              										;
0505:         	l0505:								;
0505: 7C      		ld		a, h					;
0506: AD      		xor		l						;
              										;
0507:         	l0507:								;
0507: 67      		ld		h, a					;
0508: 37      		scf								;
0509: 3E01    		ld		a, blue					;
050B: C32505  		jp		l0525					;
              										;
050E:         	l050e:								;
050E: 6C      		ld		l, h					;
050F: 18F4    		jr		l0505					;
              										;
0511:         	l0511:								;
0511: 79      		ld		a, c					;
0512: CB78    		bit		7, b					;
              										;
0514:         	l0514:								;
0514: 10FE    		djnz	l0514					;
0516: 3004    		jr		nc, l051c				;
0518: 0642    		ld		b, 66					;
              										;
051A:         	l051a:								;
051A: 10FE    		djnz	l051a					;
              										;
051C:         	l051c:								;
051C: D3FE    		out		(ula), a				;
051E: 063E    		ld		b, 62					;
0520: 20EF    		jr		nz, l0511				;
0522: AF      		xor		a						;
0523: 05      		dec		b						;
0524: 3C      		inc		a						;
              										;
0525:         	l0525:								;
0525: CB15    		rl		l						;
0527: C21405  		jp		nz, l0514				;
052A: 0631    		ld		b, 49					;
052C: DD23    		inc		ix						;
052E: 1B      		dec		de						;
052F: 3E7F    		ld		a, 127					;
0531: DBFE    		in		a, (ula)				;
0533: 1F      		rra								;
0534: D0      		ret		nc						;
0535: 7A      		ld		a, d					;
0536: 3C      		inc		a						;
0537: C2FE04  		jp		nz, l04fe				;
053A: 063B    		ld		b, 59					;
              										;
053C:         	l053c:								;
053C: 10FE    		djnz	l053c					;
053E: C9      		ret								;
              										;
053F:         	l053f:								;
053F: F5      		push	af						;
0540: 3A485C  		ld		a, (bordcr)				;
0543: E638    		and		%00111000				;
0545: 0F      		rrca							;
0546: 0F      		rrca							;
0547: 0F      		rrca							;
0548: D3FE    		out		(ula), a				;
054A: 3E7F    		ld		a, 127					;
054C: DBFE    		in		a, (ula)				;
054E: 1F      		rra								;
054F: FB      		ei								;
0550: 3802    		jr		c, l0554				;
0552: CF      		rst		error_1					;
0553: 0C      		defb	BREAK_CONTINUE_repeats	;
              										;
0554:         	l0554:								;
0554: F1      		pop		af						;
0555: C9      		ret								;
              										;
0556:         	l0556:								;
0556: F3      		di								;
0557: 14      		inc		d						;
0558: 08      		ex		af, af'					;'
0559: 15      		dec		d						;
055A: 3E0F    		ld		a, 15					;
055C: D3FE    		out		(ula), a				;
055E: 213F05  		ld		hl, l053f				;
0561: E5      		push	hl						;
0562: DBFE    		in		a, (ula)				;
0564: 1F      		rra								;
0565: E620    		and		%00100000				;
0567: F602    		or		red						;
0569: 4F      		ld		c, a					;
056A: BF      		cp		a						;
              										;
056B:         	l056b:								;
056B: C0      		ret		nz						;
              										;
056C:         	l056c:								;
056C: CDE705  		call	l05e7					;
056F: 30FA    		jr		nc, l056b				;
0571: 211501  		ld		hl, 0x0115				;
              										;
0574:         	l0574:								;
0574: 10FE    		djnz	l0574					;
0576: 2B      		dec		hl						;
0577: 7D      		ld		a, l					;
0578: B4      		or		h						;
0579: 20F9    		jr		nz, l0574				;
057B: CDE305  		call	l05e3					;
057E: 30EB    		jr		nc, l056b				;
              										;
0580:         	l0580:								;
0580: 069C    		ld		b, 156					;
0582: CDE305  		call	l05e3					;
0585: 30E4    		jr		nc, l056b				;
0587: 3EC6    		ld		a, 198					;
0589: B8      		cp		b						;
058A: 30E0    		jr		nc, l056c				;
058C: 24      		inc		h						;
058D: 20F1    		jr		nz, l0580				;
              										;
058F:         	l058f:								;
058F: 06C9    		ld		b, 201					;
0591: CDE705  		call	l05e7					;
0594: 30D5    		jr		nc, l056b				;
0596: 78      		ld		a, b					;
0597: FED4    		cp		212						;
0599: 30F4    		jr		nc, l058f				;
059B: CDE705  		call	l05e7					;
059E: D0      		ret		nc						;
059F: 79      		ld		a, c					;
05A0: EE03    		xor		%00000011				;
05A2: 4F      		ld		c, a					;
05A3: 2600    		ld		h, 0					;
05A5: 06B0    		ld		b, 176					;
05A7: 181F    		jr		l05c8					;
              										;
05A9:         	l05a9:								;
05A9: 08      		ex		af, af'					;'
05AA: 2007    		jr		nz, l05b3				;
05AC: 300F    		jr		nc, l05bd				;
05AE: DD7500  		ld		(ix + 0x00), l			;
05B1: 180F    		jr		l05c2					;
              										;
05B3:         	l05b3:								;
05B3: CB11    		rl		c						;
05B5: AD      		xor		l						;
05B6: C0      		ret		nz						;
05B7: 79      		ld		a, c					;
05B8: 1F      		rra								;
05B9: 4F      		ld		c, a					;
05BA: C3C505  		jp		l05c5					; se
              										;
05BD:         	l05bd:								; skel
05BD: DD7E00  		ld		a, (ix + 0x00)			;
05C0: AD      		xor		l						;
05C1: C0      		ret		nz						;
              										;
05C2:         	l05c2:								;
05C2: DD23    		inc		ix						;
              										;
05C4:         	l05c4:								;
05C4: 1B      		dec		de						;
              										;
05C5:         	l05c5:								;
05C5: 08      		ex		af, af'					;'
05C6: 06B2    		ld		b, 178					;
              										;
05C8:         	l05c8:								;
05C8: 2E01    		ld		l, %00000001			;
              										;
05CA:         	l05ca:								;
05CA: CDE305  		call	l05e3					;
05CD: D0      		ret		nc						;
05CE: 3ECB    		ld		a, 203					;
05D0: B8      		cp		b						;
05D1: CB15    		rl		l						;
05D3: 06B0    		ld		b, 176					;
05D5: D2CA05  		jp		nc, l05ca				;
05D8: 7C      		ld		a, h					;
05D9: AD      		xor		l						;
05DA: 67      		ld		h, a					;
05DB: 7A      		ld		a, d					;
05DC: B3      		or		e						;
05DD: 20CA    		jr		nz, l05a9 				;
05DF: 7C      		ld		a, h					;
05E0: FE01    		cp		1						;
05E2: C9      		ret								;
              										;
05E3:         	l05e3:								;
05E3: CDE705  		call	l05e7					;
05E6: D0      		ret		nc						;
              										;
05E7:         	l05e7:								;
05E7: 3E16    		ld		a, 22					;
              										;
05E9:         	l05e9:								;
05E9: 3D      		dec		a						;
05EA: 20FD    		jr		nz, l05e9				;
05EC: A7      		and		a						;
              										;
05ED:         	l05ed:								;
05ED: 04      		inc		b						;
05EE: C8      		ret		z						;
05EF: 3E7F    		ld		a, 127					;
05F1: DBFE    		in		a, (ula)				;
05F3: 1F      		rra								;
05F4: D0      		ret		nc						;
05F5: A9      		xor		c						;
05F6: E620    		and		%00100000				;
05F8: 28F3    		jr		z, l05ed				;
05FA: 79      		ld		a, c					;
05FB: 2F      		cpl								;
05FC: 4F      		ld		c, a					;
05FD: E607    		and		%00000111				;
05FF: F608    		or		%00001000				;
0601: D3FE    		out		(ula), a				;
0603: 37      		scf								;
0604: C9      		ret								;
              	
0605:         	l0605:
0605: F1      		pop		af
0606: 3A745C  		ld		a, (taddr)
              	;		sub		p_save + 1 % 256 	; not supported by binutils
0609: D60E    		sub		0x0e
060B: 32745C  		ld		(taddr), a
060E: CD8C1C  		call	class_a
0611: CD3025  		call	syntax_z
0614: 283C    		jr		z, l0652
0616: 3A745C  		ld		a, (taddr)
0619: 011100  		ld		bc, 0x0011
061C: A7      		and		a
061D: 2802    		jr		z, l0621
061F: 0E22    		ld		c, 34
              	
0621:         	l0621:
0621: F7      		rst		bc_spaces
0622: D5      		push	de
0623: DDE1    		pop		ix
0625: 3E20    		ld		a, ' '
0627: 060B    		ld		b, 11
              	
0629:         	l0629:
0629: 12      		ld		(de), a
062A: 13      		inc		de
062B: 10FC    		djnz	l0629
062D: DD3601FF		ld		(ix + 0x01), 255
0631: CDF12B  		call	stk_fetch
0634: 0B      		dec		bc
0635: 21F6FF  		ld		hl, 0xfff6
0638: 09      		add		hl, bc
0639: 03      		inc		bc
063A: 300F    		jr		nc, l064b
063C: 3A745C  		ld		a, (taddr)
063F: A7      		and		a
0640: 2002    		jr		nz, l0644
0642: CF      		rst		error_1
0643: 0E      		defb	Bad_filename
              	
0644:         	l0644:
0644: 79      		ld		a, c
0645: B0      		or		b
0646: 280A    		jr		z, l0652
0648: 010A00  		ld		bc, 10
              	
064B:         	l064b:
064B: DDE5    		push	ix
064D: E1      		pop		hl
064E: EB      		ex		de, hl
064F: 13      		inc		de
0650: EDB0    		ldir
              	
0652:         	l0652:
0652: DF      		rst		get_ch
0653: FEE4    		cp		tkdata
0655: 2049    		jr		nz, l06a0
0657: 3A745C  		ld		a, (taddr)
065A: FE03    		cp		3
065C: CA8A1C  		jp		z, report_c
065F: E7      		rst		next_ch
0660: CDB228  		call	look_vars
0663: CBF9    		set		7, c
0665: 300B    		jr		nc, l0672
0667: 3A745C  		ld		a, (taddr)
066A: 3D      		dec		a
066B: 210000  		ld		hl, 0
066E: 2815    		jr		z, l0685
              	
0670:         	l0670:
0670: CF      		rst		error_1
0671: 01      		defb	Undefined_variable
              	
0672:         	l0672:
0672: C28A1C  		jp		nz, report_c
0675: CDB904  		call	l04b9
0678: 2818    		jr		z, l0692
067A: 23      		inc		hl
067B: 7E      		ld		a, (hl)
067C: DD770B  		ld		(ix + 0x0b), a
067F: 23      		inc		hl
0680: 7E      		ld		a, (hl)
0681: DD770C  		ld		(ix + 0x0c), a
0684: 23      		inc		hl
              	
0685:         	l0685:
0685: 3E01    		ld		a, 1
0687: DD710E  		ld		(ix + 0x0e), c
068A: CB71    		bit		6, c
068C: 2801    		jr		z, l068f
068E: 3C      		inc		a
              	
068F:         	l068f:
068F: DD7700  		ld		(ix + 0x00), a
              	
0692:         	l0692:
0692: EB      		ex		de, hl
0693: E7      		rst		next_ch
0694: FE29    		cp		')'
0696: 20DA    		jr		nz, l0672
0698: E7      		rst		next_ch
0699: CDEE1B  		call	check_end
069C: EB      		ex		de, hl
069D: C35A07  		jp		l075a
              	
06A0:         	l06a0:
06A0: FEAA    		cp		tk_screen_str
06A2: 201F    		jr		nz, l06c3
06A4: 3A745C  		ld		a, (taddr)
06A7: FE03    		cp		3
06A9: CA8A1C  		jp		z, report_c
06AC: E7      		rst		next_ch
06AD: CDEE1B  		call	check_end
06B0: 210040  		ld		hl, bitmap
06B3: DD360B00		ld		(ix + 0x0b), 0
06B7: DD360C1B		ld		(ix + 0x0c), 27
06BB: DD750D  		ld		(ix + 0x0d), l
06BE: DD740E  		ld		(ix + 0x0e), h
06C1: 184D    		jr		l0710
              	
06C3:         	l06c3:
06C3: FEAF    		cp		tk_code
06C5: 204F    		jr		nz, l0716
06C7: 3A745C  		ld		a, (taddr)
06CA: FE03    		cp		3
06CC: CA8A1C  		jp		z, report_c
06CF: E7      		rst		next_ch
06D0: CD4820  		call	l2048
06D3: 200C    		jr		nz, l06e1
06D5: 3A745C  		ld		a, (taddr)
06D8: A7      		and		a
06D9: CA8A1C  		jp		z, report_c
06DC: CDE61C  		call	no_to_stk
06DF: 180F    		jr		l06f0
              	
06E1:         	l06e1:
06E1: CD821C  		call	class_6
06E4: DF      		rst		get_ch
06E5: FE2C    		cp		','
06E7: 280C    		jr		z, l06f5
06E9: 3A745C  		ld		a, (taddr)
06EC: A7      		and		a
06ED: CA8A1C  		jp		z, report_c
              	
06F0:         	l06f0:
06F0: CDE61C  		call	no_to_stk
06F3: 1804    		jr		l06f9
              	
06F5:         	l06f5:
06F5: E7      		rst		next_ch
06F6: CD821C  		call	class_6
              	
06F9:         	l06f9:
06F9: CDEE1B  		call	check_end
06FC: CD991E  		call	find_int
06FF: DD700C  		ld		(ix + 0x0c), b
0702: DD710B  		ld		(ix + 0x0b), c
0705: CD991E  		call	find_int
0708: 60      		ld		h, b
0709: DD740E  		ld		(ix + 0x0e), h
070C: 69      		ld		l, c
070D: DD750D  		ld		(ix + 0x0d), l
              	
0710:         	l0710:
0710: DD360003		ld		(ix + 0x00), 3
0714: 1844    		jr		l075a
              	
0716:         	l0716:
0716: FECA    		cp		tk_line
0718: 2809    		jr		z, l0723
071A: CDEE1B  		call	check_end
071D: DD360E80		ld		(ix + 0x0e), 0x80
0721: 1817    		jr		l073a
              	
0723:         	l0723:
0723: 3A745C  		ld		a, (taddr)
0726: A7      		and		a
0727: C28A1C  		jp		nz, report_c
072A: E7      		rst		next_ch
072B: CD821C  		call	class_6
072E: CDEE1B  		call	check_end
0731: CD0139  		call	syntax3
0734: DD700E  		ld		(ix + 0x0e), b
0737: DD710D  		ld		(ix + 0x0d), c
              	
073A:         	l073a:
073A: ED5B535C		ld		de, (prog)
073E: 2A595C  		ld		hl, (eline)
0741: DD360000		ld		(ix + 0x00), 0
0745: 37      		scf
0746: ED52    		sbc		hl, de
0748: DD740C  		ld		(ix + 0x0c), h
074B: DD750B  		ld		(ix + 0x0b), l
074E: 2A4B5C  		ld		hl, (vars)
0751: ED52    		sbc		hl, de
0753: DD7410  		ld		(ix + 0x10), h
0756: DD750F  		ld		(ix + 0x0f), l
0759: EB      		ex		de, hl
              	
075A:         	l075a:
075A: 3A745C  		ld		a, (taddr)
075D: A7      		and		a
075E: CA7009  		jp		z, l0970
0761: E5      		push	hl
0762: 011100  		ld		bc, 0x0011
0765: DD09    		add		ix, bc
              	
0767:         	l0767:
0767: AF      		xor		a
0768: DDE5    		push	ix
076A: 111100  		ld		de, 0x0011
076D: 37      		scf
076E: CD5605  		call	l0556
0771: DDE1    		pop		ix
0773: 30F2    		jr		nc, l0767
0775: 3EFE    		ld		a, 254
0777: CD0116  		call	l1601
077A: DD7E00  		ld		a, (ix + 0x00)
077D: FD3652FF		ld		(iy + _scrct), 255
0781: 0E80    		ld		c, 0x80
0783: DDBEEF  		cp		(ix - 0x11)
0786: 2002    		jr		nz, l078a
0788: 0EF6    		ld		c, 246
              	
078A:         	l078a:
078A: FE04    		cp		4
078C: 30D9    		jr		nc, l0767
078E: 11D413  		ld		de, l13d5 - 1
0791: C5      		push	bc
0792: CD0A0C  		call	l0c0a
0795: C1      		pop		bc
0796: DDE5    		push	ix
0798: D1      		pop		de
0799: 21F0FF  		ld		hl, 0xfff0
079C: 19      		add		hl, de
079D: 7E      		ld		a, (hl)
079E: 060A    		ld		b, 10
07A0: 3C      		inc		a
07A1: 2003    		jr		nz, l07a6
07A3: 79      		ld		a, c
07A4: 80      		add		a, b
07A5: 4F      		ld		c, a
              	
07A6:         	l07a6:
07A6: 13      		inc		de
07A7: 1A      		ld		a, (de)
07A8: BE      		cp		(hl)
07A9: 23      		inc		hl
07AA: 2001    		jr		nz, l07ad
07AC: 0C      		inc		c
              	
07AD:         	l07ad:
07AD: D7      		rst		print_a
07AE: 10F6    		djnz	l07a6
07B0: CB79    		bit		7, c
07B2: 20B3    		jr		nz, l0767
07B4: 3E0D    		ld		a, ctrl_n_l
07B6: D7      		rst		print_a
07B7: E1      		pop		hl
07B8: DD7E00  		ld		a, (ix + 0x00)
07BB: FE03    		cp		3
07BD: 280C    		jr		z, l07cb
07BF: 3A745C  		ld		a, (taddr)
07C2: 3D      		dec		a
07C3: CA0808  		jp		z, l0808
07C6: FE02    		cp		2
07C8: CAB608  		jp		z, l08b6
              	
07CB:         	l07cb:
07CB: E5      		push	hl
07CC: DD66FB  		ld		h, (ix - 0x05)
07CF: DD6EFA  		ld		l, (ix - 0x06)
07D2: DD560C  		ld		d, (ix + 0x0c)
07D5: DD5E0B  		ld		e, (ix + 0x0b)
07D8: 7D      		ld		a, l
07D9: B4      		or		h
07DA: 280D    		jr		z, l07e9
07DC: ED52    		sbc		hl, de
07DE: 3826    		jr		c, terror
07E0: 2807    		jr		z, l07e9
07E2: DD7E00  		ld		a, (ix + 0x00)
07E5: FE03    		cp		3
07E7: 201D    		jr		nz, terror
              	
07E9:         	l07e9:
07E9: E1      		pop		hl
07EA: 7D      		ld		a, l
07EB: B4      		or		h
07EC: 2006    		jr		nz, l07f4
07EE: DD660E  		ld		h, (ix + 0x0e)
07F1: DD6E0D  		ld		l, (ix + 0x0d)
              	
07F4:         	l07f4:
07F4: E5      		push	hl
07F5: DDE1    		pop		ix
07F7: 3A745C  		ld		a, (taddr)
07FA: FE02    		cp		2
07FC: 37      		scf
07FD: 2001    		jr		nz, l0800
07FF: A7      		and		a
              	
0800:         	l0800:
0800: 3EFF    		ld		a, 255
              	
0802:         	l0802:
0802: CD5605  		call	l0556
0805: D8      		ret		c						; skel
              										;
0806:         	terror:								;
0806: CF      		rst		error_1					;
0807: 1A      		defb	Loading_error			;
              	
0808:         	l0808:
0808: DD560C  		ld		d, (ix + 0x0c)
080B: DD5E0B  		ld		e, (ix + 0x0b)
080E: E5      		push	hl
080F: 7D      		ld		a, l
0810: B4      		or		h
0811: 2006    		jr		nz, l0819
0813: 13      		inc		de
0814: 13      		inc		de
0815: 13      		inc		de
0816: EB      		ex		de, hl
0817: 180C    		jr		l0825
              	
0819:         	l0819:
0819: DD66FB  		ld		h, (ix - 0x05)
081C: DD6EFA  		ld		l, (ix - 0x06)
081F: EB      		ex		de, hl
0820: 37      		scf
0821: ED52    		sbc		hl, de
0823: 3809    		jr		c, l082e
              	
0825:         	l0825:
0825: 110500  		ld		de, 5
0828: 19      		add		hl, de
0829: 4D      		ld		c, l
082A: 44      		ld		b, h
082B: CD051F  		call	test_room
              	
082E:         	l082e:
082E: E1      		pop		hl
082F: DD7E00  		ld		a, (ix + 0x00)
0832: A7      		and		a
0833: 283E    		jr		z, l0873
0835: 7D      		ld		a, l
0836: B4      		or		h
0837: 2813    		jr		z, l084c
0839: 2B      		dec		hl
083A: 46      		ld		b, (hl)
083B: 2B      		dec		hl
083C: 4E      		ld		c, (hl)
083D: 2B      		dec		hl
083E: 03      		inc		bc
083F: 03      		inc		bc
0840: 03      		inc		bc
0841: DD225F5C		ld		(xptr), ix
0845: CDE819  		call	reclaim_2
0848: DD2A5F5C		ld		ix, (xptr)
              	
084C:         	l084c:
084C: 2A595C  		ld		hl, (eline)
084F: 2B      		dec		hl
0850: DD460C  		ld		b, (ix + 0x0c)
0853: DD4E0B  		ld		c, (ix + 0x0b)
0856: C5      		push	bc
0857: 03      		inc		bc
0858: 03      		inc		bc
0859: 03      		inc		bc
085A: DD7EFD  		ld		a, (ix - 0x03)
085D: F5      		push	af
085E: CD5516  		call	make_room
0861: 23      		inc		hl
0862: F1      		pop		af
0863: 77      		ld		(hl), a
0864: D1      		pop		de
0865: 23      		inc		hl
0866: 73      		ld		(hl), e
0867: 23      		inc		hl
0868: 72      		ld		(hl), d
0869: 23      		inc		hl
086A: E5      		push	hl
086B: DDE1    		pop		ix
086D: 37      		scf
086E: 3EFF    		ld		a, 255
0870: C30208  		jp		l0802
              	
0873:         	l0873:
0873: EB      		ex		de, hl
0874: 2A595C  		ld		hl, (eline)
0877: 2B      		dec		hl
0878: DD225F5C		ld		(xptr), ix
087C: DD460C  		ld		b, (ix + 0x0c)
087F: DD4E0B  		ld		c, (ix + 0x0b)
0882: C5      		push	bc
0883: CDE519  		call	reclaim_1
0886: C1      		pop		bc
0887: E5      		push	hl
0888: C5      		push	bc
0889: CD5516  		call	make_room
088C: DD2A5F5C		ld		ix, (xptr)
0890: 23      		inc		hl
0891: DD4610  		ld		b, (ix + 0x10)
0894: DD4E0F  		ld		c, (ix + 0x0f)
0897: 09      		add		hl, bc
0898: 224B5C  		ld		(vars), hl
089B: DD660E  		ld		h, (ix + 0x0e)
089E: 7C      		ld		a, h
089F: E6C0    		and		%11000000
08A1: 200A    		jr		nz, l08ad
08A3: DD6E0D  		ld		l, (ix + 0x0d)
08A6: 22425C  		ld		(newppc), hl
08A9: FD360A00		ld		(iy + _nsppc), 0
              	
08AD:         	l08ad:
08AD: D1      		pop		de
08AE: DDE1    		pop		ix
08B0: 37      		scf
08B1: 3EFF    		ld		a, 255
08B3: C30208  		jp		l0802
              	
08B6:         	l08b6:
08B6: DD460C  		ld		b, (ix + 0x0c)
08B9: DD4E0B  		ld		c, (ix + 0x0b)
08BC: C5      		push	bc
08BD: 03      		inc		bc
08BE: F7      		rst		bc_spaces
08BF: 3680    		ld		(hl), 0x80
08C1: EB      		ex		de, hl
08C2: D1      		pop		de
08C3: E5      		push	hl
08C4: E5      		push	hl
08C5: DDE1    		pop		ix
08C7: 37      		scf
08C8: 3EFF    		ld		a, 255
08CA: CD0208  		call	l0802
08CD: E1      		pop		hl
08CE: ED5B535C		ld		de, (prog)
              	
08D2:         	l08d2:
08D2: 7E      		ld		a, (hl)
08D3: E6C0    		and		%11000000
08D5: 2019    		jr		nz, l08f0
              	
08D7:         	l08d7:
08D7: 1A      		ld		a, (de)
08D8: 13      		inc		de
08D9: BE      		cp		(hl)
08DA: 23      		inc		hl
08DB: 2002    		jr		nz, l08df
08DD: 1A      		ld		a, (de)
08DE: BE      		cp		(hl)
              	
08DF:         	l08df:
08DF: 2B      		dec		hl
08E0: 1B      		dec		de
08E1: 3008    		jr		nc, l08eb
08E3: E5      		push	hl
08E4: EB      		ex		de, hl
08E5: CDB819  		call	next_one
08E8: E1      		pop		hl
08E9: 18EC    		jr		l08d7
              	
08EB:         	l08eb:
08EB: CD2C09  		call	l092c
08EE: 18E2    		jr		l08d2
              	
08F0:         	l08f0:
08F0: 7E      		ld		a, (hl)
08F1: 4F      		ld		c, a
08F2: FE80    		cp		0x80
08F4: C8      		ret		z
08F5: E5      		push	hl
08F6: 2A4B5C  		ld		hl, (vars)
              	
08F9:         	l08f9:
08F9: 7E      		ld		a, (hl)
08FA: FE80    		cp		0x80
08FC: 2825    		jr		z, l0923
08FE: B9      		cp		c
08FF: 2808    		jr		z, l0909
              	
0901:         	l0901:
0901: C5      		push	bc
0902: CDB819  		call	next_one
0905: C1      		pop		bc
0906: EB      		ex		de, hl
0907: 18F0    		jr		l08f9
              	
0909:         	l0909:
0909: E6E0    		and		%11100000
090B: FEA0    		cp		%10100000
090D: 2012    		jr		nz, l0921
090F: D1      		pop		de
0910: D5      		push	de
0911: E5      		push	hl
              	
0912:         	l0912:
0912: 13      		inc		de
0913: 1A      		ld		a, (de)
0914: 23      		inc		hl
0915: BE      		cp		(hl)
0916: 2006    		jr		nz, l091e
0918: 17      		rla
0919: 30F7    		jr		nc, l0912
091B: E1      		pop		hl
091C: 1803    		jr		l0921
              	
091E:         	l091e:
091E: E1      		pop		hl
091F: 18E0    		jr		l0901
              	
0921:         	l0921:
0921: 3EFF    		ld		a, 255
              	
0923:         	l0923:
0923: 3C      		inc		a
0924: D1      		pop		de
0925: EB      		ex		de, hl
0926: 37      		scf
0927: CD2C09  		call	l092c
092A: 18C4    		jr		l08f0
              	
092C:         	l092c:
092C: 2010    		jr		nz, l093e
092E: 225F5C  		ld		(xptr), hl
0931: 08      		ex		af, af'
0932: EB      		ex		de, hl
0933: CDB819  		call	next_one
0936: CDE819  		call	reclaim_2
0939: 08      		ex		af, af'
093A: EB      		ex		de, hl
093B: 2A5F5C  		ld		hl, (xptr)
              	
093E:         	l093e:
093E: D5      		push	de
093F: 08      		ex		af, af'
0940: CDB819  		call	next_one
0943: 08      		ex		af, af'
0944: 225F5C  		ld		(xptr), hl
0947: 2A535C  		ld		hl, (prog)
094A: E3      		ex		(sp), hl
094B: C5      		push	bc
094C: 3807    		jr		c, l0955
094E: 2B      		dec		hl
094F: CD5516  		call	make_room
0952: 23      		inc		hl
0953: 1803    		jr		l0958
              	
0955:         	l0955:
0955: CD5516  		call	make_room
              	
0958:         	l0958:
0958: C1      		pop		bc
0959: D1      		pop		de
095A: 23      		inc		hl
095B: ED53535C		ld		(prog), de
095F: ED5B5F5C		ld		de, (xptr)
0963: C5      		push	bc
0964: D5      		push	de
0965: EB      		ex		de, hl
0966: EDB0    		ldir
0968: E1      		pop		hl
0969: C1      		pop		bc
096A: D5      		push	de
096B: CDE819  		call	reclaim_2
096E: D1      		pop		de
096F: C9      		ret
              	
0970:         	l0970:								; skel
0970: E5      		push	hl						;
0971: 3EFD    		ld		a, 253					;
0973: CD0116  		call	l1601
0976: AF      		xor		a						; skel
0977: 11B513  		ld		de, l13b6 - 1			;
097A: CD0A0C  		call	l0c0a					;
097D: FDCB02EE		set		5, (iy + _dflag)		;
0981: CDD415  		call	waitkey					;
0984: DDE5    		push	ix						;
0986: 111100  		ld		de, 0x0011				;
0989: AF      		xor		a						;
098A: CDC204  		call	l04c2					;
098D: DDE1    		pop		ix						;
098F: 0632    		ld		b, 50					;
              										;
0991:         	l0991:								;
0991: 76      		halt							;
0992: 10FD    		djnz	l0991					;
0994: DD5E0B  		ld		e, (ix + 0x0b)			;
0997: DD560C  		ld		d, (ix + 0x0c)			;
099A: 3EFF    		ld		a, 255					;
099C: DDE1    		pop		ix						;
099E: C3C204  		jp		l04c2					;
              	
09A1:         	l09a1:								; se
09A1: DF      		rst		get_ch					;
09A2: 2B      		dec		hl						;
09A3: 7E      		ld		a, (hl)					;
09A4: FED2    		cp		tk_erase				;
09A6: 2007    		jr		nz, l09af				;
09A8: DF      		rst		get_ch					;
09A9: CDEE1B  		call	check_end				;
09AC: C35439  		jp		l3954					;
              										;
09AF:         	l09af:								;
09AF: DF      		rst		get_ch					;
09B0: FE37    		cp		'7'						;
09B2: 2807    		jr		z, l09bb				;
09B4: FE38    		cp		'8'						;
09B6: CA2739  		jp		z, l3927				;
09B9: CF      		rst		error_1					;
09BA: 0B      		defb	Syntax_error			;
              										;
09BB:         	l09bb:								;
09BB: E7      		rst		next_ch					;
09BC: CDEE1B  		call	check_end				;
09BF: C31A1F  		jp		l1f1a					;
              										;
09C2:         	l09c2:								;
09C2: E7      		rst		next_ch					;
              										;
09C3:         	l09c3:								;
09C3: CD7A1C  		call	class_8					;
09C6: CD3025  		call	syntax_z				;
09C9: 281A    		jr		z, l09e5				;
09CB: CDD52D  		call	fp_to_a					;
09CE: F5      		push	af						;
09CF: CDD52D  		call	fp_to_a					;
09D2: FE11    		cp		17						;
09D4: D26C04  		jp		nc, ioorerr				;
09D7: 3D      		dec		a						;
09D8: 3C      		inc		a						;
09D9: FA6C04  		jp		m, ioorerr				;
09DC: 01F5C0  		ld		bc, ay_reg				;
09DF: ED79    		out		(c), a					;
09E1: F1      		pop		af						;
09E2: CDCE38  		call	l38ce					;
              										;
09E5:         	l09e5:								;
09E5: DF      		rst		get_ch					;
09E6: FE3B    		cp		';'						;
09E8: 28D8    		jr		z, l09c2				;
09EA: CDEE1B  		call	check_end				;
09ED: C9      		ret								;
              	
09EE:         	setudg:								; se
09EE: 21083E  		ld		hl, 0x3e08				;
09F1: C3D416  		jp		setudg2					;
              	
09F4:         	prmain:								;
09F4: CD030B  		call	l0b03					;
09F7: FE18    		cp		24						;
09F9: 3060    		jr		nc, l0a5b				;
09FB: FE06    		cp		6						;
09FD: DA810C  		jp		c, l0c81				;
0A00: FE18    		cp		24						;
0A02: 3055    		jr		nc, l0a59
0A04: 1600    		ld		d, 0
0A06: 5F      		ld		e, a
0A07: 210B0A  		ld		hl, l0a11 - 6
0A0A: 19      		add		hl, de
0A0B: 5E      		ld		e, (hl)
0A0C: 19      		add		hl, de
0A0D: E5      		push	hl
0A0E: C3030B  		jp		l0b03
              	
0A11:         	l0a11:
0A11: 41      		defb	l0a52 - $
0A12: 47      		defb	l0a59 - $
0A13: 10      		defb	l0a23 - $
0A14: 23      		defb	l0a37 - $
0A15: 44      		defb	l0a59 - $
0A16: 43      		defb	l0a59 - $
0A17: 42      		defb	l0a59 - $
0A18: 31      		defb	l0a49 - $
0A19: 40      		defb	l0a59 - $
0A1A: 3F      		defb	l0a59 - $
0A1B: 4F      		defb	l0a6a - $
0A1C: 4E      		defb	l0a6a - $
0A1D: 4D      		defb	l0a6a - $
0A1E: 4C      		defb	l0a6a - $
0A1F: 4B      		defb	l0a6a - $
0A20: 4A      		defb	l0a6a - $
0A21: 44      		defb	l0a65 - $
0A22: 43      		defb	l0a65 - $
              	
0A23:         	l0a23:
0A23: 0C      		inc		c
0A24: 3E22    		ld		a, 34
0A26: B9      		cp		c
0A27: C2D90D  		jp		nz, l0dd9				; se
0A2A: 0D      		dec		c						;
0A2B: 3E18    		ld		a, 24					;
0A2D: B8      		cp		b						;
0A2E: C2D90D  		jp		nz, l0dd9				;
0A31: 0E02    		ld		c, 2					;
0A33: 04      		inc		b						;
0A34: C3D90D  		jp		l0dd9
              	
0A37:         	l0a37:
0A37: 3A915C  		ld		a, (pflag)
0A3A: F5      		push	af
0A3B: 3E20    		ld		a, ' '
0A3D: FD365701		ld		(iy + _pflag), 1
0A41: CDD90A  		call	l0ad9					; se
0A44: F1      		pop		af
0A45: 32915C  		ld		(pflag), a
0A48: C9      		ret
              	
0A49:         	l0a49:
0A49: 0E21    		ld		c, 33
0A4B: CD550C  		call	l0c55
0A4E: 05      		dec		b
0A4F: C3D90D  		jp		l0dd9
              	
0A52:         	l0a52:
0A52: 79      		ld		a, c
0A53: 3D      		dec		a
0A54: 3D      		dec		a
0A55: E610    		and		%00010000
0A57: 186A    		jr		l0ac3
              	
0A59:         	l0a59:
0A59: 3E3F    		ld		a, '?'
              	
0A5B:         	l0a5b:
0A5B: 187C    		jr		l0ad9
              	
0A5D:         	l0a5d:
0A5D: 320F5C  		ld		(vdudata_h), a
0A60: 11870A  		ld		de, l0a87
0A63: 180B    		jr		l0a70
              	
0A65:         	l0a65:
0A65: 115D0A  		ld		de, l0a5d
0A68: 1803    		jr		l0a6d
              	
0A6A:         	l0a6a:
0A6A: 11870A  		ld		de, l0a87
              	
0A6D:         	l0a6d:
0A6D: 320E5C  		ld		(vdudata), a
              	
0A70:         	l0a70:
0A70: 2A515C  		ld		hl, (curchl)
0A73: 73      		ld		(hl), e
0A74: 23      		inc		hl
0A75: 72      		ld		(hl), d
0A76: C9      		ret
              	
0A77:         	l0a58:								; se
0A77: CD941E  		call	getbyte					;
0A7A: 328D5C  		ld		(attrp), a				;
0A7D: C9      		ret								;
              										;
0A7E:         	l0a7e:								;
0A7E: ED42    		sbc		hl, bc					;
0A80: C62F    		add		a, '0' - 1				;
0A82: 12      		ld		(de), a					;
0A83: 13      		inc		de						;
0A84: C9      		ret								;
              	
0A85: 5356    		defb	"SV"					;
              	
0A87:         	l0a87:
0A87: 11F409  		ld		de, prmain
0A8A: CD700A  		call	l0a70
0A8D: 2A0E5C  		ld		hl, (vdudata)
0A90: 57      		ld		d, a
0A91: 7D      		ld		a, l
0A92: FE16    		cp		22
0A94: DA1122  		jp		c, l2211
0A97: 2029    		jr		nz, l0ac2
0A99: 4A      		ld		c, d
0A9A: 44      		ld		b, h
0A9B: 3E1F    		ld		a, 31
0A9D: 91      		sub		c
0A9E: 3806    		jr		c, l0aa6
0AA0: C602    		add		a, 2
0AA2: 4F      		ld		c, a
0AA3: 3E16    		ld		a, 22
0AA5: 90      		sub		b
              	
0AA6:         	l0aa6:
0AA6: DA9F1E  		jp		c, report_b1
0AA9: 3C      		inc		a
0AAA: 47      		ld		b, a
0AAB: 04      		inc		b
0AAC: FDCB0246		bit		0, (iy + _dflag)
0AB0: C2550C  		jp		nz, l0c55
0AB3: FDBE31  		cp		(iy + _dfsz)
0AB6: DA860C  		jp		c, oserror
0AB9: C3D90D  		jp		l0dd9
              	
0ABC:         	l0abc:								; se
0ABC: CD4F1F  		call	pau2					;
0ABF: C3991E  		jp		find_int				;
              	
0AC2:         	l0ac2:
0AC2: 7C      		ld		a, h
              	
0AC3:         	l0ac3:
0AC3: CD030B  		call	l0b03
0AC6: 81      		add		a, c
0AC7: 3D      		dec		a
0AC8: E61F    		and		%00011111
0ACA: C8      		ret		z
0ACB: FDCB01C6		set		0, (iy + _flags)
0ACF: 57      		ld		d, a
              	
0AD0:         	l0ad0:
0AD0: 3E20    		ld		a, ' '
0AD2: CD3B0C  		call	l0c3b
0AD5: 15      		dec		d
0AD6: 20F8    		jr		nz, l0ad0
0AD8: C9      		ret
              	
0AD9:         	l0ad9:
0AD9: CD1D39  		call	l391d
              	
0ADC:         	l0adc:								; skel
0ADC: FDCB0246		bit		0, (iy + _dflag)		;
0AE0: 2008    		jr		nz, l0aea				;
0AE2: ED43885C		ld		(sposnu), bc			;
0AE6: 22845C  		ld		(dfcc), hl				;
0AE9: C9      		ret								;
              										;
0AEA:         	l0aea:								;
0AEA: ED438A5C		ld		(sposnl), bc			;
0AEE: ED43825C		ld		(echoe), bc				;
0AF2: 22865C  		ld		(dfccl), hl				;
0AF5: C9      		ret								;
              	
0AF6:         	l0af6:								; se
0AF6: 2A595C  		ld		hl, (eline)				;
0AF9: ED5B5B5C		ld		de, (kcur)				;
0AFD: A7      		and		a						;
0AFE: ED52    		sbc		hl, de					;
0B00: 0620    		ld		b, 0x20					;
0B02: C9      		ret								;
              	
0B03:         	l0b03:
0B03: 2A845C  		ld		hl, (dfcc)
0B06: ED4B885C		ld		bc, (sposnu)
0B0A: FDCB0246		bit		0, (iy + _dflag)
0B0E: C8      		ret		z
0B0F: 2A865C  		ld		hl, (dfccl)
0B12: ED4B8A5C		ld		bc, (sposnl)
0B16: C9      		ret
              	
0B17:         	streamfe:							; sam
0B17: 3EFE    		ld		a, 254					;
0B19: C30116  		jp		l1601					;
              	
0B1C:         	copy:								; se
0B1C: CD991E  		call	find_int				;
0B1F: 78      		ld		a, b					;
0B20: B1      		or		c 						;
0B21: C8      		ret		z						;
0B22: C5      		push	bc						;
0B23: C9      		ret								;
              	
0B24:         	l0b24:
0B24: FE80    		cp		0x80
0B26: 383D    		jr		c, l0b65
0B28: FE90    		cp		144
0B2A: 3026    		jr		nc, l0b52
0B2C: 47      		ld		b, a
0B2D: CD380B  		call	l0b38
0B30: CD030B  		call	l0b03
0B33: 11925C  		ld		de, membot
0B36: 1847    		jr		l0b7f
              	
0B38:         	l0b38:
0B38: 21925C  		ld		hl, membot
0B3B: CD3E0B  		call	l0b3e
              	
0B3E:         	l0b3e:
0B3E: CB18    		rr		b
0B40: 9F      		sbc		a, a
0B41: E60F    		and		%00001111
0B43: 4F      		ld		c, a
0B44: CB18    		rr		b
0B46: 9F      		sbc		a, a
0B47: E6F0    		and		%11110000
0B49: B1      		or		c
0B4A: 0E04    		ld		c, 4
              	
0B4C:         	l0b4c:
0B4C: 77      		ld		(hl), a
0B4D: 0D      		dec		c
0B4E: 23      		inc		hl
0B4F: 20FB    		jr		nz, l0b4c
0B51: C9      		ret
              	
0B52:         	l0b52:
0B52: D6A5    		sub		tk_rnd
0B54: 3009    		jr		nc, l0b5f
0B56: C615    		add		a, 21
0B58: C5      		push	bc
0B59: ED4B7B5C		ld		bc, (udg)
0B5D: 180B    		jr		l0b6a
              	
0B5F:         	l0b5f:
0B5F: CD100C  		call	l0c10
0B62: C3030B  		jp		l0b03
              	
0B65:         	l0b65:
0B65: C5      		push	bc
0B66: ED4B365C		ld		bc, (chars)
              	
0B6A:         	l0b6a:
0B6A: EB      		ex		de, hl
0B6B: 213B5C  		ld		hl, flags
0B6E: CB86    		res		0, (hl)
0B70: FE20    		cp		' '
0B72: 2002    		jr		nz, l0b76
0B74: CBC6    		set		0, (hl)
              	
0B76:         	l0b76:
0B76: 6F      		ld		l, a
0B77: 2600    		ld		h, 0
0B79: 29      		add		hl, hl
0B7A: 29      		add		hl, hl
0B7B: 29      		add		hl, hl
0B7C: 09      		add		hl, bc
0B7D: EB      		ex		de, hl
0B7E: C1      		pop		bc
              	
0B7F:         	l0b7f:
0B7F: 79      		ld		a, c
0B80: 3D      		dec		a
0B81: 3E21    		ld		a, 33
0B83: 2002    		jr		nz, l0b87
0B85: 4F      		ld		c, a
0B86: 05      		dec		b
              	
0B87:         	l0b87:
0B87: B9      		cp		c
0B88: D5      		push	de
0B89: CC550C  		call	z, l0c55
0B8C: D1      		pop		de
0B8D: C5      		push	bc
0B8E: E5      		push	hl
0B8F: 3A915C  		ld		a, (pflag)
0B92: 06FF    		ld		b, 255
0B94: 1F      		rra
0B95: 3801    		jr		c, l0b98
0B97: 04      		inc		b
              	
0B98:         	l0b98:
0B98: 1F      		rra
0B99: 1F      		rra
0B9A: 9F      		sbc		a, a
0B9B: 4F      		ld		c, a
0B9C: 3E08    		ld		a, 8
0B9E: A7      		and		a
0B9F: EB      		ex		de, hl
              	
0BA0:         	l0ba0:
0BA0: 08      		ex		af, af'
0BA1: 1A      		ld		a, (de)
0BA2: A0      		and		b
0BA3: A9      		xor		c
0BA4: AE      		xor		(hl)
0BA5: 12      		ld		(de), a
0BA6: 08      		ex		af, af'
0BA7: 14      		inc		d
0BA8: 3D      		dec		a
0BA9: 23      		inc		hl
0BAA: 20F4    		jr		nz, l0ba0
0BAC: EB      		ex		de, hl
0BAD: 25      		dec		h
0BAE: CDDB0B  		call	l0bdb					; se
0BB1: E1      		pop		hl
0BB2: C1      		pop		bc
0BB3: 0D      		dec		c
0BB4: 23      		inc		hl
0BB5: C9      		ret
              	
0BB6:         	l0bb6:								; se
0BB6: FE38    		cp		56						;
0BB8: D8      		ret		c						;
0BB9: CF      		rst		error_1					;
0BBA: 0B      		defb	Syntax_error			;
              										;
0BBB:         	l0bbb:								;
0BBB: CDD00B  		call	l0bd0					;
0BBE: CDB819  		call	next_one				;
0BC1: D5      		push	de						;
0BC2: CDD00B  		call	l0bd0					;
0BC5: D1      		pop		de						;
0BC6: A7      		and		a						;
0BC7: ED52    		sbc		hl, de					;
0BC9: 300E    		jr		nc, l0bdd9				;
0BCB: 19      		add		hl, de					;
0BCC: EB      		ex		de, hl					;
0BCD: C3E519  		jp		reclaim_1				;
              										;
0BD0:         	l0bd0:								;
0BD0: CD0139  		call	syntax3					;
0BD3: 60      		ld		h, b					;
0BD4: 69      		ld		l, c					;
0BD5: CD6E19  		call	line_addr				;
0BD8: C8      		ret		z						;
              										;
0BD9:         	l0bdd9:								;
0BD9: CF      		rst		error_1					;
0BDA: 09      		defb	Bad_argument			;
              	
0BDB:         	l0bdb:								; skel
0BDB: 7C      		ld		a, h					;
0BDC: 0F      		rrca							;
0BDD: 0F      		rrca							;
0BDE: 0F      		rrca							;
0BDF: E603    		and		%00000011				;
0BE1: F658    		or		%01011000				;
0BE3: 67      		ld		h, a					;
0BE4: ED5B8F5C		ld		de, (attrt)				;
0BE8: 7E      		ld		a, (hl)					;
0BE9: AB      		xor		e						;
0BEA: A2      		and		d						;
0BEB: AB      		xor		e						;
0BEC: FDCB5776		bit		6, (iy + _pflag)		;
0BF0: 2808    		jr		z, l0bfa				;
0BF2: E6C7    		and		%11000111				;
0BF4: CB57    		bit		2, a					;
0BF6: 2002    		jr		nz, l0bfa				;
0BF8: EE38    		xor		%00111000				;
              										;
0BFA:         	l0bfa:								;
0BFA: FDCB5766		bit		4, (iy + _pflag)		;
0BFE: 2808    		jr		z, l0c08				;
0C00: E6F8    		and		%11111000				;
0C02: CB6F    		bit		5, a					;
0C04: 2002    		jr		nz, l0c08				;
0C06: EE07    		xor		%00000111				;
              										;
0C08:         	l0c08:								;
0C08: 77      		ld		(hl), a					;
0C09: C9      		ret								;
              										;
0C0A:         	l0c0a:								;
0C0A: E5      		push	hl						;
0C0B: 2600    		ld		h, 0					;
0C0D: E3      		ex		(sp), hl				;
0C0E: 1804    		jr		l0c14					;
              										;
0C10:         	l0c10:								;
0C10: 11A800  		ld		de, k_token - 1			;
0C13: F5      		push	af						;
              										;
0C14:         	l0c14:								;
0C14: CD410C  		call	l0c41					;
0C17: 3809    		jr		c, l0c22				;
0C19: 3E20    		ld		a, ' '					;
0C1B: FDCB0146		bit		0, (iy + _flags)		;
0C1F: CC3B0C  		call	z, l0c3b				;
              	
0C22:         	l0c22:								; se
0C22: CDAA04  		call	l04aa					;
0C25: CD3B0C  		call	l0c3b					; skel
0C28: 1A      		ld		a, (de)					;
0C29: 13      		inc		de						;
0C2A: 87      		add		a, a					;
0C2B: 30F5    		jr		nc, l0c22				;
0C2D: D1      		pop		de						;
0C2E: FE48    		cp		72						;
0C30: 2803    		jr		z, l0c35				;
0C32: FE82    		cp		130						;
0C34: D8      		ret		c						;
              										;
0C35:         	l0c35:								;
0C35: 7A      		ld		a, d					;
0C36: FE03    		cp		3						;
0C38: D8      		ret		c						;
0C39: 3E20    		ld		a, ' '					;
              										;
0C3B:         	l0c3b:								;
0C3B: D5      		push	de						;
0C3C: D9      		exx								;
0C3D: D7      		rst		print_a					;
0C3E: D9      		exx								;
0C3F: D1      		pop		de						;
0C40: C9      		ret								;
              										;
0C41:         	l0c41:								;
0C41: F5      		push	af						;
0C42: EB      		ex		de, hl					;
0C43: 3C      		inc		a						;
              	
0C44:         	words:								; zx81
0C44: CB7E    		bit		7, (hl)					;
0C46: 23      		inc		hl						;
0C47: 28FB    		jr		z, words				;
0C49: 3D      		dec		a						; skel
0C4A: 20F8    		jr		nz, words				;
0C4C: EB      		ex		de, hl					;
0C4D: F1      		pop		af						;
0C4E: FE20    		cp		' '						;
0C50: D8      		ret		c						;
0C51: 1A      		ld		a, (de)					;
0C52: D641    		sub		'A'						;
0C54: C9      		ret								;
              	
0C55:         	l0c55:
0C55: 11D90D  		ld		de, l0dd9
0C58: D5      		push	de
0C59: 78      		ld		a, b
0C5A: FDCB0246		bit		0, (iy + _dflag)
0C5E: C2020D  		jp		nz, l0d02
0C61: FDBE31  		cp		(iy + _dfsz)
0C64: 3820    		jr		c, oserror
0C66: C0      		ret		nz
0C67: FDCB0266		bit		4, (iy + _dflag)
0C6B: 281B    		jr		z, l0c88
0C6D: FD5E2D  		ld		e, (iy + _breg)
0C70: 1D      		dec		e
0C71: CACE0C  		jp		z, l0cce
0C74: AF      		xor		a
0C75: CD0116  		call	l1601
0C78: ED7B3F5C		ld		sp, (listsp)
0C7C: FDCB02A6		res		4, (iy + _dflag)
0C80: C9      		ret
              	
0C81:         	l0c81:
0C81: C65B    		add		a, 0x5b
0C83: C35F0B  		jp		l0b5f
              	
0C86:         	oserror:							; sam
0C86: CF      		rst		error_1					;
0C87: 04      		defb	Off_screen				;
              	
0C88:         	l0c88:
0C88: FD3552  		dec		(iy + _scrct)
0C8B: 2041    		jr		nz, l0cce
0C8D: 3E18    		ld		a, 24
0C8F: 90      		sub		b
0C90: 328C5C  		ld		(scrct), a
0C93: 2A8F5C  		ld		hl, (attrt)
0C96: E5      		push	hl
0C97: 3A915C  		ld		a, (pflag)
0C9A: F5      		push	af
0C9B: 3EFD    		ld		a, 253
0C9D: CD0116  		call	l1601
0CA0: AF      		xor		a
0CA1: 113532  		ld		de, l3235
0CA4: CD0A0C  		call	l0c0a
0CA7: FDCB02EE		set		5, (iy + _dflag)
0CAB: 213B5C  		ld		hl, flags
0CAE: CBAE    		res		5, (hl)
0CB0: CDFF18  		call	l18ff
0CB3: FE20    		cp		' '
0CB5: 2849    		jr		z, report_d
0CB7: FEE2    		cp		tk_stop
0CB9: 2845    		jr		z, report_d
0CBB: F620    		or		%00100000
0CBD: FE6E    		cp		'n'
0CBF: 283F    		jr		z, report_d
0CC1: 3EFE    		ld		a, 254
0CC3: CD0116  		call	l1601
0CC6: F1      		pop		af
0CC7: 32915C  		ld		(pflag), a
0CCA: E1      		pop		hl
0CCB: 228F5C  		ld		(attrt), hl
              	
0CCE:         	l0cce:
0CCE: CDFE0D  		call	l0dfe
0CD1: FD4631  		ld		b, (iy + _dfsz)
0CD4: 04      		inc		b
0CD5: 0E21    		ld		c, 33
0CD7: C5      		push	bc
0CD8: CD9B0E  		call	l0e9b
0CDB: 7C      		ld		a, h
0CDC: 0F      		rrca
0CDD: 0F      		rrca
0CDE: 0F      		rrca
0CDF: E603    		and		%00000011
0CE1: F658    		or		%01011000
0CE3: 67      		ld		h, a
0CE4: 11E05A  		ld		de, attrmap + 0x02e0
0CE7: 1A      		ld		a, (de)
0CE8: 4E      		ld		c, (hl)
0CE9: 0620    		ld		b, 32
0CEB: EB      		ex		de, hl
              	
0CEC:         	l0cec:
0CEC: 12      		ld		(de), a
0CED: 71      		ld		(hl), c
0CEE: 13      		inc		de
0CEF: 23      		inc		hl
0CF0: 10FA    		djnz	l0cec
0CF2: C1      		pop		bc
0CF3: C9      		ret
              	
0CF4:         	l0cf4:
0CF4: CD2A19  		call	out_digit
0CF7: 0EF6    		ld		c, -10
0CF9: CD2A19  		call	out_digit
0CFC: 7D      		ld		a, l
0CFD: C9      		ret
              	
0CFE:         	l0cfe:								; se
0CFE: FF00    		defb	0xff, 0x00				; ULAplus palette
              	
0D00:         	report_d:							; zx81
0D00: CF      		rst		error_1					;
0D01: 0C      		defb	BREAK_CONTINUE_repeats	;
              	
0D02:         	l0d02:
0D02: FE02    		cp		2
0D04: 3880    		jr		c, oserror
0D06: FD8631  		add		a, (iy + _dfsz)
0D09: D619    		sub		25
0D0B: D0      		ret		nc
0D0C: ED44    		neg
0D0E: C5      		push	bc
0D0F: 47      		ld		b, a
0D10: 2A8F5C  		ld		hl, (attrt)
0D13: E5      		push	hl
0D14: 2A915C  		ld		hl, (pflag)
0D17: E5      		push	hl
0D18: CD4D0D  		call	trcurp
0D1B: 78      		ld		a, b
              	
0D1C:         	l0d1c:
0D1C: F5      		push	af
0D1D: 216B5C  		ld		hl, dfsz
0D20: 46      		ld		b, (hl)
0D21: 78      		ld		a, b
0D22: 3C      		inc		a
0D23: 77      		ld		(hl), a
0D24: 21895C  		ld		hl, sposnu_h
0D27: BE      		cp		(hl)
0D28: 3803    		jr		c, l0d2d
0D2A: 34      		inc		(hl)
0D2B: 0617    		ld		b, 23
              	
0D2D:         	l0d2d:
0D2D: CD000E  		call	l0e00
0D30: F1      		pop		af
0D31: 3D      		dec		a
0D32: 20E8    		jr		nz, l0d1c
0D34: E1      		pop		hl
0D35: FD7557  		ld		(iy + _pflag), l
0D38: E1      		pop		hl
0D39: 228F5C  		ld		(attrt), hl
0D3C: ED4B885C		ld		bc, (sposnu)
0D40: FDCB0286		res		0, (iy + _dflag)
0D44: CDD90D  		call	l0dd9
0D47: FDCB02C6		set		0, (iy + _dflag)
0D4B: C1      		pop		bc
0D4C: C9      		ret
              	
0D4D:         	trcurp:								; skel
0D4D: AF      		xor		a						;
0D4E: 2A8D5C  		ld		hl, (attrp)				;
0D51: FDCB0246		bit		0, (iy + _dflag)		;
0D55: 2804    		jr		z, l0d5b				;
0D57: 67      		ld		h, a					;
0D58: FD6E0E  		ld		l, (iy + _bordcr)		;
              										;
0D5B:         	l0d5b:								;
0D5B: 228F5C  		ld		(attrt), hl				;
0D5E: 21915C  		ld		hl, pflag				;
0D61: 2002    		jr		nz, l0d65				;
0D63: 7E      		ld		a, (hl)					;
0D64: 0F      		rrca							;
              										;
0D65:         	l0d65:								;
0D65: AE      		xor		(hl)					;
0D66: E655    		and		%01010101				;
0D68: AE      		xor		(hl)					;
0D69: 77      		ld		(hl), a					;
0D6A: C9      		ret								;
              										;
0D6B:         	cls:								;
0D6B: CD5F00  		call	l005f					;
              										;
0D6E:         	clslower:							;
0D6E: 213C5C  		ld		hl, dflag				;
0D71: CBAE    		res		5, (hl)					;
0D73: CBC6    		set		0, (hl)					;
0D75: FD4631  		ld		b, (iy + _dfsz)			;
0D78: CD440E  		call	l0e44					;
0D7B: 21C05A  		ld		hl, attrmap + 0x02c0	;
0D7E: 3A8D5C  		ld		a, (attrp)				;
0D81: 05      		dec		b						;
0D82: 180A    		jr		l0d8e					;
              	
0D84:         	l0d84:								; se
0D84: 434D53  		defb	"CMS"					;
              	
0D87:         	l0d87:
0D87: 0E20    		ld		c, 32					; skel
              										;
0D89:         	l0d89:								;
0D89: 2B      		dec		hl						;
0D8A: 77      		ld		(hl), a					;
0D8B: 0D      		dec		c						;
0D8C: 20FB    		jr		nz, l0d89				;
              										;
0D8E:         	l0d8e:								;
0D8E: 10F7    		djnz	l0d87					;
0D90: FD363102		ld		(iy + _dfsz), 2			;
              										;
0D94:         	l0d94:								;
0D94: 3EFD    		ld		a, 253					;
0D96: CD0116  		call	l1601
0D99: 2A515C  		ld		hl, (curchl)			; skel
0D9C: 11F409  		ld		de, prmain				;
0D9F: A7      		and		a						;
              										;
0DA0:         	l0da0:								;
0DA0: 73      		ld		(hl), e					;
0DA1: 23      		inc		hl						;
0DA2: 72      		ld		(hl), d					;
0DA3: 23      		inc		hl						;
0DA4: 11A610  		ld		de, kyip				;
0DA7: 3F      		ccf								;
0DA8: 38F6    		jr		c, l0da0				;
0DAA: 012117  		ld		bc, 0x1721				;
0DAD: 182A    		jr		l0dd9					;
              										;
0DAF:         	l0daf:								;
0DAF: 210000  		ld		hl, 0					;
0DB2: 227D5C  		ld		(xcoord), hl			;
0DB5: FDCB3086		res		0, (iy + _klflag)		;
0DB9: CD940D  		call	l0d94					;
0DBC: CD170B  		call	streamfe
0DBF: 0618    		ld		b, 24					; skel
0DC1: CD440E  		call	l0e44					;
0DC4: 2A515C  		ld		hl, (curchl)			;
0DC7: 11F409  		ld		de, prmain				;
0DCA: 73      		ld		(hl), e					;
0DCB: 23      		inc		hl						;
0DCC: 72      		ld		(hl), d					;
0DCD: FD365201		ld		(iy + _scrct), 1		;
0DD1: 1806    		jr		l0dd9					;
              	
0DD3:         	l0dd3:								; se
0DD3: CD1B2D  		call	numeric					;
0DD6: C36810  		jp		l1068					;
              	
0DD9:         	l0dd9:								; skel
0DD9: 78      		ld		a, b					;
0DDA: FDCB0246		bit		0, (iy + _dflag)		;
0DDE: 2805    		jr		z, l0de5				;
0DE0: FD8631  		add		a, (iy + _dfsz)			;
0DE3: D618    		sub		24						;
              										;
0DE5:         	l0de5:								;
0DE5: C5      		push	bc						;
0DE6: 47      		ld		b, a					;
0DE7: CD9B0E  		call	l0e9b					;
0DEA: C1      		pop		bc						;
0DEB: 3E21    		ld		a, 33					;
0DED: 91      		sub		c						;
0DEE: 5F      		ld		e, a					;
0DEF: 1600    		ld		d, 0					;
0DF1: 19      		add		hl, de					;
0DF2: C3DC0A  		jp		l0adc					;
              	
0DF5:         	x80_ftan:							; zx81
              		fwait							;
0DF5: EF      		rst	28h
              		fmove							;
0DF6: 31      		defb	0x31
              		fsin							;
0DF7: 1F      		defb	0x1f
              		fxch							;
0DF8: 01      		defb	0x01
              		fcos							;
0DF9: 20      		defb	0x20
              		fdiv							;
0DFA: 05      		defb	0x05
              		fce								;
0DFB: 38      		defb	0x38
0DFC: C9      		ret								;
0DFD: FF      		defb	0xff					; se
              	
0DFE:         	l0dfe:								; skel
0DFE: 0617    		ld		b, 23					;
              										;
0E00:         	l0e00:								;
0E00: CD9B0E  		call	l0e9b					;
0E03: 0E08    		ld		c, 8					;
              										;
0E05:         	l0e05:								;
0E05: C5      		push	bc						;
0E06: E5      		push	hl						;
0E07: 78      		ld		a, b					;
0E08: E607    		and		%00000111				;
0E0A: 78      		ld		a, b					;
0E0B: 200C    		jr		nz, l0e19				;
              										;
0E0D:         	l0e0d:								;
0E0D: EB      		ex		de, hl					;
0E0E: 21E0F8  		ld		hl, 0xf8e0				;
0E11: 19      		add		hl, de					;
0E12: EB      		ex		de, hl					;
0E13: 012000  		ld		bc, 0x0020				;
0E16: 3D      		dec		a						;
0E17: EDB0    		ldir							;
              										;
0E19:         	l0e19:								;
0E19: EB      		ex		de, hl					;
0E1A: 21E0FF  		ld		hl, 0xffe0				;
0E1D: 19      		add		hl, de					;
0E1E: EB      		ex		de, hl					;
0E1F: 47      		ld		b, a					;
0E20: E607    		and		%00000111				;
0E22: 0F      		rrca							;
0E23: 0F      		rrca							;
0E24: 0F      		rrca							;
0E25: 4F      		ld		c, a					;
0E26: 78      		ld		a, b					;
0E27: 0600    		ld		b, 0					;
0E29: EDB0    		ldir							;
0E2B: 0607    		ld		b, 7					;
0E2D: 09      		add		hl, bc					;
0E2E: E6F8    		and		%11111000				;
0E30: 20DB    		jr		nz, l0e0d				;
0E32: E1      		pop		hl						;
0E33: 24      		inc		h						;
0E34: C1      		pop		bc						;
0E35: 0D      		dec		c						;
0E36: 20CD    		jr		nz, l0e05				;
0E38: CD880E  		call	l0e88					;
0E3B: 21E0FF  		ld		hl, 0xffe0				;
0E3E: 19      		add		hl, de					;
0E3F: EB      		ex		de, hl					;
0E40: EDB0    		ldir							;
0E42: 0601    		ld		b, 1					;
              										;
0E44:         	l0e44:								;
0E44: C5      		push	bc						;
0E45: CD9B0E  		call	l0e9b					;
0E48: 0E08    		ld		c, 8					;
              										;
0E4A:         	l0e4a:								;
0E4A: C5      		push	bc						;
0E4B: E5      		push	hl						;
0E4C: 78      		ld		a, b					;
              										;
0E4D:         	l0e4d:								;
0E4D: E607    		and		%00000111				;
0E4F: 0F      		rrca							;
0E50: 0F      		rrca							;
0E51: 0F      		rrca							;
0E52: 4F      		ld		c, a					;
0E53: 78      		ld		a, b					;
0E54: 0600    		ld		b, 0					;
0E56: 0D      		dec		c						;
0E57: 54      		ld		d, h					;
0E58: 5D      		ld		e, l					;
0E59: 70      		ld		(hl), b					; se
0E5A: 13      		inc		de						; skel
0E5B: EDB0    		ldir							;
0E5D: 110107  		ld		de, 0x0701				;
0E60: 19      		add		hl, de					;
0E61: 3D      		dec		a						;
0E62: E6F8    		and		%11111000				;
0E64: 47      		ld		b, a					;
0E65: 20E6    		jr		nz, l0e4d				;
0E67: E1      		pop		hl						;
0E68: 24      		inc		h						;
0E69: C1      		pop		bc						;
0E6A: 0D      		dec		c						;
0E6B: C24A0E  		jp		nz, l0e4a				; se
0E6E: CD880E  		call	l0e88					; skel
              	
0E71:         	screen2:
0E71: 62      		ld		h, d					;
0E72: 6B      		ld		l, e					;
0E73: 13      		inc		de						;
0E74: 3A8D5C  		ld		a, (attrp)				;
0E77: FDCB0246		bit		0, (iy + _dflag)		;
0E7B: 2803    		jr		z, l0e80				;
0E7D: 3A485C  		ld		a, (bordcr)				;
              										;
0E80:         	l0e80:								;
0E80: 77      		ld		(hl), a					;
0E81: 0B      		dec		bc						;
0E82: EDB0    		ldir							;
0E84: C1      		pop		bc						;
0E85: 0E21    		ld		c, 33					;
0E87: C9      		ret								;
              										;
0E88:         	l0e88:								;
0E88: 7C      		ld		a, h					;
0E89: 0F      		rrca							;
0E8A: 0F      		rrca							;
0E8B: 0F      		rrca							;
0E8C: 3D      		dec		a						;
0E8D: F650    		or		%01010000				;
0E8F: 67      		ld		h, a					;
0E90: EB      		ex		de, hl					;
0E91: 61      		ld		h, c					;
0E92: 68      		ld		l, b					;
0E93: 29      		add		hl, hl					;
0E94: 29      		add		hl, hl					;
0E95: 29      		add		hl, hl					;
0E96: 29      		add		hl, hl					;
0E97: 29      		add		hl, hl					;
0E98: 44      		ld		b, h					;
0E99: 4D      		ld		c, l					;
0E9A: C9      		ret								;
              										;
0E9B:         	l0e9b:								;
0E9B: 3E18    		ld		a, 24					;
0E9D: 90      		sub		b						;
0E9E: 57      		ld		d, a					;
0E9F: 0F      		rrca							;
0EA0: 0F      		rrca							;
0EA1: 0F      		rrca							;
0EA2: E6E0    		and		%11100000				;
0EA4: 6F      		ld		l, a					;
0EA5: 7A      		ld		a, d					;
0EA6: E618    		and		%00011000				;
0EA8: F640    		or		%01000000				;
0EAA: 67      		ld		h, a					;
0EAB: C9      		ret								;
              	
0EAC:         	l0eac:
0EAC: FE5C    		cp		'\'
0EAE: 280B    		jr		z, l0ebb
0EB0: FE7E    		cp		'~'
0EB2: 202A    		jr		nz, l0ede
0EB4: F1      		pop		af
0EB5: 017C10  		ld		bc, 0x107c
0EB8: C30D27  		jp		s_push_po
              	
0EBB:         	l0ebb:
0EBB: F1      		pop		af
0EBC: CD3025  		call	syntax_z
0EBF: C2B526  		jp		nz, s_stk_dec
0EC2: 110000  		ld		de, 0
              	
0EC5:         	l0ec5:
0EC5: E7      		rst		next_ch
0EC6: D630    		sub		48
0EC8: FE08    		cp		8
0ECA: 3048    		jr		nc, l0f14
0ECC: EB      		ex		de, hl
0ECD: 29      		add		hl, hl
0ECE: 3804    		jr		c, l0ed4
0ED0: 29      		add		hl, hl
0ED1: 3801    		jr		c, l0ed4
0ED3: 29      		add		hl, hl
              	
0ED4:         	l0ed4:
0ED4: DAAD31  		jp		c, report_6
0ED7: 1600    		ld		d, 0
0ED9: 5F      		ld		e, a
0EDA: 19      		add		hl, de
0EDB: EB      		ex		de, hl
0EDC: 18E7    		jr		l0ec5
              	
0EDE:         	l0ede:
0EDE: FE26    		cp		'&'		
0EE0: C2DC16  		jp		nz, l16dc
0EE3: F1      		pop		af
0EE4: CD3025  		call	syntax_z
0EE7: C2B526  		jp		nz, s_stk_dec
0EEA: 110000  		ld		de, 0
              	
0EED:         	l0eed:
0EED: E7      		rst		next_ch
0EEE: CD882C  		call	alphanum
0EF1: 3021    		jr		nc, l0f14
0EF3: FE41    		cp		'A'
0EF5: DA000F  		jp		c, l0f00
0EF8: F620    		or		%00100000
0EFA: FE67    		cp		'g'
0EFC: 3016    		jr		nc, l0f14
0EFE: D627    		sub		0x27
              	
0F00:         	l0f00:
0F00: E60F    		and		%00001111
0F02: 4F      		ld		c, a
0F03: 7A      		ld		a, d
0F04: E6F0    		and		%11110000
0F06: C2AD31  		jp		nz, report_6
0F09: 79      		ld		a, c
0F0A: EB      		ex		de, hl
0F0B: 29      		add		hl, hl
0F0C: 29      		add		hl, hl
0F0D: 29      		add		hl, hl
0F0E: 29      		add		hl, hl
0F0F: B5      		or		l
0F10: 6F      		ld		l, a
0F11: EB      		ex		de, hl
0F12: 18D9    		jr		l0eed
              	
0F14:         	l0f14:
0F14: CDB32C  		call	l2cb3
0F17: C39526  		jp		l2695
              	
0F1A:         	l0f1a:								; se
0F1A: 01F0D8  		ld		bc, -10000				;
0F1D: CD2A19  		call	out_digit				;
0F20: 0118FC  		ld		bc, -1000				; zx81
0F23: CD2A19  		call	out_digit				;
0F26: 019CFF  		ld		bc, -100				;
0F29: C3F40C  		jp		l0cf4					; se
              	
0F2C:         	editor:								; sam
0F2C: 2A3D5C  		ld		hl, (errsp)				;
0F2F: E5      		push	hl						;
              										;
0F30:         	edag:								;
0F30: 217F10  		ld		hl, eder				;
0F33: E5      		push	hl						;
0F34: ED733D5C		ld		(errsp), sp				;
              	
0F38:         	l0f38:
0F38: CDD415  		call	waitkey
0F3B: F5      		push	af
0F3C: 21C800  		ld		hl, 200
0F3F: 3A395C  		ld		a, (click)
0F42: 5F      		ld		e, a
0F43: A7      		and		a
0F44: C4B503  		call	nz, l03b5
0F47: F1      		pop		af
0F48: 21380F  		ld		hl, l0f38
0F4B: E5      		push	hl
0F4C: FE18    		cp		24
0F4E: 3031    		jr		nc, add_char
0F50: FE07    		cp		7
0F52: 382D    		jr		c, add_char
0F54: FE10    		cp		16
0F56: 383A    		jr		c, l0f92
0F58: 010200  		ld		bc, 2
0F5B: 57      		ld		d, a
0F5C: FE16    		cp		22
0F5E: 380C    		jr		c, l0f6c
0F60: 03      		inc		bc
0F61: CDD415  		call	waitkey
0F64: FDCB377E		bit		7, (iy + _flage)
0F68: CA1A10  		jp		z, l101a
0F6B: 5F      		ld		e, a
              	
0F6C:         	l0f6c:
0F6C: CDD415  		call	waitkey
0F6F: D5      		push	de
0F70: 2A5B5C  		ld		hl, (kcur)
0F73: FDCB0786		res		0, (iy + _mode)
0F77: CD5516  		call	make_room
0F7A: C1      		pop		bc
0F7B: 23      		inc		hl
0F7C: 70      		ld		(hl), b
0F7D: 23      		inc		hl
0F7E: 71      		ld		(hl), c
0F7F: 1806    		jr		l0f87
              	
0F81:         	add_char:
0F81: 2A5B5C  		ld		hl, (kcur)
0F84: CD5216  		call	one_space				; zx81
              										;
0F87:         	l0f87:								;
0F87: 12      		ld		(de), a					;
0F88: 13      		inc		de
0F89: ED535B5C		ld		(kcur), de
0F8D: C9      		ret
              	
0F8E:         	l0f8e:
0F8E: F1      		pop		af
0F8F: C3AC12  		jp		l12ac
              	
0F92:         	l0f92:
0F92: 5F      		ld		e, a
0F93: 1600    		ld		d, 0
0F95: 21990F  		ld		hl, cursor - 7
0F98: 19      		add		hl, de
0F99: 5E      		ld		e, (hl)
0F9A: 19      		add		hl, de
0F9B: E5      		push	hl
0F9C: 2A5B5C  		ld		hl, (kcur)
0F9F: C9      		ret
              	
0FA0:         	cursor:								; zx81
0FA0: 09      		defb	edit_key - $			;
0FA1: 65      		defb	left_key - $			;
0FA2: 69      		defb	right_key - $			;
0FA3: 48      		defb	down_key - $			;
0FA4: A6      		defb	up_key - $				;
0FA5: 6E      		defb	rubout - $				;
0FA6: 77      		defb	n_l_key - $				;
0FA7: CF      		defb	function - $			;
0FA8: D4      		defb	graphics - $			;
              	
0FA9:         	edit_key:
0FA9: 2A495C  		ld		hl, (eppc)
0FAC: FDCB376E		bit		5, (iy + _flage)
0FB0: C29510  		jp		nz, l1095
0FB3: CD6E19  		call	line_addr				; zx81
0FB6: CD9516  		call	line_no					;
0FB9: 7A      		ld		a, d					;
0FBA: B3      		or		e						;
0FBB: CA9510  		jp		z, l1095
0FBE: E5      		push	hl
0FBF: 23      		inc		hl						; zx81
0FC0: 4E      		ld		c, (hl)					;
0FC1: 23      		inc		hl						;
0FC2: 46      		ld		b, (hl)					;
0FC3: 210A00  		ld		hl, 10
0FC6: 09      		add		hl, bc
0FC7: 44      		ld		b, h
0FC8: 4D      		ld		c, l
0FC9: CD051F  		call	test_room
0FCC: CD9510  		call	l1095
0FCF: 2A515C  		ld		hl, (curchl)
0FD2: E3      		ex		(sp), hl
0FD3: E5      		push	hl
0FD4: 3EFF    		ld		a, 255
0FD6: CD0116  		call	l1601
0FD9: E1      		pop		hl
0FDA: 2B      		dec		hl
0FDB: CD6018  		call	l1860
0FDE: 2A595C  		ld		hl, (eline)
0FE1: CDB518  		call	l18b5
0FE4: 225B5C  		ld		(kcur), hl
0FE7: E1      		pop		hl
0FE8: C31516  		jp		chanflag
              	
0FEB:         	down_key:
0FEB: FDCB376E		bit		5, (iy + _flage)		; se
0FEF: C20824  		jp		nz, l2408				;
0FF2: CDF60A  		call	l0af6					;
0FF5: 21495C  		ld		hl, eppc				;
0FF8: EB      		ex		de, hl					;
              										;
0FF9:         	l0ff9:								;
0FF9: CD0B10  		call	right_key				;
0FFC: 10FB    		djnz	l0ff9					;
0FFE: C9      		ret								;
              	
0FFF:         	l0fff:
0FFF: 3E08    		ld		a, %00001000
1001: AE      		xor		(hl)
1002: 77      		ld		(hl), a
1003: C3F410  		jp		l10f4					; se
              										;
              		
1006:         	left_key:
1006: CD2A10  		call	left_edge
1009: 1804    		jr		l100f
              	
100B:         	right_key:							; se
100B: C39900  		jp		l0099					;
              	
100E:         	l100e:
100E: 23      		inc		hl
              	
100F:         	l100f:
100F: 225B5C  		ld		(kcur), hl
1012: C9      		ret
              	
1013:         	rubout:								; zx81
1013: CD2A10  		call	left_edge				;
1016: EB      		ex		de, hl					; se
1017: C3E519  		jp		reclaim_1				;
              	
101A:         	l101a:
101A: CDD415  		call	waitkey
              	
101D:         	n_l_key:
101D: E1      		pop		hl
101E: E1      		pop		hl
              	
101F:         	l101f:
101F: E1      		pop		hl
1020: 223D5C  		ld		(errsp), hl
1023: FDCB007E		bit		7, (iy + _errnr)
1027: C0      		ret		nz
1028: F9      		ld		sp, hl
1029: C9      		ret
              	
102A:         	left_edge:
102A: 37      		scf
102B: CD9511  		call	l1195
102E: ED52    		sbc		hl, de
1030: 19      		add		hl, de
1031: 23      		inc		hl
1032: C1      		pop		bc
1033: D8      		ret		c
1034: C5      		push	bc
1035: 44      		ld		b, h
1036: 4D      		ld		c, l
              	
1037:         	l1037:
1037: 62      		ld		h, d
1038: 6B      		ld		l, e
1039: 23      		inc		hl
103A: 1A      		ld		a, (de)
103B: E6F0    		and		%11110000
103D: FE10    		cp		ctrl_pen
103F: 2001    		jr		nz, l1042
1041: 23      		inc		hl
              	
1042:         	l1042:
1042: A7      		and		a
1043: ED42    		sbc		hl, bc
1045: 09      		add		hl, bc
1046: EB      		ex		de, hl
1047: 38EE    		jr		c, l1037
1049: C9      		ret
              	
104A:         	up_key:
104A: FDCB376E		bit		5, (iy + _flage)		; se
104E: C0      		ret		nz						;
104F: CDF60A  		call	l0af6					;
1052: 2A495C  		ld		hl, (eppc)				;
1055: EB      		ex		de, hl					;
              										;
1056:         	l1056:								;
1056: C5      		push	bc						;
1057: CD0610  		call	left_key				;
105A: C1      		pop		bc						;
105B: 10F9    		djnz	l1056					;
105D: C9      		ret								;
              										;
105E:         	l105e:								;
105E: CD0139  		call	syntax3					;
1061: 78      		ld		a, b					;
1062: B1      		or 		c						;
1063: C0      		ret		nz						;
1064: C1      		pop		bc						;
1065: C3EB38  		jp		l38ec					;
              		
1068:         	l1068:
1068: F5      		push	af						;
1069: CD3B2D  		call	int_to_fp				;
106C: F1      		pop		af						;
106D: D0      		ret		nc						;
106E: C1      		pop		bc						;
106F: CDA22D  		call	fp_to_bc				;
1072: 37      		scf								;
1073: C3C516  		jp		set_mem					;
              		
1076:         	function:
1076: FDCB377E		bit		7, (iy + _flage)
107A: 28A1    		jr		z, n_l_key
              	
107C:         	graphics:
107C: C3810F  		jp		add_char
              	
107F:         	eder:
107F: FDCB3066		bit		4, (iy + _klflag)
1083: 289A    		jr		z, l101f
1085: CD6711  		call	l1167
1088: C3300F  		jp		edag
              	
108B:         	l108b:
108B: CD6711  		call	l1167
108E: ED5B8A5C		ld		de, (sposnl)
1092: C37E11  		jp		l117e
              	
1095:         	l1095:
1095: E5      		push	hl
1096: CD9011  		call	l1190
1099: 2B      		dec		hl
109A: CDE519  		call	reclaim_1
109D: 225B5C  		ld		(kcur), hl
10A0: FD360700		ld		(iy + _mode), 0
10A4: E1      		pop		hl
10A5: C9      		ret
              	
10A6:         	kyip:
10A6: FDCB025E		bit		3, (iy + _dflag)
10AA: C41D11  		call	nz, l111d
10AD: A7      		and		a						; sam
10AE: FDCB016E		bit		5, (iy + _flags)		;
10B2: C8      		ret		z						;
              										;
10B3:         	l10b3:								;
10B3: 3A085C  		ld		a, (lastk)				;
10B6: FDCB01AE		res		5, (iy + _flags)		;
10BA: F5      		push	af						;
10BB: FDCB026E		bit		5, (iy + _dflag)		;
10BF: C46E0D  		call	nz, clslower			;
10C2: F1      		pop		af						;
10C3: FE20    		cp		' '
10C5: 3054    		jr		nc, l111b
10C7: FE10    		cp		ctrl_pen
10C9: 302F    		jr		nc, l10fa
10CB: FE06    		cp		6
10CD: 300A    		jr		nc, l10d9
10CF: 47      		ld		b, a
10D0: E601    		and		%00000001
10D2: 4F      		ld		c, a
10D3: 78      		ld		a, b
10D4: 1F      		rra
10D5: C612    		add		a, 18
10D7: 182C    		jr		l1105
              	
10D9:         	l10d9:
10D9: 216A5C  		ld		hl, klflag				; se
10DC: CAFF0F  		jp		z, l0fff				;
10DF: FE07    		cp		7						;
10E1: 2003    		jr		nz, l10e6				;
10E3: 3D      		dec		a						;
10E4: 37      		scf								;
10E5: C9      		ret								;
              	
10E6:         	l10e6:
10E6: FE0E    		cp		ctrl_symbol
10E8: D8      		ret		c
10E9: D60D    		sub		13
10EB: 21415C  		ld		hl, mode
10EE: BE      		cp		(hl)
10EF: 77      		ld		(hl), a
10F0: 2002    		jr		nz, l10f4
10F2: 3600    		ld		(hl), 0
              	
10F4:         	l10f4:
10F4: FDCB02DE		set		3, (iy + _dflag)
10F8: BF      		cp		a
10F9: C9      		ret
              	
10FA:         	l10fa:
10FA: 47      		ld		b, a
10FB: E607    		and		%00000111
10FD: 4F      		ld		c, a
10FE: 3E10    		ld		a, ctrl_pen
1100: CB58    		bit		3, b
1102: 2001    		jr		nz, l1105
1104: 3C      		inc		a
              	
1105:         	l1105:
1105: FD71D3  		ld		(iy - _kdata), c
1108: 110D11  		ld		de, l110d
110B: 1806    		jr		l1113
              	
110D:         	l110d:
110D: 3A0D5C  		ld		a, (kdata)
1110: 11A610  		ld		de, kyip
              	
1113:         	l1113:
1113: 2A4F5C  		ld		hl, (chans)
1116: 23      		inc		hl
1117: 23      		inc		hl
1118: 73      		ld		(hl), e
1119: 23      		inc		hl
111A: 72      		ld		(hl), d
              	
111B:         	l111b:
111B: 37      		scf
111C: C9      		ret
              	
111D:         	l111d:
111D: CD4D0D  		call	trcurp
1120: FDCB029E		res		3, (iy + _dflag)
1124: FDCB02AE		res		5, (iy + _dflag)
1128: 2A8A5C  		ld		hl, (sposnl)
112B: E5      		push	hl
112C: 2A3D5C  		ld		hl, (errsp)
112F: E5      		push	hl
1130: 218B10  		ld		hl, l108b
1133: E5      		push	hl
1134: ED733D5C		ld		(errsp), sp
1138: 2A825C  		ld		hl, (echoe)
113B: E5      		push	hl
113C: 37      		scf
113D: CD9511  		call	l1195
1140: EB      		ex		de, hl
1141: CD7F18  		call	l187f
1144: EB      		ex		de, hl
1145: CDD318  		call	opcursor
1148: 2A8A5C  		ld		hl, (sposnl)
114B: E3      		ex		(sp), hl
114C: EB      		ex		de, hl
114D: CD4D0D  		call	trcurp
              	
1150:         	l1150:
1150: 3A8B5C  		ld		a, (sposnl_h)
1153: 92      		sub		d
1154: 3826    		jr		c, l117c
1156: 2006    		jr		nz, l115e
1158: 7B      		ld		a, e
1159: FD9650  		sub		(iy + _sposnl)
115C: 301E    		jr		nc, l117c
              	
115E:         	l115e:
115E: 3E20    		ld		a, ' '
1160: D5      		push	de
1161: CDF409  		call	prmain
1164: D1      		pop		de
1165: 18E9    		jr		l1150
              	
1167:         	l1167:
1167: D9      		exx
1168: 1600    		ld		d, 0
116A: FD5EFE  		ld		e, (iy - _errsound)
116D: 216408  		ld		hl, 0x0864
1170: CDB503  		call	l03b5
1173: D9      		exx
1174: FD3600FF		ld		(iy + _errnr), OK
1178: C9      		ret
              	
1179:         	l1179:						; se
1179: E1      		pop		hl				;
117A: F9      		ld		sp, hl			;
117B: C9      		ret						;
              	
117C:         	l117c:
117C: D1      		pop		de
117D: E1      		pop		hl
              	
117E:         	l117e:
117E: E1      		pop		hl
117F: 223D5C  		ld		(errsp), hl
1182: C1      		pop		bc
1183: D5      		push	de
1184: CDD90D  		call	l0dd9
1187: E1      		pop		hl
1188: 22825C  		ld		(echoe), hl
118B: FD362600		ld		(iy + _xptr_h), 0
118F: C9      		ret
              	
1190:         	l1190:
1190: 2A615C  		ld		hl, (worksp)
1193: 2B      		dec		hl
1194: A7      		and		a
              	
1195:         	l1195:
1195: ED5B595C		ld		de, (eline)
1199: FDCB376E		bit		5, (iy + _flage)
119D: C8      		ret		z
119E: ED5B615C		ld		de, (worksp)
11A2: D8      		ret		c
11A3: 2A635C  		ld		hl, (stkbot)
11A6: C9      		ret
              	
11A7:         	l11a7:
11A7: 7E      		ld		a, (hl)
11A8: FE0E    		cp		ctrl_number
11AA: 010600  		ld		bc, 6
11AD: CCE819  		call	z, reclaim_2
11B0: 7E      		ld		a, (hl)
11B1: 23      		inc		hl
11B2: FE0D    		cp		ctrl_n_l
11B4: 20F1    		jr		nz, l11a7
11B6: C9      		ret
              	
11B7:         	l11cb:								; se
11B7: EDB0    		ldir							;
11B9: 18BE    		jr		l1179					;
              										;
11BB:         	new:								;
11BB: F3      		di								;
11BC: AF      		xor		a						;
11BD: 3D      		dec		a						;
11BE: ED5BB25C		ld		de, (ramtop)			;
11C2: D9      		exx								;
11C3: ED4B7B5C		ld		bc, (udg)				;
11C7: ED5BB05C		ld		de, (nmiadd)			;
11CB: 2AB45C  		ld		hl, (pramt)				;
11CE: D9      		exx								;
              										;
11CF:         	l11cf:								;
11CF: 08      		ex		af, af'					;'
11D0: AF      		xor		a						;
11D1: D3FF    		out		(scld), a				;
11D3: 3E06    		ld		a, 6					;
11D5: ED47    		ld		i, a					;
11D7: FD62    		ld		yh, d					;
11D9: FD6B    		ld		yl, e					;
11DB: EB      		ex		de, hl					;
11DC: 11005C  		ld		de, 0x5c00				;
11DF: ED52    		sbc		hl, de					;
11E1: 44      		ld		b, h					;
11E2: 4D      		ld		c, l					;
11E3: 62      		ld		h, d					;
11E4: 6B      		ld		l, e					;
11E5: 75      		ld		(hl), l					;
11E6: 1C      		inc		e						;
11E7: EDB0    		ldir							;
11E9: D9      		exx								;
11EA: ED437B5C		ld		(udg), bc				;
11EE: ED53B05C		ld		(nmiadd), de			;
11F2: 22B45C  		ld		(pramt), hl				;
11F5: D9      		exx								; 
11F6: 08      		ex		af, af'					;'
11F7: 3C      		inc		a						;
11F8: CA1312  		jp		z, set_top				;
              	;		ld		h, yh				; not supported
              	;		ld		l, yl				; by binutils
11FB: FD64FD6D		defb	0xfd, 0x64, 0xfd, 0x6d	;
11FF: 22B45C  		ld		(pramt), hl				;
1202: 21F70C  		ld		hl, initpal				;
1205: 11005B  		ld		de, palbuf				;
1208: 014000  		ld		bc, 64					;
120B: EDB0    		ldir							;
120D: C3EE09  		jp		setudg					;
              	
1210:         	setudg_ret:
1210: 2AB45C  		ld		hl, (pramt)				;
              	
1213:         	set_top:							; zx81
1213: 22B25C  		ld		(ramtop), hl			;
              	
1216:         	initial:							; skel
1216: 21003C  		ld		hl, font - 256			;
1219: 22365C  		ld		(chars), hl
121C: 213C00  		ld		hl, 0x003c				; se
121F: 22385C  		ld		(errsound), hl			;
1222: 2AB25C  		ld		hl, (ramtop)			; zx81
1225: 363E    		ld		(hl), 0x3e				;
1227: 2B      		dec		hl						;
1228: F9      		ld		sp, hl					;
1229: 2B      		dec		hl						;
122A: 2B      		dec		hl						;
122B: 223D5C  		ld		(errsp), hl				;
122E: ED56    		im		1						;
1230: FD213A5C		ld		iy, errnr				;
1234: FB      		ei
1235: 3A4F5C  		ld		a, (chans)				; se
1238: A7      		and		a						;
1239: FD3646FF		ld		(iy+_onerrflag_h), 0xff	;
123D: 3E15    		ld		a, 21					;
123F: C20F13  		jp		nz, l130f				;
1242: 011500  		ld		bc, 0x0015
1245: 11AF15  		ld		de, chantab
1248: 21B65C  		ld		hl, channels
124B: 224F5C  		ld		(chans), hl
124E: EB      		ex		de, hl
124F: EDB0    		ldir
1251: EB      		ex		de, hl
1252: 2B      		dec		hl
1253: 22575C  		ld		(datadd), hl
1256: 23      		inc		hl
1257: 224B5C  		ld		(vars), hl
125A: 22535C  		ld		(prog), hl
125D: 3680    		ld		(hl), 0x80
125F: 23      		inc		hl
1260: 22595C  		ld		(eline), hl
1263: 3E07    		ld		a, white				; se
1265: 32485C  		ld		(bordcr), a				;
1268: 328D5C  		ld		(attrp), a				;
126B: 211902  		ld		hl, 0x0219				;
126E: 22095C  		ld		(repdel), hl			;
1271: 211612  		ld		hl, initial				;
1274: 22B05C  		ld		(nmiadd), hl			;
1277: FD35CA  		dec		(iy - _kstate_4)
127A: FD35C6  		dec		(iy - _kstate)
127D: 0E0E    		ld		c, 14
127F: 11105C  		ld		de, strms
1282: 21C615  		ld		hl, strmtab
1285: EDB0    		ldir
1287: FD363102		ld		(iy + _dfsz), 2
128B: 3E00    		ld		a, black				; se
128D: D3FE    		out		(ula), a				;
128F: CD6B0D  		call	cls						;
1292: CD4D39  		call	l394d					;
1295: AF      		xor		a
1296: 119613  		ld		de, l1396
1299: CD0A0C  		call	l0c0a
129C: FDCB02EE		set		5, (iy + _dflag)
12A0: 1807    		jr		l12a9
              	
12A2:         	l12a2:
12A2: FD363102		ld		(iy + _dfsz), 2
12A6: CD9517  		call	autolist
              	
12A9:         	l12a9:
12A9: CDB016  		call	setmin
              	
12AC:         	l12ac:
12AC: AF      		xor		a
12AD: CD0116  		call	l1601
12B0: CDD039  		call	l39d0
12B3: CD171B  		call	l1b17
12B6: FDCB007E		bit		7, (iy + _errnr)
12BA: 2013    		jr		nz, l12cf
12BC: FDCB3066		bit		4, (iy + _klflag)
12C0: 283F    		jr		z, l1301
12C2: 2A595C  		ld		hl, (eline)
12C5: CDA711  		call	l11a7
12C8: FD3600FF		ld		(iy + _errnr), OK
12CC: C3AC12  		jp		l12ac
              	
12CF:         	l12cf:
12CF: FD360700		ld		(iy + _mode), 0
12D3: CDFB19  		call	eline_no
12D6: 79      		ld		a, c
12D7: B0      		or		b
12D8: C25D15  		jp		nz, n_l_line
12DB: DF      		rst		get_ch
12DC: FE0D    		cp		ctrl_n_l
12DE: 28C2    		jr		z, l12a2
12E0: FDCB3046		bit		0, (iy + _klflag)
12E4: C4AF0D  		call	nz, l0daf
12E7: CD6E0D  		call	clslower
12EA: 3E19    		ld		a, 25
12EC: FD964F  		sub		(iy + _sposnu_h)
12EF: 328C5C  		ld		(scrct), a
12F2: FDCB01FE		set		7, (iy + _flags)
12F6: FD360A01		ld		(iy + _nsppc), 1
12FA: FD3600FF		ld		(iy + _errnr), OK
12FE: CD8A1B  		call	linerun
              	
1301:         	l1301:
1301: 3A3A5C  		ld		a, (errnr)				; se
1304: FDCB01AE		res		5, (iy + _flags)		;
1308: CDAF38  		call	l38af					;
130B: 3A3A5C  		ld		a, (errnr)
130E: 3C      		inc		a
              		
130F:         	l130f:
130F: F5      		push	af
1310: 01F5C0  		ld		bc, ay_reg				; se
1313: 3E07    		ld		a, 7					;
1315: ED79    		out		(c), a					;
1317: 3EFF    		ld		a, 0xff					;
1319: CDCE38  		call	l38ce					;
131C: 210000  		ld		hl, 0
131F: 220B5C  		ld		(defadd), hl
1322: FD7526  		ld		(iy + _xptr_h), l
1325: FD7537  		ld		(iy + _flage), l
1328: 23      		inc		hl
1329: 22165C  		ld		(strms_00), hl
132C: CDB016  		call	setmin
132F: CD6E0D  		call	clslower
1332: F1      		pop		af
1333: FDCB02EE		set		5, (iy + _dflag)
1337: 110214  		ld		de, l140c - 1
133A: FDCB01C6		set		0, (iy + _flags)
133E: CD0A0C  		call	l0c0a
1341: C34A13  		jp		l134a
              	
1344:         	l1344:								; se
1344: CD451E  		call	restorez				;
1347: C36B0D  		jp		cls						;
              										;
134A:         	l134a:								;
134A: 3E2C    		ld		a, ','					;
134C: D7      		rst		print_a					;
134D: 3E20    		ld		a, ' '					;
134F: D7      		rst		print_a					;
1350: ED4B455C		ld		bc, (ppc)
1354: CD1B1A  		call	out_num
1357: 3E3A    		ld		a, ':'
1359: D7      		rst		print_a
135A: 0600    		ld		b, 0
135C: FD4E0D  		ld		c, (iy + _subppc)
135F: CD1B1A  		call	out_num
1362: CD9510  		call	l1095
1365: 3A3A5C  		ld		a, (errnr)
1368: 3C      		inc		a
1369: 281B    		jr		z, l1386
136B: FE09    		cp		9
136D: 2804    		jr		z, l1373
136F: FE15    		cp		21
1371: 2003    		jr		nz, l1376
              	
1373:         	l1373:
1373: FD340D  		inc		(iy + _subppc)
              	
1376:         	l1376:
1376: 21445C  		ld		hl, nsppc
1379: 11705C  		ld		de, cosppc
137C: 010300  		ld		bc, 3
137F: CB7E    		bit		7, (hl)
1381: 2801    		jr		z, l1384
1383: 09      		add		hl, bc
              	
1384:         	l1384:
1384: EDB8    		lddr
              	
1386:         	l1386:
1386: FD360AFF		ld		(iy + _nsppc), 255
138A: C3AC12  		jp		l12ac
              	
138D:         	setudg3:							; se
138D: ED537B5C		ld		(udg), de				;
1391: EDB0    		ldir							;
1393: C31012  		jp		setudg_ret				;
              	
1396:         	l1396:								; se
1396: 80207F20		incbin		"data/copyright.txt"		;
139A: 31393831	
139E: 204E696E	
13A2: 65205469	
13A6: 6C657320	
13AA: 4E657477	
13AE: 6F726B73	
13B2: 204C74E4	
              	
13B6:         	l13b6:								; sam
13B6: 53746172		incbin		"data/tape.txt"			;
13BA: 74207461	
13BE: 70652061	
13C2: 6E642074	
13C6: 68656E20	
13CA: 70726573	
13CE: 73206120	
13D2: 6B65F9  	
              										;
13D5:         	l13d5:								;
13D5: 0D426173		incbin		"data/filetypes.txt"		;
13D9: 69633AA0	
13DD: 0D4E756D	
13E1: 65726963	
13E5: 20617272	
13E9: 61793AA0	
13ED: 0D537472	
13F1: 696E6720	
13F5: 61727261	
13F9: 793AA00D	
13FD: 436F6465	
1401: 3AA0    	
              	
1403:         	l140c:								; se
1403: 4FCB1477		incbin		"data/reports.txt"		;
1407: 6974686F	
140B: 75740C88	
140F: 556E6465	
1413: 66696E65	
1417: 64207661	
141B: 72696162	
141F: 6CE54261	
1423: 64207375	
1427: 62736372	
142B: 6970F44F	
142F: 7574206F	
1433: 66206D65	
1437: 6D6F72F9	
143B: 4F666620	
143F: 73637265	
1443: 65EE4E75	
1447: 6D626572	
144B: 20746F6F	
144F: 206C6172	
1453: 67E51F77	
1457: 6974686F	
145B: 75740E88	
145F: 456E6420	
1463: 6F662066	
1467: 696CE503	
146B: 73746174	
146F: 656D656E	
1473: F4426164	
1477: 20617267	
147B: 756D656E	
147F: F4496E74	
1483: 65676572	
1487: 206F7574	
148B: 206F6620	
148F: 72616E67	
1493: E553796E	
1497: 74617820	
149B: 6572726F	
149F: F2425245	
14A3: 414B2C09	
14A7: 72657065	
14AB: 6174F345	
14AF: 6E64206F	
14B3: 66058842	
14B7: 61642066	
14BB: 696C656E	
14BF: 616DE54E	
14C3: 6F20726F	
14C7: 6F6D2066	
14CB: 6F72206C	
14CF: 696EE503	
14D3: 696E0F88	
14D7: 0C776974	
14DB: 686F7574	
14DF: 14884261	
14E3: 64206465	
14E7: 766963E5	
14EB: 42616420	
14EF: 636F6C6F	
14F3: 75F24252	
14F7: 45414B20	
14FB: 696E746F	
14FF: 2070726F	
1503: 677261ED	
1507: 4261641E	
150B: 61646472	
150F: 6573F34D	
1513: 69737369	
1517: 6E672073	
151B: 74617465	
151F: 6D656EF4	
1523: 42616420	
1527: 73747265	
152B: 61ED556E	
152F: 64656669	
1533: 6E656420	
1537: 46CE5061	
153B: 72616D65	
153F: 74657220	
1543: 6572726F	
1547: F24C6F61	
154B: 64696E67	
154F: 20657272	
1553: 6FF2    	
              										;
1555:         	l1555:								;
1555: E1      		pop		hl						;
1556: 210113  		ld		hl, l1301				;
1559: E5      		push	hl						;
155A: C3761B  		jp		nextstat				;
              	
155D:         	n_l_line:							; zx81
155D: ED43495C		ld		(eppc), bc				;
1561: 2A5D5C  		ld		hl, (chadd)				;
1564: EB      		ex		de, hl					;
1565: 21CE18  		ld		hl, n_l_only			;
1568: E5      		push	hl						;
1569: 2A615C  		ld		hl, (worksp)			; was stkbot
156C: 37      		scf
156D: ED52    		sbc		hl, de					; zx81
156F: E5      		push	hl						;
1570: 60      		ld		h, b
1571: 69      		ld		l, c
1572: CD6E19  		call	line_addr				; zx81
1575: 2006    		jr		nz, copy_over			;
1577: CDB819  		call	next_one				;
157A: CDE819  		call	reclaim_2				;
              										;
157D:         	copy_over:							;
157D: C1      		pop		bc						;
157E: 79      		ld		a, c					;
157F: 3D      		dec		a						;
1580: B0      		or		b						;
1581: 2828    		jr		z, l15ab
1583: C5      		push	bc						; zx81
1584: 03      		inc		bc						;
1585: 03      		inc		bc						;
1586: 03      		inc		bc						;
1587: 03      		inc		bc						;
1588: 2B      		dec		hl						;
1589: ED5B535C		ld		de, (prog)
158D: D5      		push	de
158E: CD5516  		call	make_room
1591: E1      		pop		hl
1592: 22535C  		ld		(prog), hl
1595: C1      		pop		bc						; zx81
1596: C5      		push	bc						;
1597: 13      		inc		de						;
1598: 2A615C  		ld		hl, (worksp)			; was stkbot
159B: 2B      		dec		hl						;
159C: 2B      		dec		hl
159D: EDB8    		lddr							; zx81
159F: 2A495C  		ld		hl, (eppc)				;
15A2: EB      		ex		de, hl					;
15A3: C1      		pop		bc						;
15A4: 70      		ld		(hl), b					;
15A5: 2B      		dec		hl						;
15A6: 71      		ld		(hl), c					;
15A7: 2B      		dec		hl						;
15A8: 73      		ld		(hl), e					;
15A9: 2B      		dec		hl						;
15AA: 72      		ld		(hl), d					;
              	
15AB:         	l15ab:
15AB: F1      		pop		af
15AC: C3A212  		jp		l12a2
              	
15AF:         	chantab:							; sam
15AF: F409A610		defw	prmain, kyip			;
15B3: 4B      		defb	'K'						;
15B4: F409C415		defw	prmain, iderr			;
15B8: 53      		defb	'S'						;
15B9: 6339C415		defw	l3963, iderr			;
15BD: 52      		defb	'R'						; se
15BE: A533C415		defw	x80_fdel, iderr			;
15C2: 50      		defb	'P'						; sam
15C3: 80      		defb	0x80					;
              										;
15C4:         	iderr:								;
15C4: CF      		rst		error_1					;
15C5: 12      		defb	Bad_device				;
              										;
15C6:         	strmtab:							;
15C6: 01000600		defb	0x01, 0x00, 0x06, 0x00, 0x0b, 0x00, 0x01, 0x00
15CA: 0B000100	
15CE: 01000600		defb	0x01, 0x00, 0x06, 0x00, 0x10, 0x00
15D2: 1000    	
              										;
15D4:         	waitkey:							;
15D4: FDCB026E		bit		5, (iy + _dflag)		;
15D8: 2004    		jr		nz, wtky2				;
15DA: FDCB02DE		set		3, (iy + _dflag)		;
              										;
15DE:         	wtky2:								;
15DE: CDE615  		call	inputad					;
15E1: D8      		ret		c						;
15E2: 28FA    		jr		z, wtky2				;
15E4: CF      		rst		error_1					;
15E5: 07      		defb	End_of_file				;
              										;
15E6:         	inputad:							;
15E6: D9      		exx								;
15E7: E5      		push	hl						;
15E8: 2A515C  		ld		hl, (curchl)			;
15EB: 23      		inc		hl						;
15EC: 23      		inc		hl						;
15ED: 1808    		jr		l15f7
              	
15EF:         	out_code:							; zx81
15EF: 1E30    		ld		e, '0'					;
15F1: 83      		add		a, e					;
              										;
15F2:         	print_sp:							;
15F2: D9      		exx								;
15F3: E5      		push	hl						;
15F4: 2A515C  		ld		hl, (curchl)
              	
15F7:         	l15f7:
15F7: 5E      		ld		e, (hl)
15F8: 23      		inc		hl
15F9: 56      		ld		d, (hl)
15FA: EB      		ex		de, hl
15FB: CD2C16  		call	l162c
15FE: E1      		pop		hl						; zx81
15FF: D9      		exx								;
1600: C9      		ret								;
              	
1601:         	l1601:
1601: 87      		add		a, a
1602: C616    		add		a, 22
1604: 265C    		ld		h, 92
1606: 6F      		ld		l, a
1607: 5E      		ld		e, (hl)
1608: 23      		inc		hl
1609: 56      		ld		d, (hl)
160A: 7B      		ld		a, e
160B: B2      		or		d
160C: 2002    		jr		nz, l1610
              	
160E:         	invstrm:							; sam
160E: CF      		rst		error_1					;
160F: 17      		defb	Bad_stream				;
              	
1610:         	l1610:
1610: 1B      		dec		de
1611: 2A4F5C  		ld		hl, (chans)
1614: 19      		add		hl, de
              	
1615:         	chanflag:
1615: FDCB30A6		res		4, (iy + _klflag)
1619: 22515C  		ld		(curchl), hl			; sam
161C: 23      		inc		hl						;
161D: 23      		inc		hl						;
161E: 23      		inc		hl						;
161F: 23      		inc		hl						;
1620: 4E      		ld		c, (hl)
1621: 212D16  		ld		hl, cltab
1624: CDDC16  		call	l16dc
1627: D0      		ret		nc
1628: 5E      		ld		e, (hl)
1629: 1600    		ld		d, 0
162B: 19      		add		hl, de
              	
162C:         	l162c:
162C: E9      		jp		(hl)
              	
162D:         	cltab:								; sam
162D: 4B07    		defb	'K', l1634 - $			;
162F: 5313    		defb	'S', l1642 - $			;
1631: 5220    		defb	'R', l1651 - $			; se
1633: 00      		defb	0						;
              	
1634:         	l1634:
1634: FDCB01AE		res		5, (iy + _flags)
1638: FDCB30E6		set		4, (iy + _klflag)
163C: FDCB02C6		set		0, (iy + _dflag)
1640: 1804    		jr		l1646
              	
1642:         	l1642:
1642: FDCB0286		res		0, (iy + _dflag)
              	
1646:         	l1646:
1646: C34D0D  		jp		trcurp
              	
1649:         	l1649:								; se
1649: 4B07    		defb	'K', l1650 - $			;
164B: 5305    		defb	'S', l1650 - $			;
164D: 5203    		defb	'R', l1650 - $			;
164F: 00      		defb	0						;
              										;
1650:         	l1650:								;
1650: E1      		pop		hl						;
              										;
1651:         	l1651:								;
1651: C9      		ret								;
              	
1652:         	one_space:							; zx81
1652: 010100  		ld		bc, 1					;
              										;
1655:         	make_room:							;
1655: E5      		push	hl						;
1656: CD051F  		call	test_room				;
1659: E1      		pop		hl						;
165A: CD6416  		call	pointers				;
165D: 2A655C  		ld		hl, (stkend)			;
1660: EB      		ex		de, hl					;
1661: EDB8    		lddr							;
1663: C9      		ret								;
              										;
1664:         	pointers:							;
1664: F5      		push	af						;
1665: E5      		push	hl						;
1666: 214B5C  		ld		hl, vars				;
1669: 3E0E    		ld		a, 14					;
              										;
166B:         	next_ptr:							;
166B: 5E      		ld		e, (hl)					;
166C: 23      		inc		hl						;
166D: 56      		ld		d, (hl)					;
166E: E3      		ex		(sp), hl				;
166F: A7      		and		a						;
1670: ED52    		sbc		hl, de					;
1672: 19      		add		hl, de					;
1673: E3      		ex		(sp), hl				;
1674: 3009    		jr		nc, ptr_done			;
1676: D5      		push	de						;
1677: EB      		ex		de, hl					;
1678: 09      		add		hl, bc					;
1679: EB      		ex		de, hl					;
167A: 72      		ld		(hl), d					;
167B: 2B      		dec		hl						;
167C: 73      		ld		(hl), e					;
167D: 23      		inc		hl						;
167E: D1      		pop		de						;
              										;
167F:         	ptr_done:							;
167F: 23      		inc		hl						;
1680: 3D      		dec		a						;
1681: 20E8    		jr		nz, next_ptr			;
1683: EB      		ex		de, hl					;
1684: D1      		pop		de						;
1685: F1      		pop		af						;
1686: A7      		and		a						;
1687: ED52    		sbc		hl, de					;
1689: 44      		ld		b, h					;
168A: 4D      		ld		c, l					;
168B: 03      		inc		bc						;
168C: 19      		add		hl, de					;
168D: EB      		ex		de, hl					;
168E: C9      		ret								;
              										;
168F:         	l168f:								;
168F: 0000    		defw	0x0000					;
              										;
1691:         	zero_de:							;
1691: EB      		ex		de, hl					;
1692: 118F16  		ld		de, l168f				;
              										;
1695:         	line_no:							;
1695: 7E      		ld		a, (hl)					;
1696: E6C0    		and		%11000000				;
1698: 20F7    		jr		nz, zero_de				;
169A: 56      		ld		d, (hl)					;
169B: 23      		inc		hl						;
169C: 5E      		ld		e, (hl)					;
169D: C9      		ret								;
              										;
169E:         	reserve:							;
169E: 2A635C  		ld		hl, (stkbot)			;
16A1: 2B      		dec		hl						;
16A2: CD5516  		call	make_room				;
16A5: 23      		inc		hl						;
16A6: 23      		inc		hl						;
16A7: C1      		pop		bc						;
16A8: ED43615C		ld		(worksp), bc			; was eline
16AC: C1      		pop		bc						;
16AD: EB      		ex		de, hl					;
16AE: 23      		inc		hl						;
16AF: C9      		ret								;
              	
16B0:         	setmin:
16B0: 2A595C  		ld		hl, (eline)
16B3: 360D    		ld		(hl), ctrl_n_l
16B5: 225B5C  		ld		(kcur), hl
16B8: 23      		inc		hl						; sam
16B9: 3680    		ld		(hl), 0x80				;
16BB: 23      		inc		hl						;
16BC: 22615C  		ld		(worksp), hl			;
              										;
16BF:         	setwork:							;
16BF: 2A615C  		ld		hl, (worksp)			;
16C2: 22635C  		ld		(stkbot), hl
              	
16C5:         	set_mem:							; zx81
16C5: 2A635C  		ld		hl, (stkbot)			;
16C8: 22655C  		ld		(stkend), hl			; sam
16CB: E5      		push	hl
16CC: 21925C  		ld		hl, membot				; zx81
16CF: 22685C  		ld		(mem), hl				;
16D2: E1      		pop		hl
16D3: C9      		ret								; sam
              	
16D4:         	setudg2:							; se
16D4: 1E40    		ld		e, 0x40					;
16D6: 0EA8    		ld		c, 168					;
16D8: C38D13  		jp		setudg3					;
              	
16DB:         	l16db:
16DB: 23      		inc		hl
              	
16DC:         	l16dc:
16DC: 7E      		ld		a, (hl)
16DD: A7      		and		a
16DE: C8      		ret		z
16DF: B9      		cp		c
16E0: 23      		inc		hl
16E1: 20F8    		jr		nz, l16db
16E3: 37      		scf
16E4: C9      		ret
              	
16E5:         	l16e5:
16E5: CD1E17  		call	l171e
16E8: CDA818  		call	l18a8
16EB: 010000  		ld		bc, 0
16EE: 11E2A3  		ld		de, 0xa3e2
16F1: EB      		ex		de, hl
16F2: 19      		add		hl, de
16F3: 3807    		jr		c, l16fc
16F5: 01D415  		ld		bc, strmtab + 14
16F8: 09      		add		hl, bc
16F9: 4E      		ld		c, (hl)
16FA: 23      		inc		hl
16FB: 46      		ld		b, (hl)
              	
16FC:         	l16fc:
16FC: EB      		ex		de, hl
16FD: 71      		ld		(hl), c
16FE: 23      		inc		hl
16FF: 70      		ld		(hl), b
1700: C9      		ret
              	
1701:         	l1701:
1701: E5      		push	hl
1702: 2A4F5C  		ld		hl, (chans)
1705: 09      		add		hl, bc
1706: 23      		inc		hl
1707: 23      		inc		hl
1708: 23      		inc		hl
1709: 4E      		ld		c, (hl)
170A: EB      		ex		de, hl
170B: 214916  		ld		hl, l1649
170E: CDDC16  		call	l16dc
1711: 4E      		ld		c, (hl)
1712: 1802    		jr		l1716
              	
1714:         	l1714:
1714: 09      		add		hl, bc
1715: E9      		jp		(hl)
              	
1716:         	l1716:
1716: 0600    		ld		b, 0
1718: 38FA    		jr		c, l1714
171A: 1809    		jr		invstrm2
171C: E1      		pop		hl
171D: C9      		ret
              	
171E:         	l171e:
171E: CD941E  		call	getbyte
1721: FE10    		cp		16
1723: 3802    		jr		c, l1727
              	
1725:         	invstrm2:							; sam
1725: CF      		rst		error_1					;
1726: 17      		defb	Bad_stream				;
              	
1727:         	l1727:
1727: C603    		add		a, 3
1729: 07      		rlca
172A: 21105C  		ld		hl, strms
172D: 0600    		ld		b, 0
172F: 4F      		ld		c, a
1730: 09      		add		hl, bc
1731: 4E      		ld		c, (hl)
1732: 23      		inc		hl
1733: 46      		ld		b, (hl)
1734: 2B      		dec		hl
1735: C9      		ret
              	
1736:         	l1736:
              		fwait
1736: EF      		rst	28h
              		fxch
1737: 01      		defb	0x01
              		fce
1738: 38      		defb	0x38
1739: CD1E17  		call	l171e
173C: 79      		ld		a, c
173D: B0      		or		b
173E: 2816    		jr		z, l1756
1740: EB      		ex		de, hl
1741: 2A4F5C  		ld		hl, (chans)
1744: 09      		add		hl, bc
1745: 23      		inc		hl
1746: 23      		inc		hl
1747: 23      		inc		hl
1748: 7E      		ld		a, (hl)
1749: EB      		ex		de, hl
174A: FE4B    		cp		'K'
174C: 2808    		jr		z, l1756
174E: FE53    		cp		'S'
1750: 2804    		jr		z, l1756
1752: FE52    		cp		'R'
1754: 20CF    		jr		nz, invstrm2
              	
1756:         	l1756:
1756: CD5D17  		call	l175d
1759: 73      		ld		(hl), e
175A: 23      		inc		hl
175B: 72      		ld		(hl), d
175C: C9      		ret
              	
175D:         	l175d:
175D: E5      		push	hl
175E: CDF12B  		call	stk_fetch
1761: 79      		ld		a, c
1762: B0      		or		b
1763: 2002    		jr		nz, l1767
              	
1765:         	report_f:							; zx81
1765: CF      		rst		error_1					;
1766: 0E      		defb	Bad_filename			;
              	
1767:         	l1767:
1767: C5      		push	bc
1768: 1A      		ld		a, (de)
1769: E6DF    		and		%11011111
176B: 4F      		ld		c, a
176C: 217A17  		ld		hl, l177a
176F: CDDC16  		call	l16dc
1772: 30F1    		jr		nc, report_f
1774: 0600    		ld		b, 0
1776: 4E      		ld		c, (hl)
1777: 09      		add		hl, bc
1778: C1      		pop		bc
1779: E9      		jp		(hl)
              	
177A:         	l177a:
177A: 4B07    		defb	'K', l1781 - $
177C: 5309    		defb	'S', l1785 - $
177E: 520B    		defb	'R', l1789 - $			; se
1780: 00      		defb	0						;
              	
1781:         	l1781:
1781: 1E01    		ld		e, 1
1783: 1806    		jr		l178b
              	
1785:         	l1785:
1785: 1E06    		ld		e, 6
1787: 1802    		jr		l178b
              	
1789:         	l1789:
1789: 1E0B    		ld		e, 0x0b
              	
178B:         	l178b:
178B: 0B      		dec		bc
178C: 78      		ld		a, b
178D: B1      		or		c
178E: 20D5    		jr		nz, report_f
1790: 57      		ld		d, a
1791: E1      		pop		hl
1792: C9      		ret
              	
1793:         	l1793:
1793: 1890    		jr		invstrm2
              	
1795:         	autolist:
1795: FD360210		ld		(iy + _dflag), 16
1799: ED733F5C		ld		(listsp), sp
179D: CDAF0D  		call	l0daf
17A0: FD4631  		ld		b, (iy + _dfsz)
17A3: FDCB02C6		set		0, (iy + _dflag)
17A7: CD440E  		call	l0e44
17AA: FDCB0286		res		0, (iy + _dflag)
17AE: FDCB30C6		set		0, (iy + _klflag)		; sam
17B2: ED5B6C5C		ld		de, (sdtop)				; was hl
17B6: 2A495C  		ld		hl, (eppc)				; was de
17B9: A7      		and		a						;
17BA: ED52    		sbc		hl, de					;
17BC: 19      		add		hl, de
17BD: 3822    		jr		c, aul4
17BF: D5      		push	de
17C0: CD6E19  		call	line_addr
17C3: 11C002  		ld		de, 0x02c0
17C6: EB      		ex		de, hl
17C7: ED52    		sbc		hl, de
17C9: E3      		ex		(sp), hl
17CA: CD6E19  		call	line_addr
17CD: C1      		pop		bc
              	
17CE:         	l17ce:
17CE: C5      		push	bc
17CF: CDB819  		call	next_one
17D2: C1      		pop		bc
17D3: 09      		add		hl, bc
17D4: 380E    		jr		c, l17e4
17D6: EB      		ex		de, hl
17D7: 56      		ld		d, (hl)
17D8: 23      		inc		hl
17D9: 5E      		ld		e, (hl)
17DA: 2B      		dec		hl
17DB: ED536C5C		ld		(sdtop), de
17DF: 18ED    		jr		l17ce
              	
17E1:         	aul4:								; sam
17E1: 226C5C  		ld		(sdtop), hl				;
              	
17E4:         	l17e4:
17E4: 2A6C5C  		ld		hl, (sdtop)
17E7: CD6E19  		call	line_addr
17EA: 2801    		jr		z, l17ed
17EC: EB      		ex		de, hl
              	
17ED:         	l17ed:
17ED: CD3318  		call	l1833
17F0: FDCB02A6		res		4, (iy + _dflag)
17F4: C9      		ret
              	
17F5:         	llist:								; sam
17F5: 3E03    		ld		a, 3					; was c
17F7: 1802    		jr		l17fb					;
              										;
17F9:         	list:								;
17F9: 3E02    		ld		a, 2					; was c
              										;
17FB:         	l17fb:								;
17FB: FD360200		ld		(iy + _dflag), 0		;
17FF: CD3025  		call	syntax_z				;
1802: C40116  		call	nz, l1601
1805: DF      		rst		get_ch
1806: CD7020  		call	l2070
1809: 3814    		jr		c, l181f
180B: DF      		rst		get_ch
180C: FE2C    		cp		','
180E: 2809    		jr		z, l1819
1810: FE3B    		cp		';'
1812: 2805    		jr		z, l1819
              	
1814:         	l1814:
1814: CDE61C  		call	no_to_stk
1817: 1809    		jr		l1822
              	
1819:         	l1819:
1819: E7      		rst		next_ch
181A: CD821C  		call	class_6
181D: 1803    		jr		l1822
              	
181F:         	l181f:
181F: CDDE1C  		call	l1cde
              	
1822:         	l1822:
1822: CDEE1B  		call	check_end
1825: CD0139  		call	syntax3
1828: 78      		ld		a, b
1829: E63F    		and		%00111111
182B: 67      		ld		h, a
182C: 69      		ld		l, c
182D: 22495C  		ld		(eppc), hl
1830: CD6E19  		call	line_addr
              	
1833:         	l1833:
1833: 1E01    		ld		e, 1
              	
1835:         	l1835:
1835: CD5518  		call	out_line
1838: D7      		rst		print_a
1839: FDCB0266		bit		4, (iy + _dflag)
183D: 28F6    		jr		z, l1835
183F: 3A6B5C  		ld		a, (dfsz)
1842: FD964F  		sub		(iy + _sposnu_h)
1845: 20EE    		jr		nz, l1835
1847: AB      		xor		e
1848: C8      		ret		z
1849: D5      		push	de
184A: E5      		push	hl
184B: 216C5C  		ld		hl, sdtop
184E: CD0F19  		call	ln_fetch
1851: E1      		pop		hl
1852: D1      		pop		de
1853: 18E0    		jr		l1835
              	
1855:         	out_line:							; zx81
1855: ED4B495C		ld		bc, (eppc)				;
1859: CD8019  		call	cp_lines				;
185C: 168F    		ld		d, 143					;
185E: 2805    		jr		z, test_end				;
              										;
1860:         	l1860:								;
1860: 110000  		ld		de, 0					;
1863: CB13    		rl		e						;
              										;
1865:         	test_end:							;
1865: FD732D  		ld		(iy + _breg), e			;
1868: 7E      		ld		a, (hl)					;
1869: FE40    		cp		64						;
186B: C1      		pop		bc						;
186C: D0      		ret		nc						;
186D: C5      		push	bc						;
186E: CD281A  		call	out_no					;
1871: 23      		inc		hl						; sam
1872: 23      		inc		hl						;
1873: 23      		inc		hl						;
1874: 7A      		ld		a, d
1875: A7      		and		a
1876: FDCB0186		res		0, (iy + _flags)
187A: 2807    		jr		z, l1883
187C: CDEE18  		call	l18ee
              	
187F:         	l187f:
187F: FDCB01C6		set		0, (iy + _flags)
              	
1883:         	l1883:
1883: D5      		push	de
1884: EB      		ex		de, hl
              	
1885:         	l1885:
1885: 2A5F5C  		ld		hl, (xptr)
1888: A7      		and		a
1889: ED52    		sbc		hl, de
188B: 2008    		jr		nz, l1895
188D: 3E3F    		ld		a, '?'
188F: CDEE18  		call	l18ee
1892: CD6711  		call	l1167
              	
1895:         	l1895:
1895: CDD318  		call	opcursor
1898: EB      		ex		de, hl
1899: 7E      		ld		a, (hl)
189A: CDB118  		call	number
189D: 23      		inc		hl
189E: FE0D    		cp		ctrl_n_l
18A0: 2804    		jr		z, l18a6
18A2: EB      		ex		de, hl
18A3: D7      		rst		print_a
18A4: 18DF    		jr		l1885
              	
18A6:         	l18a6:
18A6: D1      		pop		de
18A7: C9      		ret
              	
18A8:         	l18a8:								; se
18A8: 57      		ld		d, a					;
18A9: 78      		ld		a, b					;
18AA: B1      		or		c						;
18AB: 7A      		ld		a, d					;
18AC: C20117  		jp		nz, l1701				;
18AF: CF      		rst		error_1					;
18B0: 17      		defb	Bad_stream				;
              	
18B1:         	number:								; zx81
18B1: FE0E    		cp		ctrl_number				;
18B3: C0      		ret		nz						;
              	
18B4:         	l18b4:
18B4: 23      		inc		hl						;
              										;
18B5:         	l18b5:								;
18B5: 23      		inc		hl						;
18B6: 23      		inc		hl						;
18B7: 23      		inc		hl						;
18B8: 23      		inc		hl						;
18B9: 23      		inc		hl						; se
18BA: 7E      		ld		a, (hl)					; zx81
18BB: C9      		ret								;
              	
18BC:         	l18bc:								; se
18BC: CD991E  		call	find_int				;
18BF: C5      		push	bc						;
18C0: CD991E  		call	find_int				;
18C3: C5      		push	bc						;
18C4: CD991E  		call	find_int				;
18C7: C5      		push	bc						;
18C8: E1      		pop		hl						;
18C9: D1      		pop		de						;
18CA: C1      		pop		bc						;
18CB: EDB0    		ldir							;
18CD: C9      		ret								;
              	
18CE:         	n_l_only:
18CE: 3E10    		ld		a, 16
18D0: C30F13  		jp		l130f
              	
18D3:         	opcursor:							; sam
18D3: 2A5B5C  		ld		hl, (kcur)				;
18D6: A7      		and		a						;
18D7: ED52    		sbc		hl, de					;
18D9: C0      		ret		nz						;
18DA: 3A415C  		ld		a, (mode)
18DD: FE02    		cp		2						; se
18DF: 3804    		jr		c, l18e5				;
18E1: 3E1D    		ld		a, 29					;
18E3: 1809    		jr		l18ee					;
              										;
18E5:         	l18e5:								;
18E5: 3E1E    		ld		a, 30					;
18E7: FDCB305E		bit		3, (iy + _klflag)		;
18EB: 2801    		jr		z, l18ee				;
18ED: 3C      		inc		a						;
              	
18EE:         	l18ee:								; se
18EE: D9      		exx								;
18EF: 21915C  		ld		hl, pflag				;
18F2: 56      		ld		d, (hl)					;
18F3: D5      		push	de						;
18F4: 360C    		ld		(hl), 0x0c				;
18F6: CDF409  		call	prmain					;
18F9: E1      		pop		hl						;
18FA: FD7457  		ld		(iy + _pflag), h		;
18FD: D9      		exx								;
18FE: C9      		ret								;
              										;
18FF:         	l18ff:								;
18FF: 21085C  		ld		hl, lastk				;
1902: 75      		ld		(hl), l					;
              										;
1903:         	l1903:								;
1903: 7E      		ld		a, (hl)					;
1904: FE0D    		cp		ctrl_n_l				;
1906: 2804    		jr		z, l190c				;
1908: FE20    		cp		' '						;
190A: 38F7    		jr		c, l1903				;
              										;
190C:         	l190c:								;
190C: C3B310  		jp		l10b3					;
              	
190F:         	ln_fetch:							; zx80
190F: 5E      		ld		e, (hl)					;
1910: 23      		inc		hl						;
1911: 56      		ld		d, (hl)					;
1912: E5      		push	hl						;
1913: EB      		ex		de, hl					;
1914: 23      		inc		hl						;
1915: CD6E19  		call	line_addr				;
1918: CD9516  		call	line_no					;
191B: E1      		pop		hl						;
              										;
191C:         	ln_store:							;
191C: FDCB376E		bit		5, (iy + _flage)		;
1920: C0      		ret		nz
1921: 72      		ld		(hl), d					; zx80
1922: 2B      		dec		hl						;
1923: 73      		ld		(hl), e					;
1924: C9      		ret								;
              	
1925:         	lead_sp:							; zx81
1925: 7B      		ld		a, e					;
1926: A7      		and		a						;
1927: F8      		ret		m						;
1928: D7      		rst		print_a					; se
1929: C9      		ret								;
              	
192A:         	out_digit:							; zx81
192A: AF      		xor		a						;
              										;
192B:         	digit_inc:							;
192B: 09      		add		hl, bc					;
192C: 3C      		inc		a						;
192D: 38FC    		jr		c, digit_inc			;
192F: ED42    		sbc		hl, bc					;
1931: 3D      		dec		a						;
1932: 28F1    		jr		z, lead_sp				;
1934: C3EF15  		jp		out_code				; se
              										;
1937:         	l1937:								;
1937: DF      		rst		get_ch					;
1938: FEEC    		cp		tk_goto					;
193A: 280A    		jr		z, l1946				;
193C: FEE8    		cp		tk_continue				;
193E: 2819    		jr		z, l1959				;
1940: FEE2    		cp		tk_stop					;
1942: 2823    		jr		z, l1967				;
1944: CF      		rst		error_1					;
1945: 0B      		defb	Syntax_error			;
              										;
1946:         	l1946:								;
1946: E7      		rst		next_ch					;
1947: CD821C  		call	class_6					;
194A: CDEE1B  		call	check_end				;
194D: CD0139  		call	syntax3					;
1950: CD3025  		call	syntax_z				;
1953: C8      		ret		z						;
1954: ED437F5C		ld		(onerrflag), bc			;
1958: C9      		ret								;
              										;
1959:         	l1959:								;
1959: E7      		rst		next_ch					;
195A: CDEE1B  		call	check_end				;
195D: CD3025  		call	syntax_z				;
1960: C8      		ret		z						;
1961: 3EFE    		ld		a, 0xfe					;
              										;
1963:         	l1963:								;
1963: 32805C  		ld		(onerrflag_h), a		;
1966: C9      		ret								;
              										;
1967:         	l1967:								;
1967: CD5919  		call	l1959					;
196A: C8      		ret		z						;
196B: 3C      		inc		a						;
196C: 18F5    		jr		l1963					;
              	
196E:         	line_addr:							; zx81
196E: E5      		push	hl						;
196F: 2A535C  		ld		hl, (prog)				;
1972: 54      		ld		d, h					;
1973: 5D      		ld		e, l					;
              										;
1974:         	next_test:							;
1974: C1      		pop		bc						;
1975: CD8019  		call	cp_lines				;
1978: D0      		ret		nc						;
1979: C5      		push	bc						;
197A: CDB819  		call	next_one				;
197D: EB      		ex		de, hl					;
197E: 18F4    		jr		next_test				;
              										;
1980:         	cp_lines:							;
1980: 7E      		ld		a, (hl)					;
1981: B8      		cp		b						;
1982: C0      		ret		nz						;
1983: 23      		inc		hl						;
1984: 7E      		ld		a, (hl)					;
1985: 2B      		dec		hl						;
1986: B9      		cp		c						;
1987: C9      		ret								;
              	
1988:         	l1988:								; se
1988: 4D4754  		defb	"MGT"					;
              	
198B:         	skipstats:
198B: 225D5C  		ld		(chadd), hl
198E: 0E00    		ld		c, 0
              	
1990:         	l1990:
1990: 15      		dec		d
1991: C8      		ret		z
1992: E7      		rst		next_ch
1993: BB      		cp		e
1994: 2004    		jr		nz, l199a
1996: A7      		and		a
1997: C9      		ret
              	
1998:         	l1998:
1998: 23      		inc		hl
1999: 7E      		ld		a, (hl)
              	
199A:         	l199a:
199A: CDB118  		call	number
199D: 225D5C  		ld		(chadd), hl
19A0: FE22    		cp		'"'
19A2: 2001    		jr		nz, l19a5
19A4: 0D      		dec		c
              	
19A5:         	l19a5:								; sam
19A5: FE3A    		cp		':'						;
19A7: 2804    		jr		z, fincstat				;
19A9: FECB    		cp		tk_then					;
19AB: 2004    		jr		nz, l19b1
              	
19AD:         	fincstat:
19AD: CB41    		bit		0, c 
19AF: 28DF    		jr		z, l1990
              	
19B1:         	l19b1:
19B1: FE0D    		cp		ctrl_n_l
19B3: 20E3    		jr		nz, l1998
19B5: 15      		dec		d
19B6: 37      		scf
19B7: C9      		ret
              	
19B8:         	next_one:							; zx81
19B8: E5      		push	hl						;
19B9: 7E      		ld		a, (hl)					;
19BA: FE40    		cp		64						;
19BC: 3817    		jr		c, lines				;
19BE: CB6F    		bit		5, a					;
19C0: 2814    		jr		z, bit_5_nil			;
19C2: 87      		add		a, a					;
19C3: FAC719  		jp		m, next_five			;
19C6: 3F      		ccf								;
              										;
19C7:         	next_five:							;
19C7: 010500  		ld		bc, 5					;
19CA: 3002    		jr		nc, next_lett			;
19CC: 0E12    		ld		c, 18					;
              										;
19CE:         	next_lett:							;
19CE: 17      		rla								;
19CF: 23      		inc		hl						;
19D0: 7E      		ld		a, (hl)					;
19D1: 30FB    		jr		nc, next_lett			;
19D3: 1806    		jr		next_add				;
              										;
19D5:         	lines:								;
19D5: 23      		inc		hl						;
              										;
19D6:         	bit_5_nil:							;
19D6: 23      		inc		hl						;
19D7: 4E      		ld		c, (hl)					;
19D8: 23      		inc		hl						;
19D9: 46      		ld		b, (hl)					;
19DA: 23      		inc		hl						;
              										;
19DB:         	next_add:							;
19DB: 09      		add		hl, bc					;
19DC: D1      		pop		de						;
              										;
19DD:         	differ:								;
19DD: A7      		and		a						;
19DE: ED52    		sbc		hl, de					;
19E0: 44      		ld		b, h					;
19E1: 4D      		ld		c, l					;
19E2: 19      		add		hl, de					;
19E3: EB      		ex		de, hl					;
19E4: C9      		ret								;
              										;
19E5:         	reclaim_1:							;
19E5: CDDD19  		call	differ					;
              										;
19E8:         	reclaim_2:							;
19E8: C5      		push	bc						;
19E9: 78      		ld		a, b					;
19EA: 2F      		cpl								;
19EB: 47      		ld		b, a					;
19EC: 79      		ld		a, c					;
19ED: 2F      		cpl								;
19EE: 4F      		ld		c, a					;
19EF: 03      		inc		bc						;
19F0: CD6416  		call	pointers				;
19F3: EB      		ex		de, hl					;
19F4: E1      		pop		hl						;
19F5: 19      		add		hl, de					;
19F6: D5      		push	de						;
19F7: EDB0    		ldir							;
19F9: E1      		pop		hl						;
19FA: C9      		ret								;
              										;
19FB:         	eline_no:							;
19FB: 2A595C  		ld		hl, (eline)				;
19FE: 2B      		dec		hl						;
19FF: 225D5C  		ld		(chadd), hl				;
1A02: E7      		rst		next_ch					;
1A03: 21925C  		ld		hl, membot				;
1A06: 22655C  		ld		(stkend), hl			;
1A09: CDD30D  		call	l0dd3
1A0C: CDA22D  		call	fp_to_bc				; zx81
1A0F: 3804    		jr		c, no_number			;
1A11: 2100C0  		ld		hl, 0xc000				; was 0xdf80
1A14: 09      		add		hl, bc					;
              										;
1A15:         	no_number:							;
1A15: DA8A1C  		jp		c, report_c				;
1A18: C3C516  		jp		set_mem					;
              										;
1A1B:         	out_num:							;
1A1B: D5      		push	de						;
1A1C: E5      		push	hl						;
1A1D: AF      		xor		a						;
1A1E: CB78    		bit		7, b					;
1A20: 2011    		jr		nz, units				;
1A22: 60      		ld		h, b					;
1A23: 69      		ld		l, c					;
1A24: 1EFF    		ld		e, 255					;
1A26: 1808    		jr		thousand				;
              										;
1A28:         	out_no:								;
1A28: D5      		push	de						;
1A29: 56      		ld		d, (hl)					;
1A2A: 23      		inc		hl						;
1A2B: 5E      		ld		e, (hl)					;
1A2C: E5      		push	hl						;
1A2D: EB      		ex		de, hl					;
1A2E: 1E20    		ld		e, ' '					;
              	
1A30:         	thousand:							; se
1A30: CD1A0F  		call	l0f1a					;
              	
1A33:         	units:								; zx81
1A33: CDEF15  		call	out_code				;
1A36: E1      		pop		hl						;
1A37: D1      		pop		de						;
1A38: C9      		ret								;
              	
1A39:         	syntax:
1A39: 9E      		defb	p_deffn - $				; sam
1A3A: D0      		defb	p_cat - $				;
1A3B: AA      		defb	p_format - $			;
1A3C: AC      		defb	p_move - $				;
1A3D: CD      		defb	p_erase - $				;
1A3E: B2      		defb	p_open  - $				;
1A3F: 92      		defb	p_close - $				;
1A40: D0      		defb	p_merge - $				;
1A41: CE      		defb	p_verify - $			;
1A42: 84      		defb	p_beep - $				;
1A43: 8A      		defb	p_circle - $			;
1A44: CD      		defb	p_pen - $				;
1A45: CD      		defb	p_paper - $				;
1A46: CD      		defb	p_flash - $				;
1A47: CD      		defb	p_bright - $			;
1A48: CD      		defb	p_inverse - $			;
1A49: CD      		defb	p_over - $				;
1A4A: AC      		defb	p_out - $				;
1A4B: 75      		defb	p_lprint - $			; zx81
1A4C: 77      		defb	p_llist - $				;
1A4D: 32      		defb	p_stop - $				;
1A4E: B0      		defb	p_read - $				; sam
1A4F: 85      		defb	p_data - $				;
1A50: B4      		defb	p_restore - $			;
1A51: 4C      		defb	p_new - $				; zx81
1A52: 78      		defb	p_border - $			; sam
1A53: 5A      		defb	p_cont - $				; zx81
1A54: 43      		defb	p_dim - $				;
1A55: 45      		defb	p_rem - $				;
1A56: 2F      		defb	p_for - $				;
1A57: 1D      		defb	p_goto - $				;
1A58: 24      		defb	p_gosub - $				;
1A59: 3B      		defb	p_input - $				;
1A5A: B4      		defb	p_load - $				;
1A5B: 48      		defb	p_list - $				;
1A5C: 15      		defb	p_let - $				;
1A5D: 5D      		defb	p_pause - $				;
1A5E: 2F      		defb	p_next - $				;
1A5F: 47      		defb	p_poke - $				;
1A60: 31      		defb	p_print - $				;
1A61: 55      		defb	p_plot - $				;
1A62: 3E      		defb	p_run - $				;
1A63: AA      		defb	p_save - $				;
1A64: 46      		defb	p_rand - $				;
1A65: 12      		defb	p_if - $				;
1A66: 4D      		defb	p_cls - $				;
1A67: 77      		defb	p_draw - $				; sam
1A68: 48      		defb	p_clear - $				; zx81
1A69: 19      		defb	p_return - $			;
1A6A: 53      		defb	p_copy - $				;
1A6B: 6F      		defb	p_delete - $			; se
1A6C: 76      		defb	p_edit - $				;
1A6D: 94      		defb	p_renum - $				; sam
1A6E: 8C      		defb	p_palette - $			;
1A6F: 98      		defb	p_sound - $				; se
1A70: 7D      		defb	p_onerr - $				;
              	
1A71:         	p_let:								; zx81
1A71: 013D02  		defb	var_rqd, '=', expr_num_str
              										;
1A74:         	p_goto:								;
1A74: 0C      		defb	numexp_nofops			;
1A75: 671E    		defw	goto					;
              										;
1A77:         	p_if:								;
1A77: 06CB05  		defb	num_exp, tk_then, var_syn
1A7A: F01C    		defw	_if						;
              										;
1A7C:         	p_gosub:							;
1A7C: 0C      		defb	numexp_nofops			;
1A7D: ED1E    		defw	gosub					;
              										;
1A7F:         	p_stop:								;
1A7F: 00      		defb	no_f_ops				;
1A80: EE1C    		defw	stop					;
              										;
1A82:         	p_return:							;
1A82: 00      		defb	no_f_ops				;
1A83: 231F    		defw	return					;
              										;
1A85:         	p_for:								;
1A85: 043D06CC		defb	chr_var, '=', num_exp, tk_to, num_exp, var_syn
1A89: 0605    	
1A8B: 031D    		defw	for						;
              										;
1A8D:         	p_next:								;
1A8D: 0400    		defb	chr_var, no_f_ops		;
1A8F: AB1D    		defw	next					;
              										;
1A91:         	p_print:							;
1A91: 05      		defb	var_syn					;
1A92: CD1F    		defw	print					;
              										;
1A94:         	p_input:							;
1A94: 05      		defb	var_syn					;
1A95: 8920    		defw	input					;
              										;
1A97:         	p_dim:								;
1A97: 05      		defb	var_syn					;
1A98: 022C    		defw	dim						;
              										;
1A9A:         	p_rem:								;
1A9A: 05      		defb	var_syn					;
1A9B: B21B    		defw	rem						;
              										;
1A9D:         	p_new:								;
1A9D: 00      		defb	no_f_ops				;
1A9E: BB11    		defw	new						;
              										;
1AA0:         	p_run:								;
1AA0: 03      		defb	num_exp_0				;
1AA1: A11E    		defw	run						;
              										;
1AA3:         	p_list:								;
1AA3: 05      		defb	var_syn					;
1AA4: F917    		defw	list					;
              										;
1AA6:         	p_poke:								;
1AA6: 0800    		defb	two_c_s_num, no_f_ops	;
1AA8: 801E    		defw	poke					;
              										;
1AAA:         	p_rand:								;
1AAA: 03      		defb	num_exp_0				;
1AAB: 4F1E    		defw	rand					;
              										;
1AAD:         	p_cont:								;
1AAD: 00      		defb	no_f_ops				;
1AAE: 5F1E    		defw	cont					;
              										;
1AB0:         	p_clear:							;
1AB0: 03      		defb	num_exp_0				;
1AB1: AC1E    		defw	clear					;
              										;
1AB3:         	p_cls:								;
1AB3: 00      		defb	no_f_ops				;
1AB4: 6B0D    		defw	cls						;
              										;
1AB6:         	p_plot:								;
1AB6: 0900    		defb	two_csn_col, no_f_ops	;
1AB8: DC22    		defw	plot					;
              										;
1ABA:         	p_pause:							;
1ABA: 0C      		defb	numexp_nofops			;
1ABB: 3A1F    		defw	pause					;
              										;
1ABD:         	p_copy:								;
1ABD: 03      		defb	num_exp_0				;
1ABE: 1C0B    		defw	copy					;
              										;
1AC0:         	p_lprint:							;
1AC0: 05      		defb	var_syn					;
1AC1: C91F    		defw	lprint					;
              										;
1AC3:         	p_llist:							;
1AC3: 05      		defb	var_syn					;
1AC4: F517    		defw	llist					;
              	
1AC6:         	p_beep:								; sam
1AC6: 0800    		defb	two_c_s_num, no_f_ops	;
1AC8: F803    		defw	l03f8					;
              										;								
1ACA:         	p_border:							;
1ACA: 0C      		defb	numexp_nofops			;
1ACB: 9422    		defw	l2294					;
              										;
1ACD:         	p_circle:							;
1ACD: 0905    		defb	two_csn_col, var_syn	;
1ACF: 2023    		defw	circle					;
              										;
1AD1:         	p_close:							;
1AD1: 0C      		defb	numexp_nofops			;
1AD2: E516    		defw	l16e5					;
              										;
1AD4:         	p_data:								;
1AD4: 05      		defb	var_syn					;
1AD5: 271E    		defw	l1e27					;
              										;
1AD7:         	p_deffn:							;
1AD7: 05      		defb	var_syn					;
1AD8: 601F    		defw	l1f60					;
              	
1ADA:         	p_delete:							; se
1ADA: 0800    		defb	two_c_s_num, no_f_ops	;
1ADC: BB0B    		defw	l0bbb					;
              	
1ADE:         	p_draw:								; sam
1ADE: 0905    		defb	two_csn_col, var_syn	;
1AE0: 8223    		defw	l2382					;
              	
1AE2:         	p_edit:								; se
1AE2: 03      		defb	num_exp_0				;
1AE3: E438    		defw	l38e6					;
              	
1AE5:         	p_format:							; sam
1AE5: 0C      		defb	numexp_nofops			;
1AE6: 770A    		defw	l0a58					;
              										;
1AE8:         	p_move:								;
1AE8: 082C0C  		defb	two_c_s_num, ',', numexp_nofops
1AEB: BC18    		defw	l18bc					;
              	
1AED:         	p_onerr:							; se
1AED: 05      		defb	var_syn					;
1AEE: 3719    		defw	l1937					;
              	
1AF0:         	p_open:								; sam
1AF0: 062C0A00		defb	num_exp, ',', str_exp, no_f_ops
1AF4: 3617    		defw	l1736					;
              										;
1AF6:         	p_out:								;
1AF6: 0800    		defb	two_c_s_num, no_f_ops	;
1AF8: 7A1E    		defw	_out					;
              										;
1AFA:         	p_palette:							;
1AFA: 0800    		defb	two_c_s_num, no_f_ops	;
1AFC: 3339    		defw	l3934					;
              										;
1AFE:         	p_read:								;
1AFE: 05      		defb	var_syn					;
1AFF: ED1D    		defw	l1ded					;
              										;
1B01:         	p_renum:							;
1B01: 05      		defb	var_syn					;
1B02: AA3A    		defw	l3aa9					;
              										;
1B04:         	p_restore:							;
1B04: 03      		defb	num_exp_0				;
1B05: 421E    		defw	restore					;
              	
1B07:         	p_sound:							; se
1B07: 05      		defb	var_syn					;
1B08: C309    		defw	l09c3					;
              	
1B0A:         	p_cat:								; sam
1B0A:         	p_erase:							;
1B0A: 05      		defb	var_syn					;
1B0B: A109    		defw	l09a1					;
              										;
1B0D:         	p_save:								;
1B0D: 0B      		defb	tap_offst				;
              										;
1B0E:         	p_load:								;
1B0E: 0B      		defb	tap_offst				;
              										;
1B0F:         	p_verify:							;
1B0F: 0B      		defb	tap_offst				;
              										;
1B10:         	p_merge:							;
1B10: 0B      		defb	tap_offst				;
              										;
1B11:         	p_pen:								;
1B11: 07      		defb	col_offst				;
              										;
1B12:         	p_paper:							;
1B12: 07      		defb	col_offst				;
              										;
1B13:         	p_flash:							;
1B13: 07      		defb	col_offst				;
              										;
1B14:         	p_bright:							;
1B14: 07      		defb	col_offst				;
              										;
1B15:         	p_inverse:							;
1B15: 07      		defb	col_offst				;
              										;
1B16:         	p_over:								;
1B16: 07      		defb	col_offst				;
              	
1B17:         	l1b17:
1B17: FDCB01BE		res		7, (iy + _flags)
1B1B: CDFB19  		call	eline_no
1B1E: AF      		xor		a
1B1F: 32475C  		ld		(subppc), a
1B22: 3D      		dec		a
1B23: 323A5C  		ld		(errnr), a
1B26: 1801    		jr		line_null
              	
1B28:         	stmtlp:
1B28: E7      		rst		next_ch
              	
1B29:         	line_null:
1B29: CDBF16  		call	setwork					; sam
1B2C: FD340D  		inc		(iy + _subppc)			;
1B2F: FA8A1C  		jp		m, report_c
1B32: DF      		rst		get_ch
1B33: 0600    		ld		b, 0
1B35: FE0D    		cp		ctrl_n_l
1B37: 287A    		jr		z, lineend
1B39: FE3A    		cp		':'						; sam
1B3B: 28EB    		jr		z, stmtlp				;
1B3D: 21761B  		ld		hl, nextstat			; was de
1B40: E5      		push	hl						; was de
1B41: 4F      		ld		c, a					; zx81
1B42: E7      		rst		next_ch					;
1B43: 79      		ld		a, c					;
1B44: D6CE    		sub		tk_deffn				;
1B46: DCB60B  		call	c, l0bb6				; se
1B49: 4F      		ld		c, a					; zx81
1B4A: 21391A  		ld		hl, syntax				;
1B4D: 09      		add		hl, bc					;
1B4E: 4E      		ld		c, (hl)					;
1B4F: 09      		add		hl, bc					;
1B50: 1803    		jr		get_param				;
              										;
1B52:         	scan_loop:							;
1B52: 2A745C  		ld		hl, (taddr)				;
              										;
1B55:         	get_param:							;
1B55: 7E      		ld		a, (hl)					;
1B56: 23      		inc		hl						;
1B57: 22745C  		ld		(taddr), hl				;
1B5A: 01521B  		ld		bc, scan_loop			;
1B5D: C5      		push	bc						;
1B5E: 4F      		ld		c, a					;
1B5F: FE20    		cp		' '						;
1B61: 300C    		jr		nc, separator			;
1B63: 21001C  		ld		hl, command				;
1B66: 0600    		ld		b, 0					;
1B68: 09      		add		hl, bc					;
1B69: 4E      		ld		c, (hl)					;
1B6A: 09      		add		hl, bc					;
1B6B: E5      		push	hl						;
1B6C: DF      		rst		get_ch					;
1B6D: 05      		dec		b
1B6E: C9      		ret								; zx81
              										;
1B6F:         	separator:							;
1B6F: DF      		rst		get_ch					;
1B70: B9      		cp		c						;
1B71: C28A1C  		jp		nz, report_c			;
1B74: E7      		rst		next_ch					;
1B75: C9      		ret								;
              	
1B76:         	nextstat:							; sam
1B76: CD541F  		call	break_1					;
1B79: 3802    		jr		c, l1b7d
1B7B: CF      		rst		error_1					; sam
1B7C: 14      		defb	BREAK_into_program		;
              	
1B7D:         	l1b7d:
1B7D: FDCB0A7E		bit		7, (iy + _nsppc)
1B81: 2071    		jr		nz, stmtnext1
1B83: 2A425C  		ld		hl, (newppc)
1B86: CB7C    		bit		7, h
1B88: 2814    		jr		z, l1b9e
              	
1B8A:         	linerun:							; sam
1B8A: 21FEFF  		ld		hl, 0xfffe				;
1B8D: 22455C  		ld		(ppc), hl				;
1B90: 2A615C  		ld		hl, (worksp)			;
1B93: 2B      		dec		hl						;
1B94: ED5B595C		ld		de, (eline)
1B98: 1B      		dec		de
1B99: 3A445C  		ld		a, (nsppc)
1B9C: 1833    		jr		next_line
              	
1B9E:         	l1b9e:
1B9E: CD6E19  		call	line_addr
1BA1: 3A445C  		ld		a, (nsppc)
1BA4: 2819    		jr		z, lineuse
1BA6: A7      		and		a
1BA7: 2043    		jr		nz, statlost
1BA9: 7E      		ld		a, (hl)
1BAA: E6C0    		and		%11000000
1BAC: 2811    		jr		z, lineuse
1BAE: CF      		rst		error_1					; sam
1BAF: FF      		defb	OK						;
              	
1BB0:         	l1bb0:								; se
1BB0: 4157    		defb	"AW"					;
              	
1BB2:         	rem:								; sam
1BB2: F1      		pop		af						;
              	
1BB3:         	lineend:
1BB3: CD3025  		call	syntax_z
1BB6: C8      		ret		z
1BB7: 2A555C  		ld		hl, (nxtline)
1BBA: 3EC0    		ld		a, 192
1BBC: A6      		and		(hl)
1BBD: C0      		ret		nz
1BBE: AF      		xor		a
              	
1BBF:         	lineuse:							; sam
1BBF: FE01    		cp		1						;
1BC1: CE00    		adc		a, 0					;
1BC3: 56      		ld		d, (hl)					;
1BC4: 23      		inc		hl						;
1BC5: 5E      		ld		e, (hl)					;
1BC6: 23      		inc		hl						;
1BC7: ED53455C		ld		(ppc), de				;
1BCB: 5E      		ld		e, (hl)					;
1BCC: 23      		inc		hl						;
1BCD: 56      		ld		d, (hl)					;
1BCE: EB      		ex		de, hl					;
1BCF: 19      		add		hl, de
1BD0: 23      		inc		hl
              	
1BD1:         	next_line:							; zx81
1BD1: 22555C  		ld		(nxtline), hl			;
1BD4: EB      		ex		de, hl					;
1BD5: 225D5C  		ld		(chadd), hl
1BD8: 1E00    		ld		e, 0
1BDA: 57      		ld		d, a
1BDB: FD360AFF		ld		(iy + _nsppc), 255
1BDF: 15      		dec		d
1BE0: FD720D  		ld		(iy + _subppc), d
1BE3: CA281B  		jp		z, stmtlp
1BE6: 14      		inc		d
1BE7: CD8B19  		call	skipstats				; sam
1BEA: 2808    		jr		z, stmtnext1			;
              										;
1BEC:         	statlost:							;
1BEC: CF      		rst		error_1					;
1BED: 16      		defb	Missing_statement		;
              	
1BEE:         	check_end:							; zx81
1BEE: CD3025  		call	syntax_z				;
1BF1: C0      		ret		nz						;
1BF2: C1      		pop		bc						;
1BF3: C1      		pop		bc
              	
1BF4:         	stmtnext1:
1BF4: DF      		rst		get_ch
1BF5: FE0D    		cp		ctrl_n_l
1BF7: 28BA    		jr		z, lineend
1BF9: FE3A    		cp		':'						; sam
1BFB: CA281B  		jp		z, stmtlp				;
1BFE: CF      		rst		error_1					;
1BFF: 0B      		defb	Syntax_error			;
              	
1C00:         	command:							; zx81
1C00: 10      		defb	class_0 - $				;
1C01: 1E      		defb	class_1 - $				;
1C02: 4C      		defb	class_2 - $				;
1C03: 0A      		defb	class_3 - $				;
1C04: 68      		defb	class_4 - $				;
1C05: 0C      		defb	class_5 - $				;
1C06: 7C      		defb	class_6 - $				;
1C07: 8F      		defb	class_7 - $				; sam
1C08: 72      		defb	class_8 - $				;
1C09: B5      		defb	class_9 - $				;
1C0A: 82      		defb	class_a - $				;
1C0B: D0      		defb	class_b - $				;
1C0C: 45      		defb	class_c - $				;
              	
1C0D:         	class_3:
1C0D: CDDE1C  		call	l1cde
              	
1C10:         	class_0:							; zx81
1C10: BF      		cp		a						;
              										;
1C11:         	class_5:							;
1C11: C1      		pop		bc						;
1C12: CCEE1B  		call	z, check_end			;
1C15: EB      		ex		de, hl					;
1C16: 2A745C  		ld		hl, (taddr)				;
1C19: 4E      		ld		c, (hl)					;
1C1A: 23      		inc		hl						;
1C1B: 46      		ld		b, (hl)					;
1C1C: EB      		ex		de, hl					;
1C1D: C5      		push	bc						;
1C1E: C9      		ret								;
              										;
1C1F:         	class_1:							;
1C1F: CDB228  		call	look_vars				;
              										;
1C22:         	class_4_2:							;
1C22: FD363700		ld		(iy + _flage), 0		;
1C26: 3008    		jr		nc, set_stk				;
1C28: FDCB37CE		set		1, (iy + _flage)		;
1C2C: 2018    		jr		nz, set_strln			;
              										;
1C2E:         	report_2:							;
1C2E: CF      		rst		error_1					;
1C2F: 01      		defb	Undefined_variable		;
              										;
1C30:         	set_stk:							;
1C30: CC9629  		call	z, stk_var				;
1C33: FDCB0176		bit		6, (iy + _flags)		;
1C37: 200D    		jr		nz, set_strln			;
1C39: AF      		xor		a						;
1C3A: CD3025  		call	syntax_z				;
1C3D: C4F12B  		call	nz, stk_fetch			;
1C40: 21715C  		ld		hl, flage				;
1C43: B6      		or		(hl)					;
1C44: 77      		ld		(hl), a					;
1C45: EB      		ex		de, hl					;
              										;
1C46:         	set_strln:							;
1C46: ED43725C		ld		(stril), bc				;
1C4A: 224D5C  		ld		(dest), hl				;
1C4D: C9      		ret								;
              										;
1C4E:         	class_2:							;
1C4E: C1      		pop		bc						;
1C4F: 1868    		jr		l1cb9
              	
1C51:         	class_c:							; se
1C51: CD821C  		call	class_6					;
1C54: 18BA    		jr		class_0					;
              	
1C56:         	l1c56:								; zx81
1C56: 3A3B5C  		ld		a, (flags)				;
              										;
1C59:         	input_rep:							;
1C59: F5      		push	af						;
1C5A: CDFB24  		call	scanning				;
1C5D: F1      		pop		af						;
1C5E: FD5601  		ld		d, (iy + _flags)		;
1C61: AA      		xor		d						;
1C62: E640    		and		%01000000				;
1C64: 2024    		jr		nz, report_c			;
1C66: CB7A    		bit		7, d					;
1C68: C2FF2A  		jp		nz, let
1C6B: C9      		ret
              	
1C6C:         	class_4:							; zx81
1C6C: CDB228  		call	look_vars				;
1C6F: F5      		push	af						;
1C70: 79      		ld		a, c					;
1C71: F69F    		or		%10011111				;
1C73: 3C      		inc		a						;
1C74: 2014    		jr		nz, report_c			;
1C76: F1      		pop		af						;
1C77: 18A9    		jr		class_4_2				;
              	
1C79:         	sexpt2nums:							; sam
1C79: E7      		rst		next_ch					;
              										;
1C7A:         	class_8:							;
1C7A: CD821C  		call	class_6					;
1C7D: FE2C    		cp		','						;
1C7F: 2009    		jr		nz, report_c			;
              										;
1C81:         	sexpt1num:							;
1C81: E7      		rst		next_ch					;
              	
1C82:         	class_6:							; zx81
1C82: CDFB24  		call	scanning				;
1C85: FDCB0176		bit		6, (iy + _flags)		;
1C89: C0      		ret		nz						;
              										;
1C8A:         	report_c:							;
1C8A: CF      		rst		error_1					;
1C8B: 0B      		defb	Syntax_error			;
              	
1C8C:         	class_a:							; sam
1C8C: CDFB24  		call	scanning				;
1C8F: FDCB0176		bit		6, (iy + _flags)
1C93: C8      		ret		z
1C94: 18F4    		jr		report_c
              	
1C96:         	class_7:							; se
1C96: CD3025  		call	syntax_z				;
1C99: C4170B  		call	nz, streamfe
1C9C: F1      		pop		af
1C9D: 3A745C  		ld		a, (taddr)
              	;		sub		p_pen - (tk_pen - 1) % 256 ; not supported by binutils
1CA0: D639    		sub		0x39
1CA2: CDFC21  		call	cotemp4
1CA5: CDEE1B  		call	check_end
1CA8: 2A8F5C  		ld		hl, (attrt)
1CAB: 228D5C  		ld		(attrp), hl
1CAE: 21915C  		ld		hl, pflag
1CB1: 7E      		ld		a, (hl)					; skel
1CB2: 07      		rlca							;
1CB3: AE      		xor		(hl)					;
1CB4: E6AA    		and		%10101010				;
1CB6: AE      		xor		(hl)					;
1CB7: 77      		ld		(hl), a					;
1CB8: C9      		ret								;
              	
1CB9:         	l1cb9:								; se
1CB9: CD561C  		call	l1c56					;
1CBC: 1819    		jr		l1cd7					;
              	
1CBE:         	class_9:
1CBE: CD3025  		call	syntax_z
1CC1: 280F    		jr		z, l1cd2
1CC3: CD170B  		call	streamfe
1CC6: 21905C  		ld		hl, maskt
1CC9: 7E      		ld		a, (hl)
1CCA: F6F8    		or		%11111000
1CCC: 77      		ld		(hl), a
1CCD: FDCB57B6		res		6, (iy + _pflag)
1CD1: DF      		rst		get_ch
              	
1CD2:         	l1cd2:								; se
1CD2: CDE221  		call	citem					;
1CD5: 18A3    		jr		class_8					;
              										;
1CD7:         	l1cd7:								;
1CD7: CDEE1B  		call	check_end				;
1CDA: C9      		ret								;
              	
1CDB:         	class_b:
1CDB: C30506  		jp		l0605
              	
1CDE:         	l1cde:
1CDE: FE0D    		cp		ctrl_n_l
1CE0: 2804    		jr		z, no_to_stk
1CE2: FE3A    		cp		':'
1CE4: 209C    		jr		nz, class_6				; zx81
              										;
1CE6:         	no_to_stk:							;
1CE6: CD3025  		call	syntax_z				;
1CE9: C8      		ret		z						;
              		fwait							;
1CEA: EF      		rst	28h
              		fstk0							;
1CEB: A0      		defb	0xa0
              		fce								;
1CEC: 38      		defb	0x38
1CED: C9      		ret								;
              										;
1CEE:         	stop:								;
1CEE: CF      		rst		error_1					;
1CEF: 08      		defb	STOP_statement			;
              	
1CF0:         	_if:								; se
1CF0: C1      		pop		bc						;
1CF1: CD3025  		call	syntax_z				; zx81
1CF4: 280A    		jr		z, l1d00				;
              		fwait							;
1CF6: EF      		rst	28h
              		fdel							;
1CF7: 02      		defb	0x02
              		fce								;
1CF8: 38      		defb	0x38
1CF9: EB      		ex		de, hl					; se
1CFA: CDC534  		call	tstzero					;
1CFD: DAB31B  		jp		c, lineend				;
              	
1D00:         	l1d00:
1D00: C3291B  		jp		line_null
              	
1D03:         	for:								; zx81
1D03: FECD    		cp		tk_step					;
1D05: 2009    		jr		nz, use_one				;
1D07: E7      		rst		next_ch					;
1D08: CD821C  		call	class_6					;
1D0B: CDEE1B  		call	check_end				;
1D0E: 1806    		jr		reorder					;
              										;
1D10:         	use_one:							;
1D10: CDEE1B  		call	check_end				;
              		fwait							;
1D13: EF      		rst	28h
              		fstk1							;
1D14: A1      		defb	0xa1
              		fce								;
1D15: 38      		defb	0x38
              										;
1D16:         	reorder:							;
              		fwait							;
1D16: EF      		rst	28h
              		fst		0						;
1D17: C0      		defb	0xc0 + 0
              		fdel							;
1D18: 02      		defb	0x02
              		fxch							;
1D19: 01      		defb	0x01
              		fgt		0						;
1D1A: E0      		defb	0xe0 + 0
              		fxch							;
1D1B: 01      		defb	0x01
              		fce								;
1D1C: 38      		defb	0x38
1D1D: CDFF2A  		call	let						;
1D20: 22685C  		ld		(mem), hl				;
1D23: 2B      		dec		hl						;
1D24: 7E      		ld		a, (hl)					;
1D25: CBFE    		set		7, (hl)					;
1D27: 010600  		ld		bc, 6					;
1D2A: 09      		add		hl, bc					;
1D2B: 07      		rlca							;
1D2C: 3806    		jr		c, lmt_step				;
1D2E: 0E0D    		ld		c, 13
1D30: CD5516  		call	make_room				; zx81
1D33: 23      		inc		hl						;
              										;
1D34:         	lmt_step:							;
1D34: E5      		push	hl						;
              		fwait							;
1D35: EF      		rst	28h
              		fdel							;
1D36: 02      		defb	0x02
              		fdel							;
1D37: 02      		defb	0x02
              		fce								;
1D38: 38      		defb	0x38
1D39: E1      		pop		hl						;
1D3A: EB      		ex		de, hl					;
1D3B: 0E0A    		ld		c, 10					;
1D3D: EDB0    		ldir							;
1D3F: 2A455C  		ld		hl, (ppc)				;
1D42: EB      		ex		de, hl					;
1D43: 73      		ld		(hl), e					;
1D44: 23      		inc		hl						;
1D45: 72      		ld		(hl), d					;
1D46: FD560D  		ld		d, (iy + _subppc)
1D49: 23      		inc		hl
1D4A: 14      		inc		d
1D4B: 72      		ld		(hl), d
1D4C: CDDA1D  		call	next_loop				; zx81
1D4F: D0      		ret		nc						;
1D50: 3A475C  		ld		a, (subppc)
1D53: 2A455C  		ld		hl, (ppc)
1D56: 22425C  		ld		(newppc), hl
1D59: FD4638  		ld		b, (iy + _stril)
1D5C: ED44    		neg
1D5E: 2A5D5C  		ld		hl, (chadd)
1D61: 57      		ld		d, a
1D62: 1EF3    		ld		e, tk_next
              	
1D64:         	l1d64:
1D64: C5      		push	bc
1D65: ED4B555C		ld		bc, (nxtline)
1D69: CD861D  		call	l1d86
1D6C: ED43555C		ld		(nxtline), bc
1D70: C1      		pop		bc
1D71: 3811    		jr		c, l1d84
1D73: E7      		rst		next_ch
1D74: F620    		or		%00100000
1D76: B8      		cp		b
1D77: 2803    		jr		z, l1d7c
1D79: E7      		rst		next_ch
1D7A: 18E8    		jr		l1d64
              	
1D7C:         	l1d7c:
1D7C: E7      		rst		next_ch
1D7D: 3E01    		ld		a, 1
1D7F: 92      		sub		d
1D80: 32445C  		ld		(nsppc), a
1D83: C9      		ret
              	
1D84:         	l1d84:								; sam
1D84: CF      		rst		error_1					;
1D85: 11      		defb	FOR_without_NEXT		;
              	
1D86:         	l1d86:
1D86: 7E      		ld		a, (hl)
1D87: FE3A    		cp		':'
1D89: 2818    		jr		z, l1da3
              	
1D8B:         	l1d8b:
1D8B: 23      		inc		hl
1D8C: 7E      		ld		a, (hl)
1D8D: E6C0    		and		%11000000
1D8F: 37      		scf
1D90: C0      		ret		nz
1D91: 46      		ld		b, (hl)
1D92: 23      		inc		hl
1D93: 4E      		ld		c, (hl)
1D94: ED43425C		ld		(newppc), bc
1D98: 23      		inc		hl
1D99: 4E      		ld		c, (hl)
1D9A: 23      		inc		hl
1D9B: 46      		ld		b, (hl)
1D9C: E5      		push	hl
1D9D: 09      		add		hl, bc
1D9E: 4D      		ld		c, l
1D9F: 44      		ld		b, h
1DA0: E1      		pop		hl
1DA1: 1600    		ld		d, 0
              	
1DA3:         	l1da3:
1DA3: C5      		push	bc
1DA4: CD8B19  		call	skipstats
1DA7: C1      		pop		bc
1DA8: D0      		ret		nc
1DA9: 18E0    		jr		l1d8b
              	
1DAB:         	next:								; zx81
1DAB: FDCB374E		bit		1, (iy + _flage)		;
1DAF: C22E1C  		jp		nz, report_2			;
1DB2: 2A4D5C  		ld		hl, (dest)				;
1DB5: CB7E    		bit		7, (hl)					;
1DB7: 281F    		jr		z, report_1				;
1DB9: 23      		inc		hl						;
1DBA: 22685C  		ld		(mem), hl				;
              		fwait							;
1DBD: EF      		rst	28h
              		fgt		0						;
1DBE: E0      		defb	0xe0 + 0
              		fgt		2						;
1DBF: E2      		defb	0xe0 + 2
              		fadd							;
1DC0: 0F      		defb	0x0f
              		fst		0						;
1DC1: C0      		defb	0xc0 + 0
              		fdel							;
1DC2: 02      		defb	0x02
              		fce								;
1DC3: 38      		defb	0x38
1DC4: CDDA1D  		call	next_loop				;
1DC7: D8      		ret		c						;
1DC8: 2A685C  		ld		hl, (mem)				;
1DCB: 110F00  		ld		de, 15					;
1DCE: 19      		add		hl, de					;
1DCF: 5E      		ld		e, (hl)					;
1DD0: 23      		inc		hl						;
1DD1: 56      		ld		d, (hl)					;
1DD2: 23      		inc		hl						;
1DD3: 66      		ld		h, (hl)					;
1DD4: EB      		ex		de, hl					;
1DD5: C3731E  		jp		goto_2					;
              										;
1DD8:         	report_1:							;
1DD8: CF      		rst		error_1					;
1DD9: 00      		defb	NEXT_without_FOR		;
              										;
1DDA:         	next_loop:							;
              		fwait							;
1DDA: EF      		rst	28h
              		fgt		1						;
1DDB: E1      		defb	0xe0 + 1
              		fgt		0						;
1DDC: E0      		defb	0xe0 + 0
              		fgt		2						;
1DDD: E2      		defb	0xe0 + 2
              		fcp		.lz						;
1DDE: 36      		defb	0x09 + .lz
              		fjpt	lmt_v_val				;
1DDF: 0003    		defb	0x00, lmt_v_val - $
              		fxch							;
1DE1: 01      		defb	0x01
              										;
1DE2:         	lmt_v_val:							;
              		fsub							;
1DE2: 03      		defb	0x03
              		fcp		.gz						;
1DE3: 37      		defb	0x09 + .gz
              		fjpt	imposs					;
1DE4: 0005    		defb	0x00, imposs - $
              		fce								;
1DE6: 38      		defb	0x38
1DE7: A7      		and		a						;
1DE8: C9      		ret								;
              										;
1DE9:         	imposs:								;
              		fce								;
1DE9: 38      		defb	0x38
1DEA: 37      		scf								;
1DEB: C9      		ret								;
              	
1DEC:         	l1dec:
1DEC: E7      		rst		next_ch
              	
1DED:         	l1ded:
1DED: CD1F1C  		call	class_1
1DF0: CD3025  		call	syntax_z
1DF3: 2829    		jr		z, l1e1e
1DF5: DF      		rst		get_ch					; sam
1DF6: 225F5C  		ld		(xptr), hl				;
1DF9: 2A575C  		ld		hl, (datadd)
1DFC: 7E      		ld		a, (hl)
1DFD: FE2C    		cp		44
1DFF: 2809    		jr		z, l1e0a
1E01: 1EE4    		ld		e, tkdata
1E03: CD861D  		call	l1d86
1E06: 3002    		jr		nc, l1e0a
1E08: CF      		rst		error_1					; sam
1E09: 0D      		defb	End_of_DATA				;
              	
1E0A:         	l1e0a:
1E0A: CD7700  		call	cursor_so
1E0D: CD561C  		call	l1c56
1E10: DF      		rst		get_ch
1E11: 22575C  		ld		(datadd), hl
1E14: 2A5F5C  		ld		hl, (xptr)
1E17: FD362600		ld		(iy + _xptr_h), 0
1E1B: CD7800  		call	temp_ptr
              	
1E1E:         	l1e1e:
1E1E: DF      		rst		get_ch
1E1F: FE2C    		cp		44
1E21: 28C9    		jr		z, l1dec
1E23: CDEE1B  		call	check_end
1E26: C9      		ret
              	
1E27:         	l1e27:
1E27: CD3025  		call	syntax_z
1E2A: 200B    		jr		nz, l1e37
              	
1E2C:         	l1e2c:
1E2C: CDFB24  		call	scanning
1E2F: FE2C    		cp		44
1E31: C4EE1B  		call	nz, check_end
1E34: E7      		rst		next_ch
1E35: 18F5    		jr		l1e2c
              	
1E37:         	l1e37:
1E37: 3EE4    		ld		a, tkdata
              	
1E39:         	l1e39:
1E39: 47      		ld		b, a
1E3A: EDB9    		cpdr
1E3C: 110002  		ld		de, 0x0200
1E3F: C38B19  		jp		skipstats
              	
1E42:         	restore:							; sam
1E42: CD0139  		call	syntax3					;
              	
1E45:         	restorez:
1E45: 69      		ld		l, c
1E46: 60      		ld		h, b
1E47: CD6E19  		call	line_addr
1E4A: 2B      		dec		hl
1E4B: 22575C  		ld		(datadd), hl			; sam
1E4E: C9      		ret								;
              	
1E4F:         	rand:								; zx81
1E4F: CD991E  		call	find_int				;
1E52: 78      		ld		a, b					;
1E53: B1      		or		c						;
1E54: 2004    		jr		nz, set_seed			;
1E56: ED4B785C		ld		bc, (frames)			;
              										;
1E5A:         	set_seed:							;
1E5A: ED43765C		ld		(seed), bc				;
1E5E: C9      		ret								;
              										;
1E5F:         	cont:								;
1E5F: 2A6E5C  		ld		hl, (coppc)				;
1E62: FD5636  		ld		d, (iy + _cosppc)
1E65: 180C    		jr		goto_2					; zx81
              										;
1E67:         	goto:								;
1E67: CD0139  		call	syntax3					; se
1E6A: 60      		ld		h, b					; zx81
1E6B: 69      		ld		l, c					;
1E6C: 1600    		ld		d, 0					;
1E6E: 7C      		ld		a, h					;
1E6F: FEF0    		cp		240						;
1E71: 302C    		jr		nc, report_b1			;
              	
1E73:         	goto_2:								; sam
1E73: FD720A  		ld		(iy + _nsppc), d		; was a
1E76: 22425C  		ld		(newppc), hl			;
1E79: C9      		ret								;
              										;
1E7A:         	_out:								;
1E7A: CD851E  		call	poke1					;
1E7D: ED79    		out		(c), a					;
1E7F: C9      		ret								;
              	
1E80:         	poke:								; zx81
1E80: CD851E  		call	poke1					;
1E83: 02      		ld		(bc), a					;
1E84: C9      		ret								;
              										;
1E85:         	poke1:								;
1E85: CDD52D  		call	fp_to_a					;
1E88: 3815    		jr		c, report_b1			;
1E8A: 2802    		jr		z, poke_save			;
1E8C: ED44    		neg								;
              										;
1E8E:         	poke_save:							;
1E8E: F5      		push	af						;
1E8F: CD991E  		call	find_int				;
1E92: F1      		pop		af						;
1E93: C9      		ret								;
              	
1E94:         	getbyte:							; sam
1E94: CDD52D  		call	fp_to_a					;
1E97: 1803    		jr		getibc					;
              	
1E99:         	find_int:							; zx81
1E99: CDA22D  		call	fp_to_bc				;
              										;
1E9C:         	getibc:								;
1E9C: 3801    		jr		c, report_b1			;
1E9E: C8      		ret		z						;
              										;
1E9F:         	report_b1:							;
1E9F: CF      		rst		error_1					;
1EA0: 0A      		defb	Integer_out_of_range	;
              										;
1EA1:         	run:								;
1EA1: CD671E  		call	goto					;
1EA4: 010000  		ld		bc, 0
1EA7: CD451E  		call	restorez				; sam
1EAA: 1803    		jr		clr1					;
              	
1EAC:         	clear:
1EAC: CD991E  		call	find_int
              	
1EAF:         	clr1:
1EAF: 79      		ld		a, c
1EB0: B0      		or		b
1EB1: 2004    		jr		nz, clr3				; sam
1EB3: ED4BB25C		ld		bc, (ramtop)			; was hl
              										;
1EB7:         	clr3:								;
1EB7: C5      		push	bc						;
1EB8: 2A595C  		ld		hl, (eline)
1EBB: ED5B4B5C		ld		de, (vars)
1EBF: 2B      		dec		hl
1EC0: CDE519  		call	reclaim_1
1EC3: CD4413  		call	l1344
1EC6: 113200  		ld		de, 50
1EC9: 2A655C  		ld		hl, (stkend)
1ECC: 19      		add		hl, de
1ECD: D1      		pop		de
1ECE: ED52    		sbc		hl, de
1ED0: 3008    		jr		nc, rterr
1ED2: A7      		and		a
1ED3: 2AB45C  		ld		hl, (pramt)
1ED6: ED52    		sbc		hl, de
1ED8: 3002    		jr		nc, clr4
              	
1EDA:         	rterr:								; sam
1EDA: CF      		rst		error_1					;
1EDB: 15      		defb	Bad_CLEAR_address		;
              	
1EDC:         	clr4:
1EDC: EB      		ex		de, hl
1EDD: 22B25C  		ld		(ramtop), hl			; sam
1EE0: D1      		pop		de						; was hl
1EE1: C1      		pop		bc						;
1EE2: 363E    		ld		(hl), 0x3e
1EE4: 2B      		dec		hl
1EE5: F9      		ld		sp, hl
1EE6: C5      		push	bc						; sam
1EE7: ED733D5C		ld		(errsp), sp				;
1EEB: EB      		ex		de, hl
1EEC: E9      		jp		(hl)
              	
1EED:         	gosub:
1EED: D1      		pop		de
1EEE: FD660D  		ld		h, (iy + _subppc)
1EF1: 24      		inc		h
1EF2: E3      		ex		(sp), hl
1EF3: 33      		inc		sp
1EF4: ED4B455C		ld		bc, (ppc)
1EF8: C5      		push	bc
1EF9: E5      		push	hl
1EFA: ED733D5C		ld		(errsp), sp
1EFE: D5      		push	de
1EFF: CD671E  		call	goto
1F02: 011400  		ld		bc, 20
              	
1F05:         	test_room:							; zx81
1F05: 2A655C  		ld		hl, (stkend)			;
1F08: 09      		add		hl, bc					;
1F09: 380A    		jr		c, report_4				;
1F0B: EB      		ex		de, hl					;
1F0C: 215000  		ld		hl, 0x0050				;
1F0F: 19      		add		hl, de					;
1F10: 3803    		jr		c, report_4
1F12: ED72    		sbc		hl, sp					; zx81
1F14: D8      		ret		c						;
              										;
1F15:         	report_4:							;
1F15: 2E03    		ld		l, Out_of_memory		;
1F17: C35500  		jp		error_3					;
              	
1F1A:         	l1f1a:								; se
1F1A: 3A3B5C  		ld		a, (flags)				;
1F1D: E6F7    		and		%11110111				;
              										;
1F1F:         	l1f1f:								;
1F1F: 323B5C  		ld		(flags), a				;
1F22: C9      		ret								;
              	
1F23:         	return:
1F23: C1      		pop		bc
1F24: E1      		pop		hl
1F25: D1      		pop		de
1F26: 7A      		ld		a, d
1F27: FE3E    		cp		0x3e
1F29: 280B    		jr		z, report_7
1F2B: 3B      		dec		sp
1F2C: E3      		ex		(sp), hl
1F2D: EB      		ex		de, hl
1F2E: ED733D5C		ld		(errsp), sp
1F32: C5      		push	bc
1F33: C3731E  		jp		goto_2
              	
1F36:         	report_7:
1F36: D5      		push	de
1F37: E5      		push	hl						; zx81
1F38: CF      		rst		error_1					;
1F39: 06      		defb	RETURN_without_GOSUB	;
              	
1F3A:         	pause:								; se
1F3A: CDBC0A  		call	l0abc					;
              	
1F3D:         	pau1:								; sam
1F3D: 76      		halt							;
1F3E: 0B      		dec		bc
1F3F: 78      		ld		a, b					; sam
1F40: B1      		or		c						;
1F41: 280C    		jr		z, pau2					;
1F43: 79      		ld		a, c
1F44: A0      		and		b
1F45: 3C      		inc		a
1F46: 2001    		jr		nz, l1f49
1F48: 03      		inc		bc
              	
1F49:         	l1f49:
1F49: FDCB016E		bit		5, (iy + _flags)
1F4D: 28EE    		jr		z, pau1
              	
1F4F:         	pau2:
1F4F: FDCB01AE		res		5, (iy + _flags)
1F53: C9      		ret
              	
1F54:         	break_1:							; zx81
1F54: 3E7F    		ld		a, 127					;
1F56: DBFE    		in		a, (ula)				;
1F58: 1F      		rra								;
1F59: D8      		ret		c
1F5A: 3EFE    		ld		a, 254
1F5C: DBFE    		in		a, (ula)
1F5E: 1F      		rra
1F5F: C9      		ret
              	
1F60:         	l1f60:
1F60: CD3025  		call	syntax_z
1F63: 2805    		jr		z, l1f6a
1F65: 3ECE    		ld		a, tk_deffn
1F67: C3391E  		jp		l1e39
              	
1F6A:         	l1f6a:
1F6A: FDCB01F6		set		6, (iy + _flags)
1F6E: CD8D2C  		call	alpha
1F71: 3016    		jr		nc, l1f89
1F73: E7      		rst		next_ch
1F74: FE24    		cp		'$'
1F76: 2005    		jr		nz, l1f7d
1F78: FDCB01B6		res		6, (iy + _flags)
1F7C: E7      		rst		next_ch
              	
1F7D:         	l1f7d:
1F7D: FE28    		cp		'('
1F7F: 203C    		jr		nz, l1fbd
1F81: E7      		rst		next_ch
1F82: FE29    		cp		')'
1F84: 2820    		jr		z, l1fa6
              	
1F86:         	l1f86:
1F86: CD8D2C  		call	alpha
              	
1F89:         	l1f89:
1F89: D28A1C  		jp		nc, report_c
1F8C: EB      		ex		de, hl
1F8D: E7      		rst		next_ch
1F8E: FE24    		cp		'$'
1F90: 2002    		jr		nz, l1f94
1F92: EB      		ex		de, hl
1F93: E7      		rst		next_ch
              	
1F94:         	l1f94:
1F94: EB      		ex		de, hl
1F95: 010600  		ld		bc, 6
1F98: CD5516  		call	make_room
1F9B: 23      		inc		hl
1F9C: 23      		inc		hl
1F9D: 360E    		ld		(hl), ctrl_number
1F9F: FE2C    		cp		','
1FA1: 2003    		jr		nz, l1fa6
1FA3: E7      		rst		next_ch
1FA4: 18E0    		jr		l1f86
              	
1FA6:         	l1fa6:
1FA6: FE29    		cp		')'
1FA8: 2013    		jr		nz, l1fbd
1FAA: E7      		rst		next_ch
1FAB: FE3D    		cp		'='
1FAD: 200E    		jr		nz, l1fbd
1FAF: E7      		rst		next_ch
1FB0: 3A3B5C  		ld		a, (flags)
1FB3: F5      		push	af
1FB4: CDFB24  		call	scanning
1FB7: F1      		pop		af
1FB8: FDAE01  		xor		(iy + _flags)
1FBB: E640    		and		%01000000
              	
1FBD:         	l1fbd:
1FBD: C28A1C  		jp		nz, report_c
1FC0: CDEE1B  		call	check_end
              	
1FC3:         	unstack_z:							; zx81
1FC3: CD3025  		call	syntax_z				;
1FC6: E1      		pop		hl						;
1FC7: C8      		ret		z						;
1FC8: E9      		jp		(hl)					;
              	
1FC9:         	lprint:								; sam
1FC9: 3E03    		ld		a, 3					; was c
1FCB: 1802    		jr		l1fcf					;
              										;
1FCD:         	print:								;
1FCD: 3E02    		ld		a, 2					; was c
              										;
1FCF:         	l1fcf:								;
1FCF: CD3025  		call	syntax_z				;
1FD2: C40116  		call	nz, l1601
1FD5: CD4D0D  		call	trcurp
1FD8: CDDF1F  		call	print2
1FDB: CDEE1B  		call	check_end
1FDE: C9      		ret
              	
1FDF:         	print2:								; sam
1FDF: DF      		rst		get_ch					;
1FE0: CD4520  		call	prterm					;
1FE3: 280D    		jr		z, print3				;
              										;
1FE5:         	mprseplp:							;
1FE5: CD4E20  		call	prsepr				 	;
1FE8: 28FB    		jr		z, mprseplp
1FEA: CDFC1F  		call	pritem					; sam
1FED: CD4E20  		call	prsepr					;
1FF0: 28F3    		jr		z, mprseplp
              	
1FF2:         	print3:								; sam
1FF2: FE29    		cp		')'						;
1FF4: C8      		ret		z						;
              	
1FF5:         	prcifrn:
1FF5: CDC31F  		call	unstack_z
1FF8: 3E0D    		ld		a, ctrl_n_l
1FFA: D7      		rst		print_a
1FFB: C9      		ret
              	
1FFC:         	pritem:								; sam
1FFC: DF      		rst		get_ch					;
1FFD: FEAC    		cp		tk_at					; was tk_tab
1FFF: 200D    		jr		nz, pritem2				;
2001: CD791C  		call	sexpt2nums
2004: CDC31F  		call	unstack_z
2007: CD0723  		call	stk_to_bc
200A: 3E16    		ld		a, ctrl_at				; sam
200C: 1810    		jr		atsr4					;
              										;
200E:         	pritem2:							;
200E: FEAD    		cp		tk_tab					; was tk_at
2010: 2012    		jr		nz, pritem4				;
2012: E7      		rst		next_ch
2013: CD821C  		call	class_6
2016: CDC31F  		call	unstack_z
2019: CD991E  		call	find_int
201C: 3E17    		ld		a, ctrl_tab
              	
201E:         	atsr4:								; sam
201E: D7      		rst		print_a					;
201F: 79      		ld		a, c					; was a, d
2020: D7      		rst		print_a					;
2021: 78      		ld		a, b					; was a, e
2022: D7      		rst		print_a					;
2023: C9      		ret								;
              										;
2024:         	pritem4:							;
2024: CDF221  		call	citemsr					;
2027: D0      		ret		nc						;
2028: CD7020  		call	l2070
202B: D0      		ret		nc
202C: CDFB24  		call	scanning
202F: CDC31F  		call	unstack_z
2032: FDCB0176		bit		6, (iy + _flags)
2036: CCF12B  		call	z, stk_fetch
2039: C2E32D  		jp		nz, print_fp
              	
203C:         	l203c:
203C: 78      		ld		a, b
203D: B1      		or		c
203E: 0B      		dec		bc
203F: C8      		ret		z
2040: 1A      		ld		a, (de)
2041: 13      		inc		de
2042: D7      		rst		print_a
2043: 18F7    		jr		l203c
              	
2045:         	prterm:								; sam
2045: FE29    		cp		')'						;
2047: C8      		ret		z						;
              	
2048:         	l2048:
2048: FE0D    		cp		ctrl_n_l
204A: C8      		ret		z
204B: FE3A    		cp		':'						; sam
204D: C9      		ret								;
              										;
204E:         	prsepr:								;
204E: DF      		rst		get_ch					;
204F: FE3B    		cp		';'						;
2051: 2814    		jr		z, prserp3				;
2053: FE2C    		cp		','						;
2055: 200A    		jr		nz, l2061
2057: CD3025  		call	syntax_z
205A: 280B    		jr		z, prserp3
205C: 3E06    		ld		a, ctrl_comma
205E: D7      		rst		print_a
205F: 1806    		jr		prserp3
              	
2061:         	l2061:								; sam
2061: FE27    		cp		0x27					; binutils doesn't like cp "'"
2063: C0      		ret		nz						;
2064: CDF51F  		call	prcifrn					;
              										;
2067:         	prserp3:							;
2067: E7      		rst		next_ch					;
2068: CD4520  		call	prterm
206B: 2001    		jr		nz, l206e
206D: C1      		pop		bc
              	
206E:         	l206e:
206E: BF      		cp		a
206F: C9      		ret
              	
2070:         	l2070:
2070: FE23    		cp		'#'
2072: 37      		scf
2073: C0      		ret		nz
2074: E7      		rst		next_ch
2075: CD821C  		call	class_6
2078: A7      		and		a
2079: CDC31F  		call	unstack_z
              	
207C:         	l207c:
207C: CD941E  		call	getbyte
207F: FE10    		cp		16
2081: D20E16  		jp		nc, invstrm
2084: CD0116  		call	l1601
2087: A7      		and		a
2088: C9      		ret
              	
2089:         	input:
2089: CD3025  		call	syntax_z
208C: 2808    		jr		z, l2096
208E: CD6E0D  		call	clslower
2091: 3E01    		ld		a, 1
2093: CD0116  		call	l1601
              	
2096:         	l2096:
2096: FD360201		ld		(iy + _dflag), 1
209A: CDC120  		call	ipitem
209D: CDEE1B  		call	check_end
20A0: ED4B885C		ld		bc, (sposnu)
20A4: 3A6B5C  		ld		a, (dfsz)
20A7: B8      		cp		b
20A8: 3803    		jr		c, l20ad
20AA: 47      		ld		b, a
20AB: 0E21    		ld		c, 33
              	
20AD:         	l20ad:
20AD: ED43885C		ld		(sposnu), bc
20B1: 3E19    		ld		a, 25
20B3: 90      		sub		b
20B4: 328C5C  		ld		(scrct), a
20B7: FDCB0286		res		0, (iy + _dflag)
20BB: CDD90D  		call	l0dd9
20BE: C36E0D  		jp		clslower
              	
20C1:         	ipitem:
20C1: CD4E20  		call	prsepr
20C4: 28FB    		jr		z, ipitem
20C6: FE28    		cp		'('						; sam
20C8: 200E    		jr		nz, inp2				;
20CA: E7      		rst		next_ch					;
20CB: CDDF1F  		call	print2					;
20CE: DF      		rst		get_ch					;
20CF: FE29    		cp		')'
20D1: C28A1C  		jp		nz, report_c
20D4: E7      		rst		next_ch
20D5: C3B221  		jp		l21b2
              	
20D8:         	inp2:								; sam
20D8: FECA    		cp		tk_line					;
20DA: 2011    		jr		nz, l20ed
20DC: E7      		rst		next_ch
20DD: CD1F1C  		call	class_1
20E0: FDCB37FE		set		7, (iy + _flage)
20E4: FDCB0176		bit		6, (iy + _flags)
20E8: C28A1C  		jp		nz, report_c
20EB: 180D    		jr		l20fa
              	
20ED:         	l20ed:
20ED: CD8D2C  		call	alpha					; sam
20F0: D2AF21  		jp		nc, l21af				;
20F3: CD1F1C  		call	class_1
20F6: FDCB37BE		res		7, (iy + _flage)
              	
20FA:         	l20fa:
20FA: CD3025  		call	syntax_z
20FD: CAB221  		jp		z, l21b2
2100: CDBF16  		call	setwork
2103: 010100  		ld		bc, 1
2106: 21715C  		ld		hl, flage
2109: CBEE    		set		5, (hl)
210B: CBB6    		res		6, (hl)
210D: CB7E    		bit		7, (hl)
210F: 200B    		jr		nz, l211c
2111: 3A3B5C  		ld		a, (flags)
2114: E640    		and		%01000000
2116: 2002    		jr		nz, prompt				; zx81
2118: 0E03    		ld		c, 3					; was 4
              										;
211A:         	prompt:								;
211A: B6      		or		(hl)					;
211B: 77      		ld		(hl), a					;
              										;
211C:         	l211c:								;
211C: F7      		rst		bc_spaces				;
211D: 360D    		ld		(hl), ctrl_n_l			;
211F: 79      		ld		a, c					;
2120: 0F      		rrca							;
2121: 0F      		rrca							;
2122: 3005    		jr		nc, inp7
2124: 3E22    		ld		a, '"'					; zx81
2126: 12      		ld		(de), a					;
2127: 2B      		dec		hl						;
2128: 77      		ld		(hl), a					;
              	
2129:         	inp7:
2129: 225B5C  		ld		(kcur), hl
212C: FDCB377E		bit		7, (iy + _flage)
2130: 202C    		jr		nz, inp9
2132: 2A5D5C  		ld		hl, (chadd)				; sam
2135: E5      		push	hl						;
2136: 2A3D5C  		ld		hl, (errsp)				;
2139: E5      		push	hl						;
              										;
213A:         	inperr:								;
213A: 213A21  		ld		hl, inperr				;
213D: E5      		push	hl						;
213E: FDCB3066		bit		4, (iy + _klflag)
2142: 2804    		jr		z, l2148
2144: ED733D5C		ld		(errsp), sp
              	
2148:         	l2148:
2148: 2A615C  		ld		hl, (worksp)
214B: CDA711  		call	l11a7
214E: FD3600FF		ld		(iy + _errnr), OK
2152: CD2C0F  		call	editor
2155: FDCB01BE		res		7, (iy + _flags)		; sam
2159: CDB921  		call	inpas					;
215C: 1803    		jr		l2161
              	
215E:         	inp9:								; sam
215E: CD2C0F  		call	editor					;
              	
2161:         	l2161:
2161: FD362200		ld		(iy + _kcur_h), 0
2165: CDD621  		call	chltchk
2168: 200A    		jr		nz, l2174
216A: CD1D11  		call	l111d
216D: ED4B825C		ld		bc, (echoe)
2171: CDD90D  		call	l0dd9
              	
2174:         	l2174:
2174: 21715C  		ld		hl, flage
2177: CBAE    		res		5, (hl)
2179: CB7E    		bit		7, (hl)
217B: CBBE    		res		7, (hl)
217D: 201C    		jr		nz, l219b
217F: E1      		pop		hl
2180: E1      		pop		hl
2181: 223D5C  		ld		(errsp), hl
2184: FDCB01FE		set		7, (iy + _flags)
2188: E1      		pop		hl
2189: 225F5C  		ld		(xptr), hl
218C: CDB921  		call	inpas
218F: 2A5F5C  		ld		hl, (xptr)
2192: FD362600		ld		(iy + _xptr_h), 0
2196: 225D5C  		ld		(chadd), hl
2199: 1817    		jr		l21b2
              	
219B:         	l219b:
219B: 2A635C  		ld		hl, (stkbot)
219E: ED5B615C		ld		de, (worksp)
21A2: 37      		scf
21A3: ED52    		sbc		hl, de
21A5: 4D      		ld		c, l
21A6: 44      		ld		b, h
21A7: CDB22A  		call	stk_store
21AA: CDFF2A  		call	let
21AD: 1803    		jr		l21b2
              	
21AF:         	l21af:
21AF: CDFC1F  		call	pritem
              	
21B2:         	l21b2:
21B2: CD4E20  		call	prsepr
21B5: CAC120  		jp		z, ipitem
21B8: C9      		ret
              	
21B9:         	inpas:								; sam
21B9: 2A615C  		ld		hl, (worksp)			;
21BC: 225D5C  		ld		(chadd), hl				;
21BF: DF      		rst		get_ch					;
21C0: FEE2    		cp		tk_stop					;
21C2: 280C    		jr		z, l21d0
21C4: 3A715C  		ld		a, (flage)
21C7: CD591C  		call	input_rep
21CA: DF      		rst		get_ch
21CB: FE0D    		cp		ctrl_n_l
21CD: C8      		ret		z
21CE: CF      		rst		error_1					; sam
21CF: 0B      		defb	Syntax_error			;
              	
21D0:         	l21d0:
21D0: CD3025  		call	syntax_z
21D3: C8      		ret		z
21D4: CF      		rst		error_1					; sam
21D5: 10      		defb	STOP_in_INPUT			;
              	
21D6:         	chltchk:
21D6: 2A515C  		ld		hl, (curchl)
21D9: 23      		inc		hl
21DA: 23      		inc		hl						; sam
21DB: 23      		inc		hl						;
21DC: 23      		inc		hl						;
21DD: 7E      		ld		a, (hl)					;
21DE: FE4B    		cp		'K'						;
21E0: C9      		ret
              	
21E1:         	l21e1:
21E1: E7      		rst		next_ch
              	
21E2:         	citem:								; sam
21E2: CDF221  		call	citemsr					;
21E5: D8      		ret		c						;
21E6: DF      		rst		get_ch
21E7: FE3B    		cp		';'
21E9: 28F6    		jr		z, l21e1
21EB: FE2C    		cp		','
21ED: 28F2    		jr		z, l21e1
21EF: C38A1C  		jp		report_c
              	
21F2:         	citemsr:							; sam
21F2: FED9    		cp		tk_pen					;
21F4: D8      		ret		c						;
21F5: FEDF    		cp		tk_out					;
21F7: 3F      		ccf								;
21F8: D8      		ret		c						;
21F9: 4F      		ld		c, a					;
21FA: E7      		rst		next_ch					;
21FB: 79      		ld		a, c					;
              										;
21FC:         	cotemp4:							;
21FC: D6C9    		sub		tk_pen - 16				;
21FE: F5      		push	af						;
21FF: CD821C  		call	class_6					;
2202: F1      		pop		af
2203: A7      		and		a
2204: CDC31F  		call	unstack_z
2207: F5      		push	af
2208: CD941E  		call	getbyte					; sam
220B: 57      		ld		d, a					;
220C: F1      		pop		af						;
220D: D7      		rst		print_a
220E: 7A      		ld		a, d
220F: D7      		rst		print_a
2210: C9      		ret
              	
2211:         	l2211:
2211: D611    		sub		17
2213: CE00    		adc		a, 0
2215: 281D    		jr		z, l2234
2217: D602    		sub		2
2219: CE00    		adc		a, 0
221B: 2856    		jr		z, l2273
221D: FE01    		cp		1
221F: 0601    		ld		b, 1
2221: 7A      		ld		a, d
2222: 2004    		jr		nz, coinverse
2224: 07      		rlca
2225: 07      		rlca
2226: 0604    		ld		b, 4
              	
2228:         	coinverse:
2228: 4F      		ld		c, a
2229: 7A      		ld		a, d					; sam
222A: FE02    		cp		2						;
222C: 3016    		jr		nc, invcolerr			;
222E: 79      		ld		a, c
222F: 21915C  		ld		hl, pflag
2232: 1838    		jr		cochng
              	
2234:         	l2234:
2234: 7A      		ld		a, d
2235: 0607    		ld		b, %00000111
2237: 3805    		jr		c, l223e
2239: 07      		rlca
223A: 07      		rlca
223B: 07      		rlca
223C: 0638    		ld		b, %00111000
              	
223E:         	l223e:
223E: 4F      		ld		c, a
223F: 7A      		ld		a, d
2240: FE0A    		cp		10
2242: 3802    		jr		c, l2246
              	
2244:         	invcolerr:							; sam
2244: CF      		rst		error_1					;
2245: 13      		defb	Bad_colour				;
              	
2246:         	l2246:
2246: 218F5C  		ld		hl, attrt
2249: FE08    		cp		8
224B: 380B    		jr		c, l2258
224D: 7E      		ld		a, (hl)
224E: 2807    		jr		z, l2257
2250: B0      		or		b
2251: 2F      		cpl
2252: E624    		and		%00100100
2254: 2801    		jr		z, l2257
2256: 78      		ld		a, b
              	
2257:         	l2257:
2257: 4F      		ld		c, a
              	
2258:         	l2258:
2258: 79      		ld		a, c
2259: CD6C22  		call	cochng
225C: 3E07    		ld		a, 7
225E: BA      		cp		d
225F: 9F      		sbc		a, a
2260: CD6C22  		call	cochng
2263: 07      		rlca
2264: 07      		rlca
2265: E650    		and		%01010000
2267: 47      		ld		b, a
2268: 3E08    		ld		a, 8
226A: BA      		cp		d
226B: 9F      		sbc		a, a
              	
226C:         	cochng:								; sam
226C: AE      		xor		(hl)					;
226D: A0      		and		b						; was c
226E: AE      		xor		(hl)					;
226F: 77      		ld		(hl), a					;
2270: 78      		ld		a, b					; was c
2271: 23      		inc		hl						;
2272: C9      		ret								;
              	
2273:         	l2273:
2273: 9F      		sbc		a, a
2274: 7A      		ld		a, d
2275: 0F      		rrca
2276: 0680    		ld		b, %10000000
2278: 2003    		jr		nz, l227d
227A: 0F      		rrca
227B: 0640    		ld		b, %01000000
              	
227D:         	l227d:
227D: 4F      		ld		c, a
227E: 7A      		ld		a, d
227F: FE08    		cp		8
2281: 2804    		jr		z, cofbok
2283: FE02    		cp		2
2285: 30BD    		jr		nc, invcolerr
              	
2287:         	cofbok:
2287: 79      		ld		a, c
2288: 218F5C  		ld		hl, attrt				; sam
228B: CD6C22  		call	cochng					;
228E: 79      		ld		a, c					; was b
228F: 0F      		rrca							;
2290: 0F      		rrca							;
2291: 0F      		rrca							;
2292: 18D8    		jr		cochng					;
              	
2294:         	l2294:
2294: CD941E  		call	getbyte
2297: FE08    		cp		8
2299: 30A9    		jr		nc, invcolerr
229B: D3FE    		out		(ula), a				; skel
229D: 07      		rlca							;
229E: 07      		rlca							;
229F: 07      		rlca							;
22A0: CB6F    		bit		5, a					;
22A2: 2002    		jr		nz, l22a6				;
22A4: EE07    		xor		%00000111				;
              										;
22A6:         	l22a6:								;
22A6: 32485C  		ld		(bordcr), a				;
22A9: C9      		ret								;
              	
22AA:         	l22aa:
22AA: 3EAF    		ld		a, 175
22AC: 90      		sub		b
22AD: DAF924  		jp		c, report_b
22B0: 47      		ld		b, a
22B1: A7      		and		a						; skel
22B2: 1F      		rra								;
22B3: 37      		scf								;
22B4: 1F      		rra								;
22B5: A7      		and		a						;
22B6: 1F      		rra								;
22B7: A8      		xor		b						;
22B8: E6F8    		and		%11111000				;
22BA: A8      		xor		b						;
22BB: 67      		ld		h, a					;
22BC: 79      		ld		a, c					;
22BD: 07      		rlca							;
22BE: 07      		rlca							;
22BF: 07      		rlca							;
22C0: A8      		xor		b						;
22C1: E6C7    		and		%11000111				;
22C3: A8      		xor		b						;
22C4: 07      		rlca							;
22C5: 07      		rlca							;
22C6: 6F      		ld		l, a					;
22C7: 79      		ld		a, c					;
22C8: E607    		and		%00000111				;
22CA: C9      		ret								;
              	
22CB:         	l22cb:
22CB: CD1539  		call	l3915
22CE: CDAA22  		call	l22aa
22D1: 3C      		inc		a
22D2: 47      		ld		b, a
22D3: 7E      		ld		a, (hl)
              	
22D4:         	l22d4:
22D4: 07      		rlca
22D5: 10FD    		djnz	l22d4
22D7: E601    		and		%00000001
22D9: C3282D  		jp		stack_a
              	
22DC:         	plot:
22DC: CD1539  		call	l3915
22DF: CDE522  		call	l22e5
22E2: C34D0D  		jp		trcurp
              	
22E5:         	l22e5:
22E5: ED437D5C		ld		(xcoord), bc
22E9: CDAA22  		call	l22aa
22EC: 3C      		inc		a
22ED: 47      		ld		b, a
22EE: 3EFE    		ld		a, %11111110
              	
22F0:         	l22f0:
22F0: 0F      		rrca
22F1: 10FD    		djnz	l22f0
22F3: 47      		ld		b, a
22F4: 7E      		ld		a, (hl)
22F5: FD4E57  		ld		c, (iy + _pflag)
22F8: CB41    		bit		0, c
22FA: 2001    		jr		nz, l22fd
22FC: A0      		and		b
              	
22FD:         	l22fd:
22FD: CB51    		bit		2, c
22FF: 2002    		jr		nz, l2303
2301: A8      		xor		b
2302: 2F      		cpl
              	
2303:         	l2303:
2303: 77      		ld		(hl), a
2304: C3DB0B  		jp		l0bdb
              	
2307:         	stk_to_bc:							; zx81
2307: CD1423  		call	stk_to_a				;
230A: 47      		ld		b, a					;
230B: C5      		push	bc						;
230C: CD1423  		call	stk_to_a				;
230F: 59      		ld		e, c					;
2310: C1      		pop		bc						;
2311: 51      		ld		d, c					;
2312: 4F      		ld		c, a					;
2313: C9      		ret								;
              										;
2314:         	stk_to_a:							;
2314: CDD52D  		call	fp_to_a					;
2317: DAF924  		jp		c, report_b				;
231A: 0E01    		ld		c, 1					;
231C: C8      		ret		z						;
231D: 0EFF    		ld		c, 255					;
231F: C9      		ret								;
              	
2320:         	circle:
2320: DF      		rst		get_ch
2321: FE2C    		cp		','
2323: C28A1C  		jp		nz, report_c
2326: E7      		rst		next_ch
2327: CD821C  		call	class_6
232A: CDEE1B  		call	check_end
              		fwait
232D: EF      		rst	28h
              		fabs
232E: 2A      		defb	0x2a
              		frstk
232F: 3D      		defb	0x3d
              		fce
2330: 38      		defb	0x38
2331: 7E      		ld		a, (hl)
2332: FE81    		cp		129
2334: 3005    		jr		nc, l233b
              		fwait
2336: EF      		rst	28h
              		fdel
2337: 02      		defb	0x02
              		fce
2338: 38      		defb	0x38
2339: 18A1    		jr		plot
              	
233B:         	l233b:
              		fwait
233B: EF      		rst	28h
              		fstkpix_5
233C: A3      		defb	0xa3
              		fce
233D: 38      		defb	0x38
233E: 3683    		ld		(hl), 131
              		fwait
2340: EF      		rst	28h
              		fst		5
2341: C5      		defb	0xc0 + 5
              		fdel
2342: 02      		defb	0x02
              		fce
2343: 38      		defb	0x38
2344: CD7D24  		call	l247d
2347: C5      		push	bc
              		fwait
2348: EF      		rst	28h
              		fmove
2349: 31      		defb	0x31
              		fgt		1
234A: E1      		defb	0xe0 + 1
              		fmul
234B: 04      		defb	0x04
              		fce
234C: 38      		defb	0x38
234D: 7E      		ld		a, (hl)
234E: FE80    		cp		128
2350: 3008    		jr		nc, l235a
              		fwait
2352: EF      		rst	28h
              		fdel
2353: 02      		defb	0x02
              		fdel
2354: 02      		defb	0x02
              		fce
2355: 38      		defb	0x38
2356: C1      		pop		bc
2357: C3DC22  		jp		plot
              	
235A:         	l235a:
              		fwait
235A: EF      		rst	28h
              		fst		2
235B: C2      		defb	0xc0 + 2
              		fxch
235C: 01      		defb	0x01
              		fst		0
235D: C0      		defb	0xc0 + 0
              		fdel
235E: 02      		defb	0x02
              		fsub
235F: 03      		defb	0x03
              		fxch
2360: 01      		defb	0x01
              		fgt		0
2361: E0      		defb	0xe0 + 0
              		fadd
2362: 0F      		defb	0x0f
              		fst		0
2363: C0      		defb	0xc0 + 0
              		fxch
2364: 01      		defb	0x01
              		fmove
2365: 31      		defb	0x31
              		fgt		0
2366: E0      		defb	0xe0 + 0
              		fxch
2367: 01      		defb	0x01
              		fmove
2368: 31      		defb	0x31
              		fgt		0
2369: E0      		defb	0xe0 + 0
              		fstk0
236A: A0      		defb	0xa0
              		fst		1
236B: C1      		defb	0xc0 + 1
              		fdel
236C: 02      		defb	0x02
              		fce
236D: 38      		defb	0x38
236E: FD3462  		inc		(iy + _mem_2)
2371: CD941E  		call	getbyte
2374: 6F      		ld		l, a
2375: E5      		push	hl
2376: CD941E  		call	getbyte
2379: E1      		pop		hl
237A: 67      		ld		h, a
237B: 227D5C  		ld		(xcoord), hl
237E: C1      		pop		bc
237F: C30524  		jp		l2405
              	
2382:         	l2382:
2382: DF      		rst		get_ch
2383: FE2C    		cp		','
2385: 2806    		jr		z, l238d
2387: CDEE1B  		call	check_end
238A: C37724  		jp		linedraw
              	
238D:         	l238d:
238D: E7      		rst		next_ch
238E: CD821C  		call	class_6
2391: CDEE1B  		call	check_end
              		fwait
2394: EF      		rst	28h
              		fst		5
2395: C5      		defb	0xc0 + 5
              		fstk_5
2396: A2      		defb	0xa2
              		fmul
2397: 04      		defb	0x04
              		fsin
2398: 1F      		defb	0x1f
              		fmove
2399: 31      		defb	0x31
              		fnot
239A: 30      		defb	0x30
              		fnot
239B: 30      		defb	0x30
              		fjpt	l23a3
239C: 0007    		defb	0x00, l23a3 - $
              		fdel
239E: 02      		defb	0x02
              		fce
239F: 38      		defb	0x38
23A0: C37724  		jp		linedraw
              	
23A3:         	l23a3:
              		fst		0
23A3: C0      		defb	0xc0 + 0
              		fdel
23A4: 02      		defb	0x02
              		fst		1
23A5: C1      		defb	0xc0 + 1
              		fdel
23A6: 02      		defb	0x02
              		fmove
23A7: 31      		defb	0x31
              		fabs
23A8: 2A      		defb	0x2a
              		fgt		1
23A9: E1      		defb	0xe0 + 1
              		fxch
23AA: 01      		defb	0x01
              		fgt		1
23AB: E1      		defb	0xe0 + 1
              		fabs
23AC: 2A      		defb	0x2a
              		fadd
23AD: 0F      		defb	0x0f
              		fgt		0
23AE: E0      		defb	0xe0 + 0
              		fdiv
23AF: 05      		defb	0x05
              		fabs
23B0: 2A      		defb	0x2a
              		fgt		0
23B1: E0      		defb	0xe0 + 0
              		fxch
23B2: 01      		defb	0x01
              		fce
23B3: 38      		defb	0x38
23B4: CD7D24  		call	l247d
23B7: C5      		push	bc
              		fwait
23B8: EF      		rst	28h
              		fdel
23B9: 02      		defb	0x02
              		fgt		1
23BA: E1      		defb	0xe0 + 1
              		fxch
23BB: 01      		defb	0x01
              		fdiv
23BC: 05      		defb	0x05
              		fst		1
23BD: C1      		defb	0xc0 + 1
              		fdel
23BE: 02      		defb	0x02
              		fxch
23BF: 01      		defb	0x01
              		fmove
23C0: 31      		defb	0x31
              		fgt		1
23C1: E1      		defb	0xe0 + 1
              		fmul
23C2: 04      		defb	0x04
              		fst		2
23C3: C2      		defb	0xc0 + 2
              		fdel
23C4: 02      		defb	0x02
              		fxch
23C5: 01      		defb	0x01
              		fmove
23C6: 31      		defb	0x31
              		fgt		1
23C7: E1      		defb	0xe0 + 1
              		fmul
23C8: 04      		defb	0x04
              		fgt		2
23C9: E2      		defb	0xe0 + 2
              		fgt		5
23CA: E5      		defb	0xe0 + 5
              		fgt		0
23CB: E0      		defb	0xe0 + 0
              		fsub
23CC: 03      		defb	0x03
              		fstk_5
23CD: A2      		defb	0xa2
              		fmul
23CE: 04      		defb	0x04
              		fmove
23CF: 31      		defb	0x31
              		fsin
23D0: 1F      		defb	0x1f
              		fst		5
23D1: C5      		defb	0xc0 + 5
              		fdel
23D2: 02      		defb	0x02
              		fcos
23D3: 20      		defb	0x20
              		fst		0
23D4: C0      		defb	0xc0 + 0
              		fdel
23D5: 02      		defb	0x02
              		fst		2
23D6: C2      		defb	0xc0 + 2
              		fdel
23D7: 02      		defb	0x02
              		fst		1
23D8: C1      		defb	0xc0 + 1
              		fgt		5
23D9: E5      		defb	0xe0 + 5
              		fmul
23DA: 04      		defb	0x04
              		fgt		0
23DB: E0      		defb	0xe0 + 0
              		fgt		2
23DC: E2      		defb	0xe0 + 2
              		fmul
23DD: 04      		defb	0x04
              		fadd
23DE: 0F      		defb	0x0f
              		fgt		1
23DF: E1      		defb	0xe0 + 1
              		fxch
23E0: 01      		defb	0x01
              		fst		1
23E1: C1      		defb	0xc0 + 1
              		fdel
23E2: 02      		defb	0x02
              		fgt		0
23E3: E0      		defb	0xe0 + 0
              		fmul
23E4: 04      		defb	0x04
              		fgt		2
23E5: E2      		defb	0xe0 + 2
              		fgt		5
23E6: E5      		defb	0xe0 + 5
              		fmul
23E7: 04      		defb	0x04
              		fsub
23E8: 03      		defb	0x03
              		fst		2
23E9: C2      		defb	0xc0 + 2
              		fdel
23EA: 02      		defb	0x02
              		fxch
23EB: 01      		defb	0x01
              		fce
23EC: 38      		defb	0x38
23ED: 3A7D5C  		ld		a, (xcoord)
23F0: CD282D  		call	stack_a
              		fwait
23F3: EF      		rst	28h
              		fst		0
23F4: C0      		defb	0xc0 + 0
              		fadd
23F5: 0F      		defb	0x0f
              		fxch
23F6: 01      		defb	0x01
              		fce
23F7: 38      		defb	0x38
23F8: 3A7E5C  		ld		a, (ycoord)
23FB: CD282D  		call	stack_a
              		fwait
23FE: EF      		rst	28h
              		fst		5
23FF: C5      		defb	0xc0 + 5
              		fadd
2400: 0F      		defb	0x0f
              		fgt		0
2401: E0      		defb	0xe0 + 0
              		fgt		5
2402: E5      		defb	0xe0 + 5
              		fce
2403: 38      		defb	0x38
2404: C1      		pop		bc
              	
2405:         	l2405:
2405: 05      		dec		b
2406: 1831    		jr		l2439
              	
2408:         	l2408:
2408: 3EE2    		ld		a, tk_stop
240A: CD810F  		call	add_char
240D: FD360010		ld		(iy + _errnr), STOP_in_INPUT
2411: C31D10  		jp		n_l_key
              	
2414:         	l2414:								; se
2414: 7E      		ld		a, (hl)					;
2415: FE30    		cp		'0'						;
2417: C0      		ret		nz						;
2418: 3620    		ld		(hl), ' '				;
241A: 23      		inc		hl						;
241B: 10F7    		djnz	l2414					;
241D: C9      		ret								;
              										;
241E:         	l241e:								;
241E: CA      		defb	tk_line					;
241F: F0      		defb	tk_list					;
2420: E1      		defb	tk_llist				;
2421: EC      		defb	tk_goto					;
2422: ED      		defb	tk_gosub				;
2423: E5      		defb	tk_restore				;
2424: F7      		defb	tk_run					;
              	
2425:         	l2425:
              		fwait		
2425: EF      		rst	28h
              		fgt		1
2426: E1      		defb	0xe0 + 1
              		fmove
2427: 31      		defb	0x31
              		fgt		3
2428: E3      		defb	0xe0 + 3
              		fmul
2429: 04      		defb	0x04
              		fgt		2
242A: E2      		defb	0xe0 + 2
              		fgt		4
242B: E4      		defb	0xe0 + 4
              		fmul
242C: 04      		defb	0x04
              		fsub
242D: 03      		defb	0x03
              		fst		1
242E: C1      		defb	0xc0 + 1
              		fdel
242F: 02      		defb	0x02
              		fgt		4
2430: E4      		defb	0xe0 + 4
              		fmul
2431: 04      		defb	0x04
              		fgt		2
2432: E2      		defb	0xe0 + 2
              		fgt		3
2433: E3      		defb	0xe0 + 3
              		fmul
2434: 04      		defb	0x04
              		fadd
2435: 0F      		defb	0x0f
              		fst		2
2436: C2      		defb	0xc0 + 2
              		fdel
2437: 02      		defb	0x02
              		fce
2438: 38      		defb	0x38
              	
2439:         	l2439:
2439: C5      		push	bc
              		fwait
243A: EF      		rst	28h
              		fst		0
243B: C0      		defb	0xc0 + 0
              		fdel
243C: 02      		defb	0x02
              		fgt		1
243D: E1      		defb	0xe0 + 1
              		fadd
243E: 0F      		defb	0x0f
              		fmove
243F: 31      		defb	0x31
              		fce
2440: 38      		defb	0x38
2441: 3A7D5C  		ld		a, (xcoord)
2444: CD282D  		call	stack_a
              		fwait
2447: EF      		rst	28h
              		fsub
2448: 03      		defb	0x03
              		fgt		0
2449: E0      		defb	0xe0 + 0
              		fgt		2
244A: E2      		defb	0xe0 + 2
              		fadd
244B: 0F      		defb	0x0f
              		fst		0
244C: C0      		defb	0xc0 + 0
              		fxch
244D: 01      		defb	0x01
              		fgt		0
244E: E0      		defb	0xe0 + 0
              		fce
244F: 38      		defb	0x38
2450: 3A7E5C  		ld		a, (ycoord)
2453: CD282D  		call	stack_a
              		fwait
2456: EF      		rst	28h
              		fsub
2457: 03      		defb	0x03
              		fce
2458: 38      		defb	0x38
2459: CDB724  		call	r1offcl
245C: C1      		pop		bc
245D: 10C6    		djnz	l2425
              		fwait
245F: EF      		rst	28h
              		fdel
2460: 02      		defb	0x02
              		fdel
2461: 02      		defb	0x02
              		fxch
2462: 01      		defb	0x01
              		fce
2463: 38      		defb	0x38
2464: 3A7D5C  		ld		a, (xcoord)
2467: CD282D  		call	stack_a
              		fwait
246A: EF      		rst	28h
              		fsub
246B: 03      		defb	0x03
              		fxch
246C: 01      		defb	0x01
              		fce
246D: 38      		defb	0x38
246E: 3A7E5C  		ld		a, (ycoord)
2471: CD282D  		call	stack_a
              		fwait
2474: EF      		rst	28h
              		fsub
2475: 03      		defb	0x03
              		fce
2476: 38      		defb	0x38
              	
2477:         	linedraw:							; sam
2477: CDB724  		call	r1offcl					;
247A: C34D0D  		jp		trcurp					;
              	
247D:         	l247d:
              		fwait
247D: EF      		rst	28h
              		fmove
247E: 31      		defb	0x31
              		fsqrt
247F: 28      		defb	0x28
              		fstk
2480: 34      		defb	0x34
2481: 3200    		defb	0x32, 0x00
              		fxch
2483: 01      		defb	0x01
              		fdiv
2484: 05      		defb	0x05
              		fgt		5
2485: E5      		defb	0xe0 + 5
              		fxch
2486: 01      		defb	0x01
              		fdiv
2487: 05      		defb	0x05
              		fabs
2488: 2A      		defb	0x2a
              		fce
2489: 38      		defb	0x38
248A: CDD52D  		call	fp_to_a
248D: 3806    		jr		c, l2495
248F: E6FC    		and		252
2491: C604    		add		a, 4
2493: 3002    		jr		nc, l2497
              	
2495:         	l2495:
2495: 3EFC    		ld		a, 252
              	
2497:         	l2497:
2497: F5      		push	af
2498: CD282D  		call	stack_a
              		fwait
249B: EF      		rst	28h
              		fgt		5
249C: E5      		defb	0xe0 + 5
              		fxch
249D: 01      		defb	0x01
              		fdiv
249E: 05      		defb	0x05
              		fmove
249F: 31      		defb	0x31
              		fsin
24A0: 1F      		defb	0x1f
              		fst		4
24A1: C4      		defb	0xc0 + 4
              		fdel
24A2: 02      		defb	0x02
              		fmove
24A3: 31      		defb	0x31
              		fstk_5
24A4: A2      		defb	0xa2
              		fmul
24A5: 04      		defb	0x04
              		fsin
24A6: 1F      		defb	0x1f
              		fst		1
24A7: C1      		defb	0xc0 + 1
              		fxch
24A8: 01      		defb	0x01
              		fst		0
24A9: C0      		defb	0xc0 + 0
              		fdel
24AA: 02      		defb	0x02
              		fmove
24AB: 31      		defb	0x31
              		fmul
24AC: 04      		defb	0x04
              		fmove
24AD: 31      		defb	0x31
              		fadd
24AE: 0F      		defb	0x0f
              		fstk1
24AF: A1      		defb	0xa1
              		fsub
24B0: 03      		defb	0x03
              		fneg
24B1: 1B      		defb	0x1b
              		fst		3
24B2: C3      		defb	0xc0 + 3
              		fdel
24B3: 02      		defb	0x02
              		fce
24B4: 38      		defb	0x38
24B5: C1      		pop		bc
24B6: C9      		ret
              	
24B7:         	r1offcl:
24B7: CD0723  		call	stk_to_bc
24BA: 79      		ld		a, c
24BB: B8      		cp		b
24BC: 3006    		jr		nc, l24c4
24BE: AF      		xor		a
24BF: 69      		ld		l, c
24C0: D5      		push	de
24C1: 5F      		ld		e, a
24C2: 1807    		jr		l24cb
              	
24C4:         	l24c4:
24C4: B1      		or		c
24C5: C8      		ret		z
24C6: 68      		ld		l, b
24C7: 41      		ld		b, c
24C8: D5      		push	de
24C9: 1600    		ld		d, 0
              	
24CB:         	l24cb:
24CB: 60      		ld		h, b
24CC: 78      		ld		a, b
24CD: 1F      		rra		
              	
24CE:         	l24ce:
24CE: 85      		add		a, l
24CF: 3803    		jr		c, l24d4
24D1: BC      		cp		h
24D2: 3807    		jr		c, l24db
              	
24D4:         	l24d4:
24D4: 94      		sub		h
24D5: 4F      		ld		c, a
24D6: D9      		exx
24D7: C1      		pop		bc
24D8: C5      		push	bc
24D9: 1804    		jr		l24df
              	
24DB:         	l24db:
24DB: 4F      		ld		c, a
24DC: D5      		push	de
24DD: D9      		exx
24DE: C1      		pop		bc
              	
24DF:         	l24df:
24DF: 2A7D5C  		ld		hl, (xcoord)
24E2: 78      		ld		a, b
24E3: 84      		add		a, h
24E4: 47      		ld		b, a
24E5: 79      		ld		a, c
24E6: 3C      		inc		a
24E7: 85      		add		a, l
24E8: 380D    		jr		c, l24f7
24EA: 280D    		jr		z, report_b
              	
24EC:         	l24ec:
24EC: 3D      		dec		a
24ED: 4F      		ld		c, a
24EE: CDE522  		call	l22e5
24F1: D9      		exx
24F2: 79      		ld		a, c
24F3: 10D9    		djnz	l24ce
24F5: D1      		pop		de
24F6: C9      		ret
              	
24F7:         	l24f7:
24F7: 28F3    		jr		z, l24ec
              	
24F9:         	report_b:							; zx81
24F9: CF      		rst		error_1					;
24FA: 0A      		defb	Integer_out_of_range	;
              										;
24FB:         	scanning:							;
24FB: DF      		rst		get_ch					;
24FC: 0600    		ld		b, 0					;
24FE: C5      		push	bc						;
              	
24FF:         	l24ff:
24FF: 4F      		ld		c, a
2500: 219625  		ld		hl, l2596
2503: CDAC0E  		call	l0eac
2506: 79      		ld		a, c
2507: D28426  		jp		nc, l2684
250A: 4E      		ld		c, (hl)
250B: 0600    		ld		b, 0
250D: 09      		add		hl, bc
250E: E9      		jp		(hl)
              	
250F:         	l250f:
250F: CD7400  		call	ch_add_1
2512: 03      		inc		bc
2513: FE0D    		cp		ctrl_n_l
2515: CA8A1C  		jp		z, report_c
2518: FE22    		cp		'"'
251A: 20F3    		jr		nz, l250f
251C: CD7400  		call	ch_add_1
251F: FE22    		cp		'"'
2521: C9      		ret
              	
2522:         	l2522:
2522: E7      		rst		next_ch
2523: FE28    		cp		'('
2525: 2006    		jr		nz, l252d
2527: CD791C  		call	sexpt2nums
252A: DF      		rst		get_ch
252B: FE29    		cp		')'
              	
252D:         	l252d:
252D: C28A1C  		jp		nz, report_c
              	
2530:         	syntax_z:
2530: FDCB017E		bit		7, (iy + _flags)
2534: C9      		ret
              	
2535:         	l2535:								; se
2535: CD0939  		call	l3909					;
              	
2538:         	l2538:
2538: C39838  		jp		l3898
              	
253B:         	l253b:								; se
253B: C5      		push	bc						;
253C: 06E0    		ld		b, 96 + 128				;
              		
253E:         	l253e:
253E: C5      		push	bc
253F: D5      		push	de
2540: E5      		push	hl
2541: 1A      		ld		a, (de)
2542: AE      		xor		(hl)
2543: 2804    		jr		z, l2549
2545: 3C      		inc		a
2546: 2021    		jr		nz, l2569
2548: 3D      		dec		a
              	
2549:         	l2549:
2549: 4F      		ld		c, a
254A: 0607    		ld		b, 7
              	
254C:         	l254c:
254C: 14      		inc		d
254D: 23      		inc		hl
254E: 1A      		ld		a, (de)
254F: AE      		xor		(hl)
2550: A9      		xor		c
2551: 2016    		jr		nz, l2569
2553: 10F7    		djnz	l254c
2555: C1      		pop		bc
2556: C1      		pop		bc
2557: C1      		pop		bc
2558: E1      		pop		hl
2559: 7C      		ld		a, h					; se
255A: 25      		dec		h						;
255B: 2005    		jr		nz, l2562				;
255D: 3EA5    		ld		a, 144 + 21				;
255F: C36325  		jp		l2563					;
              										;
2562:         	l2562:								;
2562: AF      		xor		a						;
              	
2563:         	l2563:
2563: 90      		sub		b
2564: CD2D00  		call	bc_spaces1
2567: 12      		ld		(de), a
2568: C9      		ret
              	
2569:         	l2569:
2569: E1      		pop		hl
256A: 110800  		ld		de, 8
256D: 19      		add		hl, de
256E: D1      		pop		de
256F: C1      		pop		bc
2570: 10CC    		djnz	l253e
2572: C1      		pop		bc						; se
2573: 05      		dec		b						;
2574: 2808    		jr		z, l257e				;
2576: C5      		push	bc						;
2577: 0615    		ld		b, 21					;
2579: 2A7B5C  		ld		hl, (udg)				;
257C: 18C0    		jr		l253e					;
              										;
257E:         	l257e:								;
257E: 48      		ld		c, b					;
257F: C9      		ret								;
              										;
2580:         	l2580:								;
2580: CD0939  		call	l3909					;
2583: 79      		ld		a, c
2584: 0F      		rrca
2585: 0F      		rrca
2586: 0F      		rrca
2587: 4F      		ld		c, a
2588: E6E0    		and		%11100000
258A: A8      		xor		b
258B: 6F      		ld		l, a
258C: 79      		ld		a, c
258D: E603    		and		%00000011
258F: EE58    		xor		%01011000
2591: 67      		ld		h, a
2592: 7E      		ld		a, (hl)
2593: C3282D  		jp		stack_a
              	
2596:         	l2596:
2596: 221D    		defb	'"', l25b3 - $
2598: 2850    		defb	'(', l25e8 - $
259A: 2EF3    		defb	'.', s_decimal - $
259C: 2B13    		defb	'+', l25af - $
259E: A857    		defb	tk_fn, l25f5 - $
25A0: A558    		defb	tk_rnd, s_rnd -  $
25A2: A785    		defb	tk_pi, s_pi - $
25A4: A690    		defb	tk_inkey_str, iminkeys - $
25A6: C4E7    		defb	tk_bin, s_decimal - $
25A8: AAC0    		defb	tk_screen_str, l2668 - $
25AA: ABC8    		defb	tk_attr, l2672 - $
25AC: A9CF    		defb	tk_point, l267b - $
25AE: 00      		defb	0
              	
25AF:         	l25af:
25AF: E7      		rst		next_ch
25B0: C3FF24  		jp		l24ff
              	
25B3:         	l25b3:
25B3: DF      		rst		get_ch
25B4: 23      		inc		hl
25B5: E5      		push	hl
25B6: 010000  		ld		bc, 0
25B9: CD0F25  		call	l250f
25BC: 201B    		jr		nz, l25d9
              	
25BE:         	l25be:
25BE: CD0F25  		call	l250f
25C1: 28FB    		jr		z, l25be
25C3: CD3025  		call	syntax_z
25C6: 2811    		jr		z, l25d9
25C8: F7      		rst		bc_spaces
25C9: E1      		pop		hl
25CA: D5      		push	de
              	
25CB:         	l25cb:
25CB: 7E      		ld		a, (hl)
25CC: 23      		inc		hl
25CD: 12      		ld		(de), a
25CE: 13      		inc		de
25CF: FE22    		cp		'"'
25D1: 20F8    		jr		nz, l25cb
25D3: 7E      		ld		a, (hl)
25D4: 23      		inc		hl
25D5: FE22    		cp		'"'
25D7: 28F2    		jr		z, l25cb
              	
25D9:         	l25d9:
25D9: 0B      		dec		bc
25DA: D1      		pop		de
              	
25DB:         	s_string:							; zx81
25DB: 213B5C  		ld		hl, flags				;
25DE: CBB6    		res		6, (hl)					;
25E0: CB7E    		bit		7, (hl)					;
25E2: C4B22A  		call	nz, stk_store			;
25E5: C31227  		jp		s_cont_2				; was s_cont_3
              	
25E8:         	l25e8:
25E8: E7      		rst		next_ch
25E9: CDFB24  		call	scanning
25EC: FE29    		cp		')'
25EE: C28A1C  		jp		nz, report_c
25F1: E7      		rst		next_ch
25F2: C31227  		jp		s_cont_2
              	
25F5:         	l25f5:
25F5: C3BD27  		jp		l27bd
              	
25F8:         	s_rnd:								; zx81
25F8: CD3025  		call	syntax_z				;
25FB: 2828    		jr		z, s_rnd_end			;
25FD: ED4B765C		ld		bc, (seed)				;
2601: CD2F2D  		call	stack_bc1				;
              		fwait							;
2604: EF      		rst	28h
              		fstk1							;
2605: A1      		defb	0xa1
              		fadd							;
2606: 0F      		defb	0x0f
              		fstk							;
2607: 34      		defb	0x34
2608: 3716    		defb	0x37, 0x16				;
              		fmul							;
260A: 04      		defb	0x04
              		fstk							;
260B: 34      		defb	0x34
260C: 80410000		defb	0x80, 0x41, 0x00, 0x00, 0x80
2610: 80      	
              		fmod							;
2611: 32      		defb	0x32
              		fdel							;
2612: 02      		defb	0x02
              		fstk1							;
2613: A1      		defb	0xa1
              		fsub							;
2614: 03      		defb	0x03
              		fmove							;
2615: 31      		defb	0x31
              		fce								;
2616: 38      		defb	0x38
2617: CDA22D  		call	fp_to_bc				;
261A: ED43765C		ld		(seed), bc				;
261E: 7E      		ld		a, (hl)					;
261F: A7      		and		a						;
2620: 2803    		jr		z, s_rnd_end			;
2622: D610    		sub		16						;
2624: 77      		ld		(hl), a					;
              										;
2625:         	s_rnd_end:							;
2625: 1809    		jr		s_pi_end				;
              										;
2627:         	s_pi:								;
2627: CD3025  		call	syntax_z				;
262A: 2804    		jr		z, s_pi_end				;
              		fwait							;
262C: EF      		rst	28h
              		fstkpix_5						;
262D: A3      		defb	0xa3
              		fce								;
262E: 38      		defb	0x38
262F: 34      		inc		(hl)					;
              										;
2630:         	s_pi_end:							;
2630: E7      		rst		next_ch					;
2631: C3C326  		jp		s_numeric				;
              	
2634:         	iminkeys:
2634: 015A10  		ld		bc, 0x105a
2637: E7      		rst		next_ch					; sam
2638: FE23    		cp		'#'						;
263A: CA0D27  		jp		z, s_push_po
263D: 213B5C  		ld		hl, flags
2640: CBB6    		res		6, (hl)
2642: CB7E    		bit		7, (hl)
2644: 281F    		jr		z, l2665
2646: CD8E02  		call	keyboard
2649: 0E00    		ld		c, 0
264B: 2013    		jr		nz, l2660
264D: CD1E03  		call	l031e
2650: 300E    		jr		nc, l2660
2652: 5F      		ld		e, a
2653: 15      		dec		d
2654: CD3303  		call	l0333
2657: 010100  		ld		bc, 1
265A: F5      		push	af
265B: F7      		rst		bc_spaces
265C: F1      		pop		af
265D: 0E01    		ld		c, 1
265F: 12      		ld		(de), a
              	
2660:         	l2660:
2660: 0600    		ld		b, 0
2662: CDB22A  		call	stk_store
              	
2665:         	l2665:
2665: C31227  		jp		s_cont_2
              	
2668:         	l2668:
2668: CD2225  		call	l2522
266B: C43525  		call	nz, l2535
266E: E7      		rst		next_ch
266F: C3DB25  		jp		s_string
              	
2672:         	l2672:
2672: CD2225  		call	l2522
2675: C48025  		call	nz, l2580
2678: E7      		rst		next_ch
2679: 1848    		jr		s_numeric
              	
267B:         	l267b:
267B: CD2225  		call	l2522
267E: C4CB22  		call	nz, l22cb
2681: E7      		rst		next_ch
2682: 183F    		jr		s_numeric
              	
2684:         	l2684:
2684: CD882C  		call	alphanum
2687: 3056    		jr		nc, l26df
2689: FE41    		cp		'A'
268B: 303C    		jr		nc, s_let_num
              	
268D:         	s_decimal:							; zx81
268D: CD3025  		call	syntax_z				;
2690: 2023    		jr		nz, s_stk_dec			;
2692: CD9B2C  		call	dec_to_fp				;
              										;
2695:         	l2695:								;
2695: DF      		rst		get_ch					;
2696: 010600  		ld		bc, 6					;
2699: CD5516  		call	make_room				;
269C: 23      		inc		hl						;
269D: 360E    		ld		(hl), ctrl_number		;
269F: 23      		inc		hl						;
26A0: EB      		ex		de, hl					;
26A1: 2A655C  		ld		hl, (stkend)			;
26A4: 0E05    		ld		c, 5					;
26A6: A7      		and		a						;
26A7: ED42    		sbc		hl, bc					;
26A9: 22655C  		ld		(stkend), hl			;
26AC: EDB0    		ldir							;
26AE: EB      		ex		de, hl					;
26AF: 2B      		dec		hl						;
26B0: CD7700  		call	cursor_so				;
26B3: 180E    		jr		s_numeric				;
              	
26B5:         	s_stk_dec:
26B5: DF      		rst		get_ch
              	
26B6:         	l26b6:
26B6: 23      		inc		hl
26B7: 7E      		ld		a, (hl)
26B8: FE0E    		cp		ctrl_number				; zx81
26BA: 20FA    		jr		nz, l26b6				;
26BC: 23      		inc		hl						;
26BD: CDB833  		call	l33b8					;
26C0: 225D5C  		ld		(chadd), hl
              	
26C3:         	s_numeric:							; zx81
26C3: FDCB01F6		set		6, (iy + _flags)		;
26C7: 1814    		jr		l26dd					;
              										;
26C9:         	s_let_num:							;
26C9: CDB228  		call	look_vars				;
26CC: DA2E1C  		jp		c, report_2				;
26CF: CC9629  		call	z, stk_var				;
26D2: 3A3B5C  		ld		a, (flags)				;
26D5: FEC0    		cp		%11000000				;
26D7: 3804    		jr		c, l26dd				; was s_cont_2
26D9: 23      		inc		hl						;
26DA: CDB833  		call	l33b8
              	
26DD:         	l26dd:
26DD: 1833    		jr		s_cont_2		
              	
26DF:         	l26df:
26DF: 01DB09  		ld		bc, 0x09db
26E2: FE2D    		cp		'-'
26E4: 2827    		jr		z, s_push_po
26E6: 011810  		ld		bc, 0x1018
26E9: FEAE    		cp		tk_val_str
26EB: 2820    		jr		z, s_push_po
26ED: D6AF    		sub		tk_code
26EF: DA8A1C  		jp		c, report_c
26F2: 01F004  		ld		bc, 0x04f0
26F5: FE14    		cp		20
26F7: 2814    		jr		z, s_push_po
26F9: D28A1C  		jp		nc, report_c
26FC: C6DC    		add		a, 220
26FE: 4F      		ld		c, a
26FF: 0610    		ld		b, 16
2701: FEDF    		cp		223
2703: 3002    		jr		nc, s_no_to_s
2705: CBB1    		res		6, c
              	
2707:         	s_no_to_s:							; zx81
2707: FEEE    		cp		238						;
2709: 3802    		jr		c, s_push_po			;
270B: CBB9    		res		7, c					;
              										;
270D:         	s_push_po:							;
270D: C5      		push	bc						;
270E: E7      		rst		next_ch					;
270F: C3FF24  		jp		l24ff
              	
2712:         	s_cont_2:							; zx81
2712: DF      		rst		get_ch					;
              										;
2713:         	s_cont_3:							;
2713: FE28    		cp		'('						;
2715: 200C    		jr		nz, s_opertr 			;
2717: FDCB0176		bit		6, (iy + _flags)		;
271B: 2017    		jr		nz, s_loop				;
271D: CD522A  		call	slicing					;
2720: E7      		rst		next_ch					;
2721: 18F0    		jr		s_cont_3				;
              	
2723:         	s_opertr:
2723: 219527  		ld		hl, l2795
2726: 0600    		ld		b, 0
2728: 4F      		ld		c, a
2729: CDDC16  		call	l16dc
272C: 3006    		jr		nc, s_loop
272E: 4E      		ld		c, (hl)
272F: 21ED26  		ld		hl, priority - 195		; zx81
2732: 09      		add		hl, bc					;
2733: 46      		ld		b, (hl)					;
              										;
2734:         	s_loop:								;
2734: D1      		pop		de						;
2735: 7A      		ld		a, d					;
2736: B8      		cp		b						;
2737: 383A    		jr		c, s_tighter			;
2739: A7      		and		a						;
273A: CA1800  		jp		z, _get_ch				;
273D: C5      		push	bc						;
273E: 213B5C  		ld		hl, flags
2741: 7B      		ld		a, e
2742: FEED    		cp		237
2744: 2006    		jr		nz, l274c
2746: CB76    		bit		6, (hl)
2748: 2002    		jr		nz, l274c
274A: 1E99    		ld		e, 153
              	
274C:         	l274c:
274C: D5      		push	de
274D: CD3025  		call	syntax_z
2750: 2809    		jr		z, s_syntest
2752: 7B      		ld		a, e
2753: E63F    		and		%00111111
2755: 47      		ld		b, a
              		fwait
2756: EF      		rst	28h
              		fsgl
2757: 3B      		defb	0x3b
              		fce
2758: 38      		defb	0x38
2759: 1809    		jr		s_runtest
              	
275B:         	s_syntest:							; zx81
275B: 7B      		ld		a, e					;
275C: FDAE01  		xor		(iy + _flags)			;
275F: E640    		and		%01000000				;
              										;
2761:         	s_rprt_c2:							;
2761: C28A1C  		jp		nz, report_c			;
              										;
2764:         	s_runtest:							;
2764: D1      		pop		de						;
2765: 213B5C  		ld		hl, flags				;
2768: CBF6    		set		6, (hl)					;
276A: CB7B    		bit		7, e					;
276C: 2002    		jr		nz, s_endloop			;
276E: CBB6    		res		6, (hl)					;
              										;
2770:         	s_endloop:							;
2770: C1      		pop		bc						;
2771: 18C1    		jr		s_loop					;
              										;
2773:         	s_tighter:							;
2773: D5      		push	de						;
2774: 79      		ld		a, c					;
2775: FDCB0176		bit		6, (iy + _flags)		;
2779: 2015    		jr		nz, s_next				;
277B: E63F    		and		%00111111				;
277D: C608    		add		a, 8					;
277F: 4F      		ld		c, a					;
2780: FE10    		cp		0x10					;
2782: 2004    		jr		nz, s_not_and			;
2784: CBF1    		set		6, c					;
2786: 1808    		jr		s_next					;
              										;
2788:         	s_not_and:							;
2788: 38D7    		jr		c, s_rprt_c2			;
278A: FE17    		cp		0x17					;
278C: 2802    		jr		z, s_next				;
278E: CBF9    		set		7, c					;
              										;
2790:         	s_next:								;
2790: C5      		push	bc						;
2791: E7      		rst		next_ch					;
2792: C3FF24  		jp		l24ff
              	
2795:         	l2795:
2795: 2BCF    		defb	'+', 0xcf
2797: 2DC3    		defb	'-', 0xc3
2799: 2AC4    		defb	'*', 0xc4
279B: 2FC5    		defb	'/', 0xc5
279D: 5EC6    		defb	'^', 0xc6
279F: 3DCE    		defb	'=', 0xce
27A1: 3ECC    		defb	'>', 0xcc
27A3: 3CCD    		defb	'<', 0xcd
27A5: C7C9    		defb	tk_l_eql, 0xc9
27A7: C8CA    		defb	tk_gr_eq, 0xca
27A9: C9CB    		defb	tk_neql, 0xcb
27AB: C5C7    		defb	tk_or, 0xc7
27AD: C6C8    		defb	tk_and, 0xc8
27AF: 00      		defb	0
              	
27B0:         	priority:							; zx81
27B0: 0608080A		defb	0x06, 0x08, 0x08, 0x0a, 0x02, 0x03, 0x05, 0x05
27B4: 02030505	
27B8: 05050505		defb	0x05, 0x05, 0x05, 0x05, 0x06
27BC: 06      	
              	
27BD:         	l27bd:
27BD: CD3025  		call	syntax_z
27C0: 2035    		jr		nz, l27f7
27C2: E7      		rst		next_ch
27C3: CD8D2C  		call	alpha
27C6: D28A1C  		jp		nc, report_c
27C9: E7      		rst		next_ch
27CA: FE24    		cp		'$'
27CC: F5      		push	af
27CD: 2001    		jr		nz, fnsyn
27CF: E7      		rst		next_ch
              	
27D0:         	fnsyn:								; sam
27D0: FE28    		cp		'('						;
27D2: 2012    		jr		nz, fnsy5				;
27D4: E7      		rst		next_ch					;
27D5: FE29    		cp		')'						;
27D7: 2810    		jr		z, fnsy4				;
              	
27D9:         	l27d9:
27D9: CDFB24  		call	scanning
27DC: DF      		rst		get_ch
27DD: FE2C    		cp		','
27DF: 2003    		jr		nz, l27e4
27E1: E7      		rst		next_ch
27E2: 18F5    		jr		l27d9
              	
27E4:         	l27e4:
27E4: FE29    		cp		')'
              	
27E6:         	fnsy5:
27E6: C28A1C  		jp		nz, report_c
              	
27E9:         	fnsy4:								; sam
27E9: E7      		rst		next_ch					;
27EA: 213B5C  		ld		hl, flags
27ED: CBB6    		res		6, (hl)
27EF: F1      		pop		af
27F0: 2802    		jr		z, l27f4
27F2: CBF6    		set		6, (hl)
              	
27F4:         	l27f4:
27F4: C31227  		jp		s_cont_2
              	
27F7:         	l27f7:
27F7: E7      		rst		next_ch
27F8: E6DF    		and		%11011111
27FA: 47      		ld		b, a
27FB: E7      		rst		next_ch
27FC: D624    		sub		'$'
27FE: 4F      		ld		c, a
27FF: 2001    		jr		nz, l2802
2801: E7      		rst		next_ch
              	
2802:         	l2802:
2802: E7      		rst		next_ch
2803: E5      		push	hl
2804: 2A535C  		ld		hl, (prog)
2807: 2B      		dec		hl
              	
2808:         	l2808:
2808: 11CE00  		ld		de, 0x00ce
280B: C5      		push	bc
280C: CD861D  		call	l1d86
280F: C1      		pop		bc
2810: 3002    		jr		nc, l2814
2812: CF      		rst		error_1					; sam
2813: 18      		defb	Undefined_FN			;
              	
2814:         	l2814:
2814: E5      		push	hl
2815: CDAB28  		call	l28ab
2818: E6DF    		and		%11011111
281A: B8      		cp		b
281B: 2008    		jr		nz, l2825
281D: CDAB28  		call	l28ab
2820: D624    		sub		'$'
2822: B9      		cp		c
2823: 280C    		jr		z, l2831
              	
2825:         	l2825:
2825: E1      		pop		hl
2826: 2B      		dec		hl
2827: 110002  		ld		de, 0x0200
282A: C5      		push	bc
282B: CD8B19  		call	skipstats
282E: C1      		pop		bc
282F: 18D7    		jr		l2808
              	
2831:         	l2831:
2831: A7      		and		a
2832: CCAB28  		call	z, l28ab
2835: D1      		pop		de
2836: D1      		pop		de
2837: ED535D5C		ld		(chadd), de
283B: CDAB28  		call	l28ab
283E: E5      		push	hl
283F: FE29    		cp		')'
2841: 2842    		jr		z, l2885
              	
2843:         	l2843:
2843: 23      		inc		hl
2844: 7E      		ld		a, (hl)
2845: FE0E    		cp		ctrl_number
2847: 1640    		ld		d, 64
2849: 2807    		jr		z, l2852
284B: 2B      		dec		hl
284C: CDAB28  		call	l28ab
284F: 1600    		ld		d, 0
2851: 23      		inc		hl
              	
2852:         	l2852:
2852: 23      		inc		hl
2853: E5      		push	hl
2854: D5      		push	de
2855: CDA83C  		call	scanfix					; se
2858: F1      		pop		af
2859: FDAE01  		xor		(iy + _flags)
285C: E640    		and		%01000000
285E: 202B    		jr		nz, parerr
2860: E1      		pop		hl
2861: EB      		ex		de, hl
2862: 2A655C  		ld		hl, (stkend)
2865: 010500  		ld		bc, 5
2868: ED42    		sbc		hl, bc
286A: 22655C  		ld		(stkend), hl
286D: EDB0    		ldir
286F: EB      		ex		de, hl
2870: 2B      		dec		hl
2871: CDAB28  		call	l28ab
2874: FE29    		cp		')'
2876: 280D    		jr		z, l2885
2878: E5      		push	hl
2879: DF      		rst		get_ch
287A: FE2C    		cp		','
287C: 200D    		jr		nz, parerr
287E: E7      		rst		next_ch
287F: E1      		pop		hl
2880: CDAB28  		call	l28ab
2883: 18BE    		jr		l2843
              	
2885:         	l2885:
2885: E5      		push	hl
2886: DF      		rst		get_ch
2887: FE29    		cp		')'
2889: 2802    		jr		z, l288d
              	
288B:         	parerr:								; sam
288B: CF      		rst		error_1					;
288C: 19      		defb	Parameter_error			;
              	
288D:         	l288d:
288D: D1      		pop		de
288E: EB      		ex		de, hl
288F: 225D5C  		ld		(chadd), hl
2892: 2A0B5C  		ld		hl, (defadd)
2895: E3      		ex		(sp), hl
2896: 220B5C  		ld		(defadd), hl
2899: D5      		push	de
289A: E7      		rst		next_ch
289B: E7      		rst		next_ch
289C: CDFB24  		call	scanning
289F: E1      		pop		hl
28A0: 225D5C  		ld		(chadd), hl
28A3: E1      		pop		hl
28A4: 220B5C  		ld		(defadd), hl
28A7: E7      		rst		next_ch
28A8: C31227  		jp		s_cont_2
              	
28AB:         	l28ab:
28AB: 23      		inc		hl
28AC: 7E      		ld		a, (hl)
28AD: FE21    		cp		' ' + 1
28AF: 38FA    		jr		c, l28ab
28B1: C9      		ret
              	
28B2:         	look_vars:							; zx81
28B2: FDCB01F6		set		6, (iy + _flags)		;
28B6: DF      		rst		get_ch					;
28B7: CD8D2C  		call	alpha					;
28BA: D28A1C  		jp		nc, report_c			;
28BD: E5      		push	hl						;
28BE: E61F    		and		%00011111
28C0: 4F      		ld		c, a					; zx81
28C1: E7      		rst		next_ch					;
28C2: E5      		push	hl						;
28C3: FE28    		cp		'('						;
28C5: 2828    		jr		z, v_run_syn			;
28C7: CBF1    		set		6, c					;
28C9: FE24    		cp		'$'						;
28CB: 2811    		jr		z, v_str_var			;
28CD: CBE9    		set		5, c					;
28CF: CD882C  		call	alphanum				;
28D2: 300F    		jr		nc, l28e3
              	
28D4:         	v_char:								; zx81
28D4: CD882C  		call	alphanum				;
28D7: 3016    		jr		nc, v_run_syn			;
28D9: CBB1    		res		6, c					;
28DB: E7      		rst		next_ch					;
28DC: 18F6    		jr		v_char					;
              										;
28DE:         	v_str_var:							;
28DE: E7      		rst		next_ch					;
28DF: FDCB01B6		res		6, (iy + _flags)		;
              	
28E3:         	l28e3:
28E3: 3A0C5C  		ld		a, (defadd_h)
28E6: A7      		and		a
28E7: 2806    		jr		z, v_run_syn
28E9: CD3025  		call	syntax_z
28EC: C25129  		jp		nz, l2951
              	
28EF:         	v_run_syn:							; zx81
28EF: 41      		ld		b, c					;
28F0: CD3025  		call	syntax_z				;
28F3: 2008    		jr		nz, v_run				;
28F5: 79      		ld		a, c					;
28F6: E6E0    		and		%11100000				;
28F8: F680    		or		%10000000				;
28FA: 4F      		ld		c, a					;
28FB: 1837    		jr		v_syntax				;
              										;
28FD:         	v_run:								;
28FD: 2A4B5C  		ld		hl, (vars)				;
              										;
2900:         	v_each:								;
2900: 7E      		ld		a, (hl)					;
2901: E67F    		and		%01111111				;
2903: 282D    		jr		z, v_80_byte			;
2905: B9      		cp		c						;
2906: 2022    		jr		nz, v_next				;
2908: 17      		rla								;
2909: 87      		add		a, a					;
290A: F23F29  		jp		p, v_found_2			;
290D: 3830    		jr		c, v_found_2			;
290F: D1      		pop		de						;
2910: D5      		push	de						;
2911: E5      		push	hl						;
              										;
2912:         	v_matches:							;
2912: 23      		inc		hl						;
              										;
2913:         	v_spaces:							;
2913: 1A      		ld		a, (de)					;
2914: 13      		inc		de						;
2915: FE20    		cp		' '						;
2917: 28FA    		jr		z, v_spaces				;
2919: F620    		or		%00100000				;
291B: BE      		cp		(hl)					;
291C: 28F4    		jr		z, v_matches			;
291E: F680    		or		%10000000				;
2920: BE      		cp		(hl)					;
2921: 2006    		jr		nz, v_get_ptr			;
2923: 1A      		ld		a, (de)					;
2924: CD882C  		call	alphanum				;
2927: 3015    		jr		nc, v_found_1			;
              										;
2929:         	v_get_ptr:							;
2929: E1      		pop		hl						;
              										;
292A:         	v_next:								;
292A: C5      		push	bc						;
292B: CDB819  		call	next_one				;
292E: EB      		ex		de, hl					;
292F: C1      		pop		bc						;
2930: 18CE    		jr		v_each					;
              										;
2932:         	v_80_byte:							;
2932: CBF8    		set		7, b					;
              										;
2934:         	v_syntax:							;
2934: D1      		pop		de						;
2935: DF      		rst		get_ch					;
2936: FE28    		cp		'('						;
2938: 2809    		jr		z, v_pass				;
293A: CBE8    		set		5, b					;
293C: 180D    		jr		v_end					;
              										;
293E:         	v_found_1:							;
293E: D1      		pop		de						;
              										;
293F:         	v_found_2:							;
293F: D1      		pop		de						;
2940: D1      		pop		de						;
2941: E5      		push	hl						;
2942: DF      		rst		get_ch					;
              										;
2943:         	v_pass:								;
2943: CD882C  		call	alphanum				;
2946: 3003    		jr		nc, v_end				;
2948: E7      		rst		next_ch					;
2949: 18F8    		jr		v_pass					;
              										;
294B:         	v_end:								;
294B: E1      		pop		hl						;
294C: CB10    		rl		b						;
294E: CB70    		bit		6, b					;
2950: C9      		ret								;
              	
2951:         	l2951:
2951: 2A0B5C  		ld		hl, (defadd)
2954: 7E      		ld		a, (hl)
2955: FE29    		cp		')'
2957: CAEF28  		jp		z, v_run_syn
              	
295A:         	l295a:
295A: 7E      		ld		a, (hl)
295B: F660    		or		%01100000
295D: 23      		inc		hl
295E: 47      		ld		b, a
295F: 7E      		ld		a, (hl)
2960: FE0E    		cp		ctrl_number
2962: 2807    		jr		z, l296b
2964: 2B      		dec		hl
2965: CDAB28  		call	l28ab
2968: CBA8    		res		5, b
296A: 23      		inc		hl
              	
296B:         	l296b:
296B: 78      		ld		a, b
296C: B9      		cp		c
296D: 2812    		jr		z, l2981
296F: 23      		inc		hl
2970: 23      		inc		hl
2971: 23      		inc		hl
2972: 23      		inc		hl
2973: 23      		inc		hl
2974: CDAB28  		call	l28ab
2977: FE29    		cp		')'
2979: CAEF28  		jp		z, v_run_syn
297C: CDAB28  		call	l28ab
297F: 18D9    		jr		l295a
              	
2981:         	l2981:
2981: CB69    		bit		5, c
2983: 200C    		jr		nz, l2991
2985: 23      		inc		hl
2986: ED5B655C		ld		de, (stkend)
298A: CDC433  		call	x80_fmove
298D: EB      		ex		de, hl
298E: 22655C  		ld		(stkend), hl
              	
2991:         	l2991:
2991: D1      		pop		de
2992: D1      		pop		de
2993: AF      		xor		a
2994: 3C      		inc		a
2995: C9      		ret
              	
2996:         	stk_var:							; zx81
2996: AF      		xor		a						;
2997: 47      		ld		b, a					;
2998: CB79    		bit		7, c					;
299A: 204B    		jr		nz, sv_count			;
299C: CB7E    		bit		7, (hl)					;
299E: 200E    		jr		nz, sv_arrays			;
29A0: 3C      		inc		a						;
              										;
29A1:         	sv_smples:							;
29A1: 23      		inc		hl						;
29A2: 4E      		ld		c, (hl)					;
29A3: 23      		inc		hl						;
29A4: 46      		ld		b, (hl)					;
29A5: 23      		inc		hl						;
29A6: EB      		ex		de, hl					;
29A7: CDB22A  		call	stk_store				;
29AA: DF      		rst		get_ch					;
29AB: C3492A  		jp		sv_sliceq				;
              										;
29AE:         	sv_arrays:							;
29AE: 23      		inc		hl						;
29AF: 23      		inc		hl						;
29B0: 23      		inc		hl						;
29B1: 46      		ld		b, (hl)					;
29B2: CB71    		bit		6, c					;
29B4: 280A    		jr		z, sv_ptr				;
29B6: 05      		dec		b						;
29B7: 28E8    		jr		z, sv_smples			;
29B9: EB      		ex		de, hl					;
29BA: DF      		rst		get_ch					;
29BB: FE28    		cp		'('						;
29BD: 2061    		jr		nz, report_3			;
29BF: EB      		ex		de, hl					;
              										;
29C0:         	sv_ptr:								;
29C0: EB      		ex		de, hl					;
29C1: 1824    		jr		sv_count				;
              										;
29C3:         	sv_comma:							;
29C3: E5      		push	hl						;
29C4: DF      		rst		get_ch					;
29C5: E1      		pop		hl						;
29C6: FE2C    		cp		','						;
29C8: 2820    		jr		z, sv_loop				;
29CA: CB79    		bit		7, c					;
29CC: 2852    		jr		z, report_3				;
29CE: CB71    		bit		6, c					;
29D0: 2006    		jr		nz, sv_close			;
29D2: FE29    		cp		')'						;
29D4: 203C    		jr		nz, sv_rpt_c			;
29D6: E7      		rst		next_ch					;
29D7: C9      		ret								;
              										;
29D8:         	sv_close:							;
29D8: FE29    		cp		')'						;
29DA: 286C    		jr		z, sv_dim				;
29DC: FECC    		cp		tk_to					;
29DE: 2032    		jr		nz, sv_rpt_c			;
              										;
29E0:         	sv_chadd:							;
29E0: DF      		rst		get_ch					;
29E1: 2B      		dec		hl						;
29E2: 225D5C  		ld		(chadd), hl				;
29E5: 185E    		jr		sv_slice				;
              										;
29E7:         	sv_count:							;
29E7: 210000  		ld		hl, 0					;
              										;
29EA:         	sv_loop:							;
29EA: E5      		push	hl						;
29EB: E7      		rst		next_ch					;
29EC: E1      		pop		hl 						;
29ED: 79      		ld		a, c					;
29EE: FEC0    		cp		%11000000				;
29F0: 2009    		jr		nz, sv_mult				;
29F2: DF      		rst		get_ch					;
29F3: FE29    		cp		')'						;
29F5: 2851    		jr		z, sv_dim				;
29F7: FECC    		cp		tk_to					;
29F9: 28E5    		jr		z, sv_chadd				;
              										;
29FB:         	sv_mult:							;
29FB: C5      		push	bc						;
29FC: E5      		push	hl						;
29FD: CDEE2A  		call	de_de_1					;
2A00: E3      		ex		(sp), hl				;
2A01: EB      		ex		de, hl					;
2A02: CDCC2A  		call	int_exp1				;
2A05: 3819    		jr		c, report_3				;
2A07: 0B      		dec		bc						;
2A08: CDF42A  		call	hl_hl_de				;
2A0B: 09      		add		hl, bc					;
2A0C: D1      		pop		de						;
2A0D: C1      		pop		bc						;
2A0E: 10B3    		djnz	sv_comma				;
2A10: CB79    		bit		7, c					;
              										;
2A12:         	sv_rpt_c:							;
2A12: 2066    		jr		nz, sl_rpt_c			;
2A14: E5      		push	hl						;
2A15: CB71    		bit		6, c					;
2A17: 2013    		jr		nz, sv_elems			;
2A19: 42      		ld		b, d					;
2A1A: 4B      		ld		c, e					;
2A1B: DF      		rst		get_ch					;
2A1C: FE29    		cp		')'						;
2A1E: 2802    		jr		z, sv_number			;
              										;
2A20:         	report_3:							;
2A20: CF      		rst		error_1					;
2A21: 02      		defb	Bad_subscript			;
              										;
2A22:         	sv_number:							;
2A22: E7      		rst		next_ch					;
2A23: E1      		pop		hl						;
2A24: 110500  		ld		de, 5					;
2A27: CDF42A  		call	hl_hl_de				;
2A2A: 09      		add		hl, bc					;
2A2B: C9      		ret								;
              										;
2A2C:         	sv_elems:							;
2A2C: CDEE2A  		call	de_de_1					;
2A2F: E3      		ex		(sp), hl				;
2A30: CDF42A  		call	hl_hl_de				;
2A33: C1      		pop		bc						;
2A34: 09      		add		hl, bc					;
2A35: 23      		inc		hl						;
2A36: 42      		ld		b, d					;
2A37: 4B      		ld		c, e					;
2A38: EB      		ex		de, hl					;
2A39: CDB12A  		call	stk_st_0				;
2A3C: DF      		rst		get_ch					;
2A3D: FE29    		cp		')'						;
2A3F: 2807    		jr		z, sv_dim				;
2A41: FE2C    		cp		','						;
2A43: 20DB    		jr		nz, report_3			;
              										;
2A45:         	sv_slice:							;
2A45: CD522A  		call	slicing					;
              										;
2A48:         	sv_dim:								;
2A48: E7      		rst		next_ch					;
              										;
2A49:         	sv_sliceq:							;
2A49: FE28    		cp		'('						;
2A4B: 28F8    		jr		z, sv_slice				;
2A4D: FDCB01B6		res		6, (iy + _flags)		;
2A51: C9      		ret								;
              										;
2A52:         	slicing:							;
2A52: CD3025  		call	syntax_z				;
2A55: C4F12B  		call	nz, stk_fetch			;
2A58: E7      		rst		next_ch					;
2A59: FE29    		cp		')'						;
2A5B: 2850    		jr		z, sl_store				;
2A5D: D5      		push	de						;
2A5E: AF      		xor		a						;
2A5F: F5      		push	af						;
2A60: C5      		push	bc						;
2A61: 110100  		ld		de, 1					;
2A64: DF      		rst		get_ch					;
2A65: E1      		pop		hl						;
2A66: FECC    		cp		tk_to					;
2A68: 2817    		jr		z, sl_second			;
2A6A: F1      		pop		af						;
2A6B: CDCD2A  		call	int_exp2				;
2A6E: F5      		push	af						;
2A6F: 50      		ld		d, b					;
2A70: 59      		ld		e, c					;
2A71: E5      		push	hl						;
2A72: DF      		rst		get_ch					;
2A73: E1      		pop		hl						;
2A74: FECC    		cp		tk_to					;
2A76: 2809    		jr		z, sl_second			;
2A78: FE29    		cp		')'						;
              										;
2A7A:         	sl_rpt_c:							;
2A7A: C28A1C  		jp		nz, report_c			;
2A7D: 62      		ld		h, d					;
2A7E: 6B      		ld		l, e					;
2A7F: 1813    		jr		sl_define				;
              										;
2A81:         	sl_second:							;
2A81: E5      		push	hl						;
2A82: E7      		rst		next_ch					;
2A83: E1      		pop		hl						;
2A84: FE29    		cp		')'						;
2A86: 280C    		jr		z, sl_define			;
2A88: F1      		pop		af						;
2A89: CDCD2A  		call	int_exp2				;
2A8C: F5      		push	af						;
2A8D: DF      		rst		get_ch					;
2A8E: 60      		ld		h, b					;
2A8F: 69      		ld		l, c					;
2A90: FE29    		cp		')'						;
2A92: 20E6    		jr		nz, sl_rpt_c			;
              										;
2A94:         	sl_define:							;
2A94: F1      		pop		af						;
2A95: E3      		ex		(sp), hl				;
2A96: 19      		add		hl, de					;
2A97: 2B      		dec		hl						;
2A98: E3      		ex		(sp), hl				;
2A99: A7      		and		a						;
2A9A: ED52    		sbc		hl, de					;
2A9C: 010000  		ld		bc, 0					;
2A9F: 3807    		jr		c, sl_over				;
2AA1: 23      		inc		hl						;
2AA2: A7      		and		a						;
2AA3: FA202A  		jp		m, report_3				;
2AA6: 44      		ld		b, h					;
2AA7: 4D      		ld		c, l					;
              										;
2AA8:         	sl_over:							;
2AA8: D1      		pop		de						;
2AA9: FDCB01B6		res		6, (iy + _flags)		;
              										;
2AAD:         	sl_store:							;
2AAD: CD3025  		call	syntax_z				;
2AB0: C8      		ret		z						;
              										;
2AB1:         	stk_st_0:							;
2AB1: AF      		xor		a						;
              										;
2AB2:         	stk_store:							;
2AB2: FDCB01B6		res		6, (iy + _flags)		;
              										;
2AB6:         	l2ab6:								;
2AB6: C5      		push	bc						;
2AB7: CDAD33  		call	test_5_sp				;
2ABA: C1      		pop		bc						;
2ABB: 2A655C  		ld		hl, (stkend)			;
2ABE: 77      		ld		(hl), a					;
2ABF: 23      		inc		hl						;
2AC0: 73      		ld		(hl), e					;
2AC1: 23      		inc		hl						;
2AC2: 72      		ld		(hl), d					;
2AC3: 23      		inc		hl						;
2AC4: 71      		ld		(hl), c					;
2AC5: 23      		inc		hl						;
2AC6: 70      		ld		(hl), b					;
2AC7: 23      		inc		hl						;
2AC8: 22655C  		ld		(stkend), hl			;
2ACB: C9      		ret								;
              										;
2ACC:         	int_exp1:							;
2ACC: AF      		xor		a						;
              										;
2ACD:         	int_exp2:							;
2ACD: D5      		push	de						;
2ACE: E5      		push	hl						;
2ACF: F5      		push	af						;
2AD0: CD821C  		call	class_6					;
2AD3: F1      		pop		af						;
2AD4: CD3025  		call	syntax_z				;
2AD7: 2812    		jr		z, i_restore			;
2AD9: F5      		push	af						;
2ADA: CD991E  		call	find_int				;
2ADD: D1      		pop		de						;
2ADE: 78      		ld		a, b					;
2ADF: B1      		or		c						;
2AE0: 37      		scf								;
2AE1: 2805    		jr		z, i_carry				;
2AE3: E1      		pop		hl						;
2AE4: E5      		push	hl						;
2AE5: A7      		and		a						;
2AE6: ED42    		sbc		hl, bc					;
              										;
2AE8:         	i_carry:							;
2AE8: 7A      		ld		a, d					;
2AE9: DE00    		sbc		a, 0					;
              										;
2AEB:         	i_restore:							;
2AEB: E1      		pop		hl						;
2AEC: D1      		pop		de						;
2AED: C9      		ret								;
              										;
2AEE:         	de_de_1:							;
2AEE: EB      		ex		de, hl					;
2AEF: 23      		inc		hl						;
2AF0: 5E      		ld		e, (hl)					;
2AF1: 23      		inc		hl						;
2AF2: 56      		ld		d, (hl)					;
2AF3: C9      		ret								;
              										;
2AF4:         	hl_hl_de:							;
2AF4: CD3025  		call	syntax_z				;
2AF7: C8      		ret		z						;
2AF8: CDA930  		call	l30a9					;
2AFB: DA151F  		jp		c, report_4				;
2AFE: C9      		ret								;
              										;
2AFF:         	let:								;
2AFF: 2A4D5C  		ld		hl, (dest)				;
2B02: FDCB374E		bit		1, (iy + _flage)		;
2B06: 285E    		jr		z, l_exists				;
2B08: 010500  		ld		bc, 5					;
              										;
2B0B:         	l_each_ch:							;
2B0B: 03      		inc		bc						;
              										;
2B0C:         	l_no_sp:							;
2B0C: 23      		inc		hl						;
2B0D: 7E      		ld		a, (hl)					;
2B0E: FE20    		cp		' '
2B10: 28FA    		jr		z, l_no_sp
2B12: 300B    		jr		nc, l2b1f
2B14: FE10    		cp		16
2B16: 3811    		jr		c, l2b29
2B18: FE16    		cp		22
2B1A: 300D    		jr		nc, l2b29
2B1C: 23      		inc		hl
2B1D: 18ED    		jr		l_no_sp
              	
2B1F:         	l2b1f:
2B1F: CD882C  		call	alphanum				; zx81
2B22: 38E7    		jr		c, l_each_ch			;
2B24: FE24    		cp		'$'						;
2B26: CAC02B  		jp		z, l_news				;
              	
2B29:         	l2b29:
2B29: 79      		ld		a, c
2B2A: 2A595C  		ld		hl, (eline)
2B2D: 2B      		dec		hl
2B2E: CD5516  		call	make_room
2B31: EB      		ex		de, hl
2B32: 13      		inc		de
2B33: 13      		inc		de
2B34: D5      		push	de						; zx81
2B35: 2A4D5C  		ld		hl, (dest)				;
2B38: 1B      		dec		de						;
2B39: D606    		sub		6						;
2B3B: 47      		ld		b, a					;
2B3C: 2811    		jr		z, l_single				;
              										;
2B3E:         	l_char:								;
2B3E: 23      		inc		hl						;
2B3F: 7E      		ld		a, (hl)					;
2B40: FE21    		cp		' ' + 1
2B42: 38FA    		jr		c, l_char
2B44: 13      		inc		de
2B45: F620    		or		%00100000
2B47: 12      		ld		(de), a					; zx81
2B48: 10F4    		djnz	l_char					;
2B4A: F680    		or		%10000000				;
2B4C: 12      		ld		(de), a					;
2B4D: 3EC0    		ld		a, %11000000			;
              										;
2B4F:         	l_single:							;
2B4F: 2A4D5C  		ld		hl, (dest)				;
2B52: AE      		xor		(hl)					;
2B53: F620    		or		%00100000
2B55: E1      		pop		hl
2B56: CDEA2B  		call	l2bea
              	
2B59:         	l_numeric:							; zx81						
2B59: E5      		push	hl						;
              		fwait							;
2B5A: EF      		rst	28h
              		fdel							;
2B5B: 02      		defb	0x02
              		fce								;
2B5C: 38      		defb	0x38
2B5D: E1      		pop		hl						;
2B5E: 010500  		ld		bc, 5					;
2B61: A7      		and		a						;
2B62: ED42    		sbc		hl, bc					;
2B64: 1840    		jr		l_enter					;
              										;
2B66:         	l_exists:							;
2B66: FDCB0176		bit		6, (iy + _flags)		;
2B6A: 2806    		jr		z, l_deletes			;
2B6C: 110600  		ld		de, 6					;
2B6F: 19      		add		hl, de					;
2B70: 18E7    		jr		l_numeric				;
              										;
2B72:         	l_deletes:							;
2B72: 2A4D5C  		ld		hl, (dest)				;
2B75: ED4B725C		ld		bc, (stril)				;
2B79: FDCB3746		bit		0, (iy + _flage)		;
2B7D: 2030    		jr		nz, l_adds				;
2B7F: 78      		ld		a, b					;
2B80: B1      		or		c						;
2B81: C8      		ret		z						;
2B82: E5      		push	hl						;
2B83: F7      		rst		bc_spaces				;
2B84: D5      		push	de						;
2B85: C5      		push	bc						;
2B86: 54      		ld		d, h					;
2B87: 5D      		ld		e, l					;
2B88: 23      		inc		hl						;
2B89: 3620    		ld		(hl), ' '				;
2B8B: EDB8    		lddr							;
2B8D: E5      		push	hl						;
2B8E: CDF12B  		call	stk_fetch				;
2B91: E1      		pop		hl						;
2B92: E3      		ex		(sp), hl				;
2B93: A7      		and		a						;
2B94: ED42    		sbc		hl, bc					;
2B96: 09      		add		hl, bc					;
2B97: 3002    		jr		nc, l_length			;
2B99: 44      		ld		b, h					;
2B9A: 4D      		ld		c, l					;
              										;
2B9B:         	l_length:							;
2B9B: E3      		ex		(sp), hl				;
2B9C: EB      		ex		de, hl					;
2B9D: 78      		ld		a, b					;
2B9E: B1      		or		c						;
2B9F: 2802    		jr		z, l_in_w_s				;
2BA1: EDB0    		ldir							;
              										;
2BA3:         	l_in_w_s:							;
2BA3: C1      		pop		bc						;
2BA4: D1      		pop		de						;
2BA5: E1      		pop		hl						;
              										;
2BA6:         	l_enter:							;
2BA6: EB      		ex		de, hl					;
2BA7: 78      		ld		a, b					;
2BA8: B1      		or		c						;
2BA9: C8      		ret		z						;
2BAA: D5      		push	de						;
2BAB: EDB0    		ldir							;
2BAD: E1      		pop		hl						;
2BAE: C9      		ret								;
              										;
2BAF:         	l_adds:								;
2BAF: 2B      		dec		hl						;
2BB0: 2B      		dec		hl						;
2BB1: 2B      		dec		hl						;
2BB2: 7E      		ld		a, (hl)					;
2BB3: E5      		push	hl						;
2BB4: C5      		push	bc						;
2BB5: CDC62B  		call	l_string				;
2BB8: C1      		pop		bc						;
2BB9: E1      		pop		hl						;
2BBA: 03      		inc		bc						;
2BBB: 03      		inc		bc						;
2BBC: 03      		inc		bc						;
2BBD: C3E819  		jp		reclaim_2				;
              										;
2BC0:         	l_news:								;
2BC0: 3EDF    		ld		a, %11011111			;
2BC2: 2A4D5C  		ld		hl, (dest)				;
2BC5: A6      		and		(hl)					;
              										;
2BC6:         	l_string:							;
2BC6: F5      		push	af						;
2BC7: CDF12B  		call	stk_fetch				;
2BCA: EB      		ex		de, hl					;
2BCB: 09      		add		hl, bc					;
2BCC: 2B      		dec		hl
2BCD: 224D5C  		ld		(dest), hl
2BD0: C5      		push	bc
2BD1: 03      		inc		bc						; zx81
2BD2: 03      		inc		bc						;
2BD3: 03      		inc		bc						;
2BD4: 2A595C  		ld		hl, (eline)
2BD7: 2B      		dec		hl
2BD8: CD5516  		call	make_room
2BDB: 2A4D5C  		ld		hl, (dest)
2BDE: C1      		pop		bc
2BDF: C5      		push	bc
2BE0: 03      		inc		bc
2BE1: EDB8    		lddr							; zx81
2BE3: EB      		ex		de, hl					;
2BE4: C1      		pop		bc
2BE5: 23      		inc		hl
2BE6: 70      		ld		(hl), b					; zx81
2BE7: 2B      		dec		hl						;
2BE8: 71      		ld		(hl), c					;
2BE9: F1      		pop		af						;
              	
2BEA:         	l2bea:
2BEA: 2B      		dec		hl
2BEB: 77      		ld		(hl), a
2BEC: 2A595C  		ld		hl, (eline)
2BEF: 2B      		dec		hl
2BF0: C9      		ret
              	
2BF1:         	stk_fetch:							; zx81
2BF1: 2A655C  		ld		hl, (stkend)			;
2BF4: 2B      		dec		hl						;
2BF5: 46      		ld		b, (hl)					;
2BF6: 2B      		dec		hl						;
2BF7: 4E      		ld		c, (hl)					;
2BF8: 2B      		dec		hl						;
2BF9: 56      		ld		d, (hl)					;
2BFA: 2B      		dec		hl						;
2BFB: 5E      		ld		e, (hl)					;
2BFC: 2B      		dec		hl						;
2BFD: 7E      		ld		a, (hl)					;
2BFE: 22655C  		ld		(stkend), hl			;
2C01: C9      		ret								;
              										;
2C02:         	dim:								;
2C02: CDB228  		call	look_vars				;
              										;
2C05:         	d_rport_c:							;
2C05: C28A1C  		jp		nz, report_c			;
2C08: CD3025  		call	syntax_z				;
2C0B: 2008    		jr		nz, d_run				;
2C0D: CBB1    		res		6, c					;
2C0F: CD9629  		call	stk_var					;
2C12: CDEE1B  		call	check_end				;
              										;
2C15:         	d_run:								;
2C15: 3808    		jr		c, d_letter				;
2C17: C5      		push	bc						;
2C18: CDB819  		call	next_one				;
2C1B: CDE819  		call	reclaim_2				;
2C1E: C1      		pop		bc						;
              										;
2C1F:         	d_letter:							;
2C1F: CBF9    		set		7, c					;
2C21: 0600    		ld		b, 0					;
2C23: C5      		push	bc						;
2C24: 210100  		ld		hl, 1					;
2C27: CB71    		bit		6, c					;
2C29: 2002    		jr		nz, d_size				;
2C2B: 2E05    		ld		l, 5					;
              										;
2C2D:         	d_size:								;
2C2D: EB      		ex		de, hl					;
              										;
2C2E:         	d_no_loop:							;
2C2E: E7      		rst		next_ch					;
2C2F: 26FF    		ld		h, 255					;
2C31: CDCC2A  		call	int_exp1				;
2C34: DA202A  		jp		c, report_3				;
2C37: E1      		pop		hl						;
2C38: C5      		push	bc						;
2C39: 24      		inc		h						;
2C3A: E5      		push	hl						;
2C3B: 60      		ld		h, b					;
2C3C: 69      		ld		l, c					;
2C3D: CDF42A  		call	hl_hl_de				;
2C40: EB      		ex		de, hl					;
2C41: DF      		rst		get_ch					;
2C42: FE2C    		cp		','						;
2C44: 28E8    		jr		z, d_no_loop			;
2C46: FE29    		cp		')'						;
2C48: 20BB    		jr		nz, d_rport_c			;
2C4A: E7      		rst		next_ch					;
2C4B: C1      		pop		bc						;
2C4C: 79      		ld		a, c					;
2C4D: 68      		ld		l, b					;
2C4E: 2600    		ld		h, 0					;
2C50: 23      		inc		hl						;
2C51: 23      		inc		hl						;
2C52: 29      		add		hl, hl					;
2C53: 19      		add		hl, de					;
2C54: DA151F  		jp		c, report_4				;
2C57: D5      		push	de						;
2C58: C5      		push	bc						;
2C59: E5      		push	hl						;
2C5A: 44      		ld		b, h					;
2C5B: 4D      		ld		c, l					;
2C5C: 2A595C  		ld		hl, (eline)				;
2C5F: 2B      		dec		hl						;
2C60: CD5516  		call	make_room				;
2C63: 23      		inc		hl						;
2C64: 77      		ld		(hl), a					;
2C65: C1      		pop		bc						;
2C66: 0B      		dec		bc						;
2C67: 0B      		dec		bc						;
2C68: 0B      		dec		bc						;
2C69: 23      		inc		hl						;
2C6A: 71      		ld		(hl), c					;
2C6B: 23      		inc		hl						;
2C6C: 70      		ld		(hl), b					;
2C6D: C1      		pop		bc
2C6E: 78      		ld		a, b
2C6F: 23      		inc		hl						; zx81
2C70: 77      		ld		(hl), a 				;
2C71: 62      		ld		h, d					;
2C72: 6B      		ld		l, e					;
2C73: 1B      		dec		de						;
2C74: 3600    		ld		(hl), 0					;
2C76: CB71    		bit		6, c
2C78: 2802    		jr		z, l2c7c
2C7A: 3620    		ld		(hl), ' '
              	
2C7C:         	l2c7c:								; zx81
2C7C: C1      		pop		bc						;
2C7D: EDB8    		lddr							;
              										;
2C7F:         	dim_sizes:							;
2C7F: C1      		pop		bc						;
2C80: 70      		ld		(hl), b					;
2C81: 2B      		dec		hl						;
2C82: 71      		ld		(hl), c					;
2C83: 2B      		dec		hl						;
2C84: 3D      		dec		a						;
2C85: 20F8    		jr		nz, dim_sizes			;
2C87: C9      		ret								;
              	
2C88:         	alphanum:
2C88: CD1B2D  		call	numeric
2C8B: 3F      		ccf
2C8C: D8      		ret		c
              	
2C8D:         	alpha:								; zx81
2C8D: FE41    		cp		'A'						;
2C8F: 3F      		ccf								;
2C90: D0      		ret		nc						;
2C91: FE7B    		cp		'z' + 1					; sam
2C93: D0      		ret		nc						;
2C94: FE5B    		cp		'Z' + 1					;
2C96: D8      		ret		c						;
2C97: FE61    		cp		'a'						;
2C99: 3F      		ccf								;
2C9A: C9      		ret								;
              	
2C9B:         	dec_to_fp:
2C9B: FEC4    		cp		tk_bin
2C9D: 2019    		jr		nz, l2cb8
2C9F: 110000  		ld		de, 0
              	
2CA2:         	l2ca2:
2CA2: E7      		rst		next_ch
2CA3: D631    		sub		'1'
2CA5: CE00    		adc		a, 0
2CA7: 200A    		jr		nz, l2cb3
2CA9: EB      		ex		de, hl
2CAA: 3F      		ccf
2CAB: ED6A    		adc		hl, hl
2CAD: DAAD31  		jp		c, report_6
2CB0: EB      		ex		de, hl
2CB1: 18EF    		jr		l2ca2
              	
2CB3:         	l2cb3:
2CB3: 4B      		ld		c, e
2CB4: 42      		ld		b, d
2CB5: C32F2D  		jp		stack_bc1
              	
2CB8:         	l2cb8:								; sam
2CB8: FE2E    		cp		'.'						;
2CBA: 280F    		jr		z, decint				; was nz
2CBC: CD3B2D  		call	int_to_fp				;
2CBF: FE2E    		cp		'.'						;
2CC1: 2028    		jr		nz, e_format			;
2CC3: E7      		rst		next_ch					;
2CC4: CD1B2D  		call	numeric					;
2CC7: 3822    		jr		c, e_format				; was nc
2CC9: 180A    		jr		l2cd5
              	
2CCB:         	decint:								; sam
2CCB: E7      		rst		next_ch					;
2CCC: CD1B2D  		call	numeric					;
              	
2CCF:         	nonsense:
2CCF: DA8A1C  		jp		c, report_c
              		fwait
2CD2: EF      		rst	28h
              		fstk0
2CD3: A0      		defb	0xa0
              		fce
2CD4: 38      		defb	0x38
              	
2CD5:         	l2cd5:								; zx81
              		fwait							;
2CD5: EF      		rst	28h
              		fstk1							;
2CD6: A1      		defb	0xa1
              		fst		0						;
2CD7: C0      		defb	0xc0 + 0
              		fdel							;
2CD8: 02      		defb	0x02
              		fce								;
2CD9: 38      		defb	0x38
              										;
2CDA:         	nxt_dgt_1:							;
2CDA: DF      		rst		get_ch					; was next_ch
2CDB: CD222D  		call	stk_digit				;
2CDE: 380B    		jr		c, e_format				;
              		fwait							;
2CE0: EF      		rst	28h
              		fgt		0						;
2CE1: E0      		defb	0xe0 + 0
              		fstk10							;
2CE2: A4      		defb	0xa4
              		fmul							; was fdiv
2CE3: 04      		defb	0x04
              		fst		0						;
2CE4: C0      		defb	0xc0 + 0
              		fdiv							; was fmul
2CE5: 05      		defb	0x05
              		fadd							;
2CE6: 0F      		defb	0x0f
              		fce								;
2CE7: 38      		defb	0x38
2CE8: E7      		rst		next_ch
2CE9: 18EF    		jr		nxt_dgt_1
              	
2CEB:         	e_format:							; sam
2CEB: FE45    		cp		'E'						;
2CED: 2803    		jr		z, l2cf2
2CEF: FE65    		cp		'e'
2CF1: C0      		ret		nz
              	
2CF2:         	l2cf2:
2CF2: 06FF    		ld		b, 255
2CF4: E7      		rst		next_ch					; zx81
2CF5: FE2B    		cp		'+'						;
2CF7: 2805    		jr		z, sign_done			;
2CF9: FE2D    		cp		'-'						;
2CFB: 2002    		jr		nz, st_e_part			;
2CFD: 04      		inc		b
              	
2CFE:         	sign_done:							; zx81
2CFE: E7      		rst		next_ch					;
              	
2CFF:         	st_e_part:							; sam
2CFF: CD1B2D  		call	numeric					;
2D02: 38CB    		jr		c, nonsense				; was nc
2D04: C5      		push	bc						;
2D05: CD3B2D  		call	int_to_fp				;
2D08: CDD52D  		call	fp_to_a					;
2D0B: C1      		pop		bc
2D0C: DAAD31  		jp		c, report_6
2D0F: A7      		and		a
2D10: FAAD31  		jp		m, report_6
2D13: 04      		inc		b
2D14: 2802    		jr		z, e_fp					; sam
2D16: ED44    		neg								;
              										;
2D18:         	e_fp:								;
2D18: 1835    		jr		e_to_fp					;
2D1A: FF      		defb	0xff					; se
              										; sam
2D1B:         	numeric:							;
2D1B: FE30    		cp		'0'						; was '9' + 1
2D1D: D8      		ret		c						; was nc
2D1E: FE3A    		cp		'9' + 1					; was '0'
2D20: 3F      		ccf								;
2D21: C9      		ret								;
              	
2D22:         	stk_digit:
2D22: CD1B2D  		call	numeric
2D25: D8      		ret		c						; zx81
2D26: D630    		sub		'0'						;
              										;
2D28:         	stack_a:							;
2D28: 4F      		ld		c, a					;
2D29: 0600    		ld		b, 0					;
              										;
2D2B:         	stack_bc:							;
2D2B: FD213A5C		ld		iy, errnr				;
              	
2D2F:         	stack_bc1:
2D2F: 51      		ld		d, c
2D30: AF      		xor		a
2D31: 5F      		ld		e, a
2D32: 48      		ld		c, b
2D33: 43      		ld		b, e
2D34: CDB62A  		call	l2ab6
              		fwait
2D37: EF      		rst	28h
              		fce
2D38: 38      		defb	0x38
2D39: A7      		and		a
2D3A: C9      		ret
              	
2D3B:         	int_to_fp:							; zx81
2D3B: F5      		push	af						;
              		fwait							;
2D3C: EF      		rst	28h
              		fstk0							;
2D3D: A0      		defb	0xa0
              		fce								;
2D3E: 38      		defb	0x38
2D3F: F1      		pop		af						;
              										;
2D40:         	nxt_dgt_2:							;
2D40: CD222D  		call	stk_digit				;
2D43: D8      		ret		c						;
              		fwait							;
2D44: EF      		rst	28h
              		fxch							;
2D45: 01      		defb	0x01
              		fstk10							;
2D46: A4      		defb	0xa4
              		fmul							;
2D47: 04      		defb	0x04
              		fadd							;
2D48: 0F      		defb	0x0f
              		fce								;
2D49: 38      		defb	0x38
2D4A: CD7400  		call	ch_add_1				;
2D4D: 18F1    		jr		nxt_dgt_2				;
              	
2D4F:         	e_to_fp:
2D4F: 07      		rlca
2D50: 0F      		rrca
2D51: 3002    		jr		nc, l2d55
2D53: 2F      		cpl
2D54: 3C      		inc		a
              	
2D55:         	l2d55:
2D55: F5      		push	af
2D56: 21925C  		ld		hl, membot
2D59: CDE734  		call	fp_0_1
              		fwait
2D5C: EF      		rst	28h
              		fstk10
2D5D: A4      		defb	0xa4
              		fce
2D5E: 38      		defb	0x38
2D5F: F1      		pop		af
              	
2D60:         	l2d60:
2D60: CB3F    		srl		a
2D62: 300D    		jr		nc, l2d71
2D64: F5      		push	af
              		fwait
2D65: EF      		rst	28h
              		fst		1
2D66: C1      		defb	0xc0 + 1
              		fgt		0
2D67: E0      		defb	0xe0 + 0
              		fjpt	l2d6d
2D68: 0005    		defb	0x00, l2d6d - $
              		fmul
2D6A: 04      		defb	0x04
              		fjp		l2d6e
2D6B: 3303    		defb	0x33, l2d6e - $
              	
2D6D:         	l2d6d:
              		fdiv
2D6D: 05      		defb	0x05
              	
2D6E:         	l2d6e:
              		fgt		1
2D6E: E1      		defb	0xe0 + 1
              		fce
2D6F: 38      		defb	0x38
2D70: F1      		pop		af
              	
2D71:         	l2d71:
2D71: 2808    		jr		z, l2d7b
2D73: F5      		push	af
              		fwait
2D74: EF      		rst	28h
              		fmove
2D75: 31      		defb	0x31
              		fmul
2D76: 04      		defb	0x04
              		fce
2D77: 38      		defb	0x38
2D78: F1      		pop		af
2D79: 18E5    		jr		l2d60
              	
2D7B:         	l2d7b:
              		fwait
2D7B: EF      		rst	28h
              		fdel
2D7C: 02      		defb	0x02
              		fce
2D7D: 38      		defb	0x38
2D7E: C9      		ret
              	
2D7F:         	fetchi:								; sam
2D7F: 23      		inc		hl						;
2D80: 4E      		ld		c, (hl)					;
2D81: 23      		inc		hl						;
2D82: 7E      		ld		a, (hl)
2D83: A9      		xor		c
2D84: 91      		sub		c
2D85: 5F      		ld		e, a
2D86: 23      		inc		hl
2D87: 7E      		ld		a, (hl)
2D88: 89      		adc		a, c
2D89: A9      		xor		c
2D8A: 57      		ld		d, a
2D8B: C9      		ret
              	
2D8C:         	l2d8c:								; se
2D8C: 4D42    		defb	"MB"					;
              	
2D8E:         	l2d8e:
2D8E: E5      		push	hl
2D8F: 23      		inc		hl
2D90: 71      		ld		(hl), c
2D91: 23      		inc		hl
2D92: 7B      		ld		a, e
2D93: A9      		xor		c
2D94: 91      		sub		c
2D95: 77      		ld		(hl), a
2D96: 23      		inc		hl
2D97: 7A      		ld		a, d
2D98: 89      		adc		a, c
2D99: A9      		xor		c
2D9A: 77      		ld		(hl), a
2D9B: 23      		inc		hl
2D9C: AF      		xor		a
2D9D: 77      		ld		(hl), a
2D9E: E1      		pop		hl
2D9F: 77      		ld		(hl), a
2DA0: C9      		ret
2DA1: FF      		defb	255
              	
2DA2:         	fp_to_bc:
              		fwait
2DA2: EF      		rst	28h
              		fce
2DA3: 38      		defb	0x38
2DA4: 7E      		ld		a, (hl)					; sam
2DA5: A7      		and		a						;
2DA6: 2805    		jr		z, fpbcint				;
              		fwait							;
2DA8: EF      		rst	28h
              		fstk_5							;
2DA9: A2      		defb	0xa2
              		fadd							;
2DAA: 0F      		defb	0x0f
              		fint							;
2DAB: 27      		defb	0x27
              		fce								;
2DAC: 38      		defb	0x38
              	
2DAD:         	fpbcint:
              		fwait
2DAD: EF      		rst	28h
              		fdel
2DAE: 02      		defb	0x02
              		fce
2DAF: 38      		defb	0x38
2DB0: D5      		push	de
2DB1: E5      		push	hl
2DB2: EB      		ex		de, hl
2DB3: 46      		ld		b, (hl)
2DB4: CD7F2D  		call	fetchi
2DB7: AF      		xor		a
2DB8: 90      		sub		b
2DB9: CB79    		bit		7, c
2DBB: 7B      		ld		a, e
2DBC: 42      		ld		b, d
2DBD: 4F      		ld		c, a
2DBE: E1      		pop		hl
2DBF: D1      		pop		de
2DC0: C9      		ret
              	
2DC1:         	l2dc1:
2DC1: 57      		ld		d, a
2DC2: 17      		rla
2DC3: 9F      		sbc		a, a
2DC4: 5F      		ld		e, a
2DC5: 4F      		ld		c, a
2DC6: AF      		xor		a
2DC7: 47      		ld		b, a
2DC8: CDB62A  		call	l2ab6
              		fwait
2DCB: EF      		rst	28h
              		fstk
2DCC: 34      		defb	0x34
2DCD: EF1A209A		defb	0xef, 0x1a, 0x20, 0x9a, 0x85
2DD1: 85      	
              		fmul
2DD2: 04      		defb	0x04
              		fint
2DD3: 27      		defb	0x27
              		fce
2DD4: 38      		defb	0x38
              	
2DD5:         	fp_to_a:							; zx81
2DD5: CDA22D  		call	fp_to_bc				;
2DD8: D8      		ret		c						;
2DD9: F5      		push	af						;
2DDA: 05      		dec		b						;
2DDB: 04      		inc		b						;
2DDC: 2803    		jr		z, fp_a_end				;
2DDE: F1      		pop		af						;
2DDF: 37      		scf								;
2DE0: C9      		ret								;
              										;
2DE1:         	fp_a_end:							;
2DE1: F1      		pop		af						;
2DE2: C9      		ret								;
              										;
2DE3:         	print_fp:							;
              		fwait							;
2DE3: EF      		rst	28h
              		fmove							;
2DE4: 31      		defb	0x31
              		fcp		.lz						;
2DE5: 36      		defb	0x09 + .lz
              		fjpt	p_neg					;
2DE6: 000C    		defb	0x00, p_neg - $
              		fmove							;
2DE8: 31      		defb	0x31
              		fcp		.gz						;
2DE9: 37      		defb	0x09 + .gz
              		fjpt	p_pos					;
2DEA: 000E    		defb	0x00, p_pos - $
              		fdel							;
2DEC: 02      		defb	0x02
              		fce								;
2DED: 38      		defb	0x38
2DEE: 3E30    		ld		a, '0'					;
2DF0: D7      		rst		print_a					;
2DF1: C9      		ret								;
              										;
2DF2:         	p_neg:								;
              		fabs							;
2DF2: 2A      		defb	0x2a
              		fce								;
2DF3: 38      		defb	0x38
2DF4: 3E2D    		ld		a, '-'					;
2DF6: D7      		rst		print_a					;
              		fwait							;
2DF7: EF      		rst	28h
              	
2DF8:         	p_pos:
              		fstk0
2DF8: A0      		defb	0xa0
              		fst		3
2DF9: C3      		defb	0xc0 + 3
              		fst		4
2DFA: C4      		defb	0xc0 + 4
              		fst		5
2DFB: C5      		defb	0xc0 + 5
              		fdel
2DFC: 02      		defb	0x02
              		fce
2DFD: 38      		defb	0x38
2DFE: D9      		exx
2DFF: E5      		push	hl
2E00: D9      		exx
              	
2E01:         	l2e01:
              		fwait
2E01: EF      		rst	28h
              		fmove
2E02: 31      		defb	0x31
              		fint
2E03: 27      		defb	0x27
              		fst		2
2E04: C2      		defb	0xc0 + 2
              		fsub
2E05: 03      		defb	0x03
              		fgt		2
2E06: E2      		defb	0xe0 + 2
              		fxch
2E07: 01      		defb	0x01
              		fst		2
2E08: C2      		defb	0xc0 + 2
              		fdel
2E09: 02      		defb	0x02
              		fce
2E0A: 38      		defb	0x38
2E0B: 7E      		ld		a, (hl)
2E0C: A7      		and		a
2E0D: 2047    		jr		nz, l2e56
2E0F: CD7F2D  		call	fetchi
2E12: 0610    		ld		b, 16
2E14: 7A      		ld		a, d
2E15: A7      		and		a
2E16: 2006    		jr		nz, l2e1e
2E18: B3      		or		e
2E19: 2809    		jr		z, l2e24 
2E1B: 0608    		ld		b, 8
2E1D: 53      		ld		d, e
              	
2E1E:         	l2e1e:
2E1E: D5      		push	de
2E1F: D9      		exx
2E20: D1      		pop		de
2E21: D9      		exx
2E22: 1857    		jr		l2e7b
              	
2E24:         	l2e24:
              		fwait
2E24: EF      		rst	28h
              		fdel
2E25: 02      		defb	0x02
              		fgt		2
2E26: E2      		defb	0xe0 + 2
              		fce
2E27: 38      		defb	0x38
2E28: 7E      		ld		a, (hl)
2E29: D67E    		sub		126
2E2B: CDC12D  		call	l2dc1
2E2E: 57      		ld		d, a
2E2F: 3AAC5C  		ld		a, (mem_5_1)
2E32: 92      		sub		d
2E33: 32AC5C  		ld		(mem_5_1), a
2E36: 7A      		ld		a, d 
2E37: CD4F2D  		call	e_to_fp
              		fwait
2E3A: EF      		rst	28h
              		fmove
2E3B: 31      		defb	0x31
              		fint
2E3C: 27      		defb	0x27
              		fst		1
2E3D: C1      		defb	0xc0 + 1
              		fsub
2E3E: 03      		defb	0x03
              		fgt		1
2E3F: E1      		defb	0xe0 + 1
              		fce
2E40: 38      		defb	0x38
2E41: CDD52D  		call	fp_to_a
2E44: E5      		push	hl
2E45: 32A15C  		ld		(mem_3), a
2E48: 3D      		dec		a
2E49: 17      		rla
2E4A: 9F      		sbc		a, a
2E4B: 3C      		inc		a
2E4C: 21AB5C  		ld		hl, mem_5
2E4F: 77      		ld		(hl), a
2E50: 23      		inc		hl
2E51: 86      		add		a, (hl)
2E52: 77      		ld		(hl), a
2E53: E1      		pop		hl
2E54: 1879    		jr		l2ecf
              	
2E56:         	l2e56:
2E56: D680    		sub		128
2E58: FE1C    		cp		28
2E5A: 3813    		jr		c, l2e6f
2E5C: CDC12D  		call	l2dc1
2E5F: D607    		sub		7
2E61: 21AC5C  		ld		hl, mem_5_1
2E64: 47      		ld		b, a
2E65: 86      		add		a, (hl)
2E66: 77      		ld		(hl), a
2E67: 78      		ld		a, b 
2E68: ED44    		neg
2E6A: CD4F2D  		call	e_to_fp
2E6D: 1892    		jr		l2e01
              	
2E6F:         	l2e6f:
2E6F: EB      		ex		de, hl
2E70: CDBA2F  		call	fetch_two
2E73: D9      		exx
2E74: 7D      		ld		a, l
2E75: CBFA    		set		7, d
2E77: D9      		exx
2E78: D680    		sub		128
2E7A: 47      		ld		b, a
              	
2E7B:         	l2e7b:
2E7B: CB23    		sla		e
2E7D: CB12    		rl		d
2E7F: D9      		exx
2E80: CB13    		rl		e
2E82: CB12    		rl		d
2E84: D9      		exx
2E85: 21AA5C  		ld		hl, mem_4_4
2E88: 0E05    		ld		c, 5
              	
2E8A:         	l2e8a:
2E8A: 7E      		ld		a, (hl)
2E8B: 8F      		adc		a, a
2E8C: 27      		daa
2E8D: 77      		ld		(hl), a
2E8E: 2B      		dec		hl
2E8F: 0D      		dec		c
2E90: 20F8    		jr		nz, l2e8a
2E92: 10E7    		djnz	l2e7b
2E94: 11A15C  		ld		de, mem_3
2E97: 21A65C  		ld		hl, mem_4
2E9A: 0609    		ld		b, 9
2E9C: AF      		xor		a
2E9D: ED6F    		rld
2E9F: 0EFF    		ld		c, 255
              	
2EA1:         	l2ea1:
2EA1: ED6F    		rld
2EA3: 2004    		jr		nz, l2ea9
2EA5: 0D      		dec		c
2EA6: 0C      		inc		c
2EA7: 200A    		jr		nz, l2eb3
              	
2EA9:         	l2ea9:
2EA9: 12      		ld		(de), a
2EAA: 0E00    		ld		c, 0
2EAC: FD3472  		inc		(iy + _mem_5_1)
2EAF: FD3471  		inc		(iy + _mem_5)
2EB2: 13      		inc		de
              	
2EB3:         	l2eb3:
2EB3: CB40    		bit		0, b
2EB5: 2801    		jr		z, l2eb8
2EB7: 23      		inc		hl
              	
2EB8:         	l2eb8:
2EB8: 10E7    		djnz	l2ea1
2EBA: 3AAB5C  		ld		a, (mem_5)
2EBD: D609    		sub		9
2EBF: 380A    		jr		c, l2ecb
2EC1: FD3571  		dec		(iy + _mem_5)
2EC4: 3E04    		ld		a, 4
2EC6: FDBE6F  		cp		(iy + _mem_4_3)
2EC9: 1841    		jr		l2f0c
              	 
2ECB:         	l2ecb:
              		fwait
2ECB: EF      		rst	28h
              		fdel
2ECC: 02      		defb	0x02
              		fgt		2
2ECD: E2      		defb	0xe0 + 2
              		fce
2ECE: 38      		defb	0x38
              	
2ECF:         	l2ecf:
2ECF: EB      		ex		de, hl
2ED0: CDBA2F  		call	fetch_two
2ED3: D9      		exx
2ED4: 3E80    		ld		a, 128
2ED6: 95      		sub		l
2ED7: CBFA    		set		7, d
2ED9: 2E00    		ld		l, 0
2EDB: D9      		exx
2EDC: CDDD2F  		call	shift_fp
              	
2EDF:         	l2edf:
2EDF: FD7E71  		ld		a, (iy + _mem_5)
2EE2: FE08    		cp		8
2EE4: 3806    		jr		c, l2eec
2EE6: D9      		exx
2EE7: CB12    		rl		d
2EE9: D9      		exx
2EEA: 1820    		jr		l2f0c
              	
2EEC:         	l2eec:
2EEC: 010002  		ld		bc, 0x0200
              	
2EEF:         	l2eef:
2EEF: 7B      		ld		a, e
2EF0: CD8B2F  		call	l2f8b
2EF3: 5F      		ld		e, a
2EF4: 7A      		ld		a, d
2EF5: CD8B2F  		call	l2f8b
2EF8: 57      		ld		d, a
2EF9: C5      		push	bc
2EFA: D9      		exx
2EFB: C1      		pop		bc
2EFC: 10F1    		djnz	l2eef
2EFE: 21A15C  		ld		hl, mem_3
2F01: 79      		ld		a, c
2F02: FD4E71  		ld		c, (iy + _mem_5)
2F05: 09      		add		hl, bc
2F06: 77      		ld		(hl), a
2F07: FD3471  		inc		(iy + _mem_5)
2F0A: 18D3    		jr		l2edf
              	
2F0C:         	l2f0c:
2F0C: F5      		push	af
2F0D: 0600    		ld		b, 0
2F0F: FD4E71  		ld		c, (iy + _mem_5)
2F12: 21A15C  		ld		hl, mem_3
2F15: 09      		add		hl, bc
2F16: 41      		ld		b, c
2F17: F1      		pop		af
              	
2F18:         	l2f18:
2F18: 2B      		dec		hl
2F19: 7E      		ld		a, (hl)
2F1A: CE00    		adc		a, 0
2F1C: 77      		ld		(hl), a
2F1D: A7      		and		a
2F1E: 2805    		jr		z, l2f25
2F20: FE0A    		cp		10
2F22: 3F      		ccf
2F23: 3008    		jr		nc, l2f2d
              	
2F25:         	l2f25:
2F25: 10F1    		djnz	l2f18
2F27: FD3472  		inc		(iy + _mem_5_1)
2F2A: 04      		inc		b
2F2B: 3601    		ld		(hl), 1
              	
2F2D:         	l2f2d:
2F2D: FD7071  		ld		(iy + _mem_5), b
              		fwait
2F30: EF      		rst	28h
              		fdel
2F31: 02      		defb	0x02
              		fce
2F32: 38      		defb	0x38
2F33: D9      		exx
2F34: E1      		pop		hl
2F35: D9      		exx
2F36: ED4BAB5C		ld		bc, (mem_5)
2F3A: 21A15C  		ld		hl, mem_3
2F3D: 78      		ld		a, b
2F3E: FE09    		cp		9
2F40: 3804    		jr		c, l2f46
2F42: FEFC    		cp		252
2F44: 3826    		jr		c, l2f6c
              	
2F46:         	l2f46:
2F46: A7      		and		a
2F47: CCEF15  		call	z, out_code
              	
2F4A:         	l2f4a:
2F4A: AF      		xor		a
2F4B: 90      		sub		b
2F4C: FA522F  		jp		m, l2f52
2F4F: 47      		ld		b, a
2F50: 180C    		jr		l2f5e
              	
2F52:         	l2f52:
2F52: 79      		ld		a, c
2F53: A7      		and		a
2F54: 2803    		jr		z, l2f59
2F56: 7E      		ld		a, (hl)
2F57: 23      		inc		hl
2F58: 0D      		dec		c
              	
2F59:         	l2f59:
2F59: CDEF15  		call	out_code
2F5C: 10F4    		djnz	l2f52
              	
2F5E:         	l2f5e:
2F5E: 79      		ld		a, c
2F5F: A7      		and		a
2F60: C8      		ret		z
2F61: 3E2E    		ld		a, '.'
2F63: 04      		inc		b
              	
2F64:         	l2f64:
2F64: D7      		rst		print_a
2F65: 3E30    		ld		a, '0'
2F67: 10FB    		djnz	l2f64
2F69: 41      		ld		b, c
2F6A: 18E6    		jr		l2f52
              	
2F6C:         	l2f6c:
2F6C: 50      		ld		d, b
2F6D: 0601    		ld		b, 1
2F6F: 15      		dec		d
2F70: CD4A2F  		call	l2f4a
2F73: 3E45    		ld		a, 'E'
2F75: D7      		rst		print_a
2F76: 4A      		ld		c, d
2F77: 7A      		ld		a, d
2F78: A7      		and		a
2F79: F2832F  		jp		p, l2f83
2F7C: ED44    		neg
2F7E: 4F      		ld		c, a
2F7F: 3E2D    		ld		a, '-'
2F81: 1802    		jr		l2f85
              	
2F83:         	l2f83:
2F83: 3E2B    		ld		a, '+'
              	
2F85:         	l2f85:
2F85: D7      		rst		print_a
2F86: 0600    		ld		b, 0
2F88: C31B1A  		jp		out_num
              	
2F8B:         	l2f8b:
2F8B: 2600    		ld		h, 0
2F8D: 6F      		ld		l, a
2F8E: D5      		push	de
2F8F: 54      		ld		d, h
2F90: 5F      		ld		e, a
2F91: 29      		add		hl, hl
2F92: 29      		add		hl, hl
2F93: 19      		add		hl, de
2F94: 29      		add		hl, hl
2F95: 59      		ld		e, c
2F96: 19      		add		hl, de
2F97: D1      		pop		de
2F98: 7D      		ld		a, l
2F99: 4C      		ld		c, h
2F9A: C9      		ret
              	
2F9B:         	prep_add:							; zx81
2F9B: 7E      		ld		a, (hl)					;
2F9C: A7      		and		a						;
2F9D: C8      		ret		z						;
2F9E: 3600    		ld		(hl), 0					; moved
2FA0: 23      		inc		hl						;
2FA1: CB7E    		bit		7, (hl)					;
2FA3: CBFE    		set		7, (hl)					;
2FA5: 2B      		dec		hl						;
2FA6: C8      		ret		z						;
2FA7: C5      		push	bc						;
2FA8: 010500  		ld		bc, 5					;
2FAB: 09      		add		hl, bc					;
2FAC: 41      		ld		b, c					;
2FAD: 4F      		ld		c, a					;
2FAE: 37      		scf								;
              										;
2FAF:         	neg_byte:							;
2FAF: 2B      		dec		hl						;
2FB0: 7E      		ld		a, (hl)					;
2FB1: 2F      		cpl								;
2FB2: CE00    		adc		a, 0					;
2FB4: 77      		ld		(hl), a					;
2FB5: 10F8    		djnz	neg_byte				;
2FB7: 79      		ld		a, c					;
2FB8: C1      		pop		bc						;
2FB9: C9      		ret								;
              										;
2FBA:         	fetch_two:							;
2FBA: E5      		push	hl						;
2FBB: F5      		push	af						;
2FBC: 4E      		ld		c, (hl)					;
2FBD: 23      		inc		hl						;
2FBE: 46      		ld		b, (hl)					;
2FBF: 77      		ld		(hl), a					;
2FC0: 23      		inc		hl						;
2FC1: 79      		ld		a, c					;
2FC2: 4E      		ld		c, (hl)					;
2FC3: C5      		push	bc						;
2FC4: 23      		inc		hl						;
2FC5: 4E      		ld		c, (hl)					;
2FC6: 23      		inc		hl						;
2FC7: 46      		ld		b, (hl)					;
2FC8: EB      		ex		de, hl					;
2FC9: 57      		ld		d, a					;
2FCA: 5E      		ld		e, (hl)					;
2FCB: D5      		push	de						;
2FCC: 23      		inc		hl						;
2FCD: 56      		ld		d, (hl)					;
2FCE: 23      		inc		hl						;
2FCF: 5E      		ld		e, (hl)					;
2FD0: D5      		push	de						;
2FD1: D9      		exx								;
2FD2: D1      		pop		de						;
2FD3: E1      		pop		hl						;
2FD4: C1      		pop		bc						;
2FD5: D9      		exx								;
2FD6: 23      		inc		hl						;
2FD7: 56      		ld		d, (hl)					;
2FD8: 23      		inc		hl						;
2FD9: 5E      		ld		e, (hl)					;
2FDA: F1      		pop		af						;
2FDB: E1      		pop		hl						;
2FDC: C9      		ret								;
              										;
2FDD:         	shift_fp:							;
2FDD: A7      		and		a						;
2FDE: C8      		ret		z						;
2FDF: FE21    		cp		33						;
2FE1: 3016    		jr		nc, addend_0			;
2FE3: C5      		push	bc						;
2FE4: 47      		ld		b, a					;
              										;
2FE5:         	one_shift:							;
2FE5: D9      		exx								;
2FE6: CB2D    		sra		l						;
2FE8: CB1A    		rr		d						;
2FEA: CB1B    		rr		e						;
2FEC: D9      		exx								;
2FED: CB1A    		rr		d						;
2FEF: CB1B    		rr		e						;
2FF1: 10F2    		djnz	one_shift				;
2FF3: C1      		pop		bc						;
2FF4: D0      		ret		nc						;
2FF5: CD0430  		call	add_back				;
2FF8: C0      		ret		nz						;
              										;
2FF9:         	addend_0:							;
2FF9: D9      		exx								;
2FFA: AF      		xor		a						;
              										;
2FFB:         	zeros_4_5:							;
2FFB: 2E00    		ld		l, 0					;
2FFD: 57      		ld		d, a					;
2FFE: 5D      		ld		e, l					;
2FFF: D9      		exx								;
3000: 110000  		ld		de, 0					;
3003: C9      		ret								;
              										;
3004:         	add_back:							;
3004: 1C      		inc		e						;
3005: C0      		ret		nz						;
3006: 14      		inc		d						;
3007: C0      		ret		nz						;
3008: D9      		exx								;
3009: 1C      		inc		e						;
300A: 2001    		jr		nz, all_added			;
300C: 14      		inc		d						;
              										;
300D:         	all_added:							;
300D: D9      		exx								;
300E: C9      		ret								;
              	
300F:         	x80_fsub:							; sam
300F: EB      		ex		de, hl					;
3010: CD5234  		call	x80_fneg				;
3013: EB      		ex		de, hl					;
              										;
3014:         	x80_fadd:							;
3014: 1A      		ld		a, (de)					;
3015: B6      		or		(hl)					;
3016: 2026    		jr		nz, addition			;
3018: D5      		push	de						;
3019: 23      		inc		hl						;
301A: E5      		push	hl						;
301B: 23      		inc		hl						;
301C: 4E      		ld		c, (hl)					;
301D: 23      		inc		hl						;
301E: 46      		ld		b, (hl)					;
301F: 23      		inc		hl						;
3020: 23      		inc		hl						;
3021: 23      		inc		hl						;
3022: 7E      		ld		a, (hl)					;
3023: 23      		inc		hl						;
3024: 5E      		ld		e, (hl)					;
3025: 23      		inc		hl						;
3026: 56      		ld		d, (hl)					;
3027: EB      		ex		de, hl					;
3028: 09      		add		hl, bc					;
3029: EB      		ex		de, hl					;
302A: E1      		pop		hl						;
302B: 8E      		adc		a, (hl)					;
302C: 0F      		rrca							;
302D: CE00    		adc		a, 0					; was b
302F: C32132  		jp		l3221
              	
3032:         	l3032:
3032: 77      		ld		(hl), a
3033: 23      		inc		hl
3034: 73      		ld		(hl), e
3035: 23      		inc		hl
3036: 72      		ld		(hl), d
3037: 2B      		dec		hl
3038: 2B      		dec		hl
3039: 2B      		dec		hl
303A: D1      		pop		de
303B: C9      		ret
              	
303C:         	l303c:
303C: 2B      		dec		hl
303D: D1      		pop		de
              	
303E:         	addition:
303E: CD9332  		call	l3293
3041: D9      		exx								; zx81
3042: E5      		push	hl						;
3043: D9      		exx								;
3044: D5      		push	de						;
3045: E5      		push	hl						;
3046: CD9B2F  		call	prep_add				;
3049: 47      		ld		b, a					;
304A: EB      		ex		de, hl					;
304B: CD9B2F  		call	prep_add				;
304E: 4F      		ld		c, a					;
304F: B8      		cp		b						;
3050: 3003    		jr		nc, shift_len			;
3052: 78      		ld		a, b					;
3053: 41      		ld		b, c					;
3054: EB      		ex		de, hl					;
              										;
3055:         	shift_len:							;
3055: F5      		push	af						;
3056: 90      		sub		b						;
3057: CDBA2F  		call	fetch_two				;
305A: CDDD2F  		call	shift_fp				;
305D: F1      		pop		af						;
305E: E1      		pop		hl						;
305F: 77      		ld		(hl), a					;
3060: E5      		push	hl						;
3061: 68      		ld		l, b					;
3062: 61      		ld		h, c					;
3063: 19      		add		hl, de					;
3064: D9      		exx								;
3065: EB      		ex		de, hl					;
3066: ED4A    		adc		hl, bc					;
3068: EB      		ex		de, hl					;
3069: 7C      		ld		a, h					;
306A: 8D      		adc		a, l					;
306B: 6F      		ld		l, a					;
306C: 1F      		rra								;
306D: AD      		xor		l						;
306E: D9      		exx								;
306F: EB      		ex		de, hl					;
3070: E1      		pop		hl						;
3071: 1F      		rra								;
3072: 3008    		jr		nc, test_neg			;
3074: 3E01    		ld		a, 1					;
3076: CDDD2F  		call	shift_fp				;
3079: 34      		inc		(hl)					;
307A: 2823    		jr		z, add_rep_6			;
              										;
307C:         	test_neg:							;
307C: D9      		exx								;
307D: 7D      		ld		a, l					;
307E: E680    		and		%10000000				;
3080: D9      		exx								;
3081: 23      		inc		hl						;
3082: 77      		ld		(hl), a					;
3083: 2B      		dec		hl						;
3084: 281F    		jr		z, go_nc_mlt			;
3086: 7B      		ld		a, e					;
3087: ED44    		neg								;
3089: 3F      		ccf								;
308A: 5F      		ld		e, a					;
308B: 7A      		ld		a, d					;
308C: 2F      		cpl								;
308D: CE00    		adc		a, 0					;
308F: 57      		ld		d, a					;
3090: D9      		exx								;
3091: 7B      		ld		a, e					;
3092: 2F      		cpl								;
3093: CE00    		adc		a, 0					;
3095: 5F      		ld		e, a					;
3096: 7A      		ld		a, d					;
3097: 2F      		cpl								;
3098: CE00    		adc		a, 0					;
309A: 3007    		jr		nc, end_compl			;
309C: 1F      		rra								;
309D: D9      		exx								;
309E: 34      		inc		(hl)					;
              										;
309F:         	add_rep_6:							;
309F: CAAD31  		jp		z, report_6				;
30A2: D9      		exx								;
              										;
30A3:         	end_compl:							;
30A3: 57      		ld		d, a					;
30A4: D9      		exx								;
              										;
30A5:         	go_nc_mlt:							;
30A5: AF      		xor		a						;
30A6: C35531  		jp		test_norm				;
              										;
30A9:         	l30a9:								;
30A9: C5      		push	bc						;
30AA: 0610    		ld		b, 16					;
30AC: 7C      		ld		a, h					;
30AD: 4D      		ld		c, l					;
30AE: 210000  		ld		hl, 0					;
              										;
30B1:         	hl_loop:							;
30B1: 29      		add		hl, hl					;
30B2: 380A    		jr		c, hl_over				;
30B4: CB11    		rl		c						;
30B6: 17      		rla								;
30B7: 3003    		jr		nc, hl_again			;
30B9: 19      		add		hl, de					;
30BA: 3802    		jr		c, hl_over
              	
30BC:         	hl_again:							; zx81
30BC: 10F3    		djnz	hl_loop					;
              										;
30BE:         	hl_over:							;
30BE: C1      		pop		bc						;
30BF: C9      		ret								;
              	
30C0:         	prep_m_d:
30C0: CDC534  		call	tstzero
30C3: D8      		ret		c
30C4: 23      		inc		hl						; zx81
30C5: AE      		xor		(hl)					;
30C6: CBFE    		set		7, (hl)					;
30C8: 2B      		dec		hl						;
30C9: C9      		ret								;
              	
30CA:         	x80_fmul:							; sam
30CA: 1A      		ld		a, (de)					;
30CB: B6      		or		(hl)					;
30CC: 2022    		jr		nz, multiply			;
30CE: D5      		push	de						;
30CF: E5      		push	hl						;
30D0: D5      		push	de
30D1: CD7F2D  		call	fetchi
30D4: EB      		ex		de, hl
30D5: E3      		ex		(sp), hl
30D6: 41      		ld		b, c					; sam
30D7: CD7F2D  		call	fetchi					;
30DA: 79      		ld		a, c					;
30DB: A8      		xor		b						;
30DC: 4F      		ld		c, a					;
30DD: E1      		pop		hl
30DE: CDA930  		call	l30a9
30E1: D1      		pop		de						; sam
30E2: EB      		ex		de, hl					;
30E3: 380A    		jr		c, qmult				;
30E5: 7B      		ld		a, e
30E6: B2      		or		d
30E7: 2001    		jr		nz, l30ea
30E9: 4F      		ld		c, a
              	
30EA:         	l30ea:
30EA: CD8E2D  		call	l2d8e
30ED: D1      		pop		de
30EE: C9      		ret
              	
30EF:         	qmult:
30EF: D1      		pop		de
              	
30F0:         	multiply:
30F0: CD9332  		call	l3293
30F3: AF      		xor		a						; zx81
30F4: CDC030  		call	prep_m_d				;
30F7: D8      		ret		c						;
30F8: D9      		exx								;
30F9: E5      		push	hl						;
30FA: D9      		exx								;
30FB: D5      		push	de						;
30FC: EB      		ex		de, hl					;
30FD: CDC030  		call	prep_m_d				;
3100: EB      		ex		de, hl					;
3101: 385A    		jr		c, zero_rslt			;
3103: E5      		push	hl						;
3104: CDBA2F  		call	fetch_two				;
3107: 78      		ld		a, b					;
3108: A7      		and		a						;
3109: ED62    		sbc		hl, hl					;
310B: D9      		exx								;
310C: E5      		push	hl						;
310D: ED62    		sbc		hl, hl					;
310F: D9      		exx								;
3110: 0621    		ld		b, 33					;
3112: 1811    		jr		strt_mlt				;
              										;
3114:         	mlt_loop:							;
3114: 3005    		jr		nc, no_add				;
3116: 19      		add		hl, de					;
3117: D9      		exx								;
3118: ED5A    		adc		hl, de					;
311A: D9      		exx								;
              										;
311B:         	no_add:								;
311B: D9      		exx								;
311C: CB1C    		rr		h						;
311E: CB1D    		rr		l						;
3120: D9      		exx								;
3121: CB1C    		rr		h						;
3123: CB1D    		rr		l						;
              										;
3125:         	strt_mlt:							;
3125: D9      		exx								;
3126: CB18    		rr		b						;
3128: CB19    		rr		c						;
312A: D9      		exx								;
312B: CB19    		rr		c						;
312D: 1F      		rra								;
312E: 10E4    		djnz	mlt_loop				;
3130: EB      		ex		de, hl					;
3131: D9      		exx								;
3132: EB      		ex		de, hl					;
3133: D9      		exx								;
3134: C1      		pop		bc						;
3135: E1      		pop		hl						;
3136: 78      		ld		a, b					;
3137: 81      		add		a, c					;
3138: 2001    		jr		nz, make_expt			;
313A: A7      		and		a						;
              										;
313B:         	make_expt:							;
313B: 3D      		dec		a						;
313C: 3F      		ccf								;
              										;
313D:         	divn_expt:							;
313D: 17      		rla								;
313E: 3F      		ccf								;
313F: 1F      		rra								;
3140: F24631  		jp		p, oflw1_clr			;
3143: 3068    		jr		nc, report_6			;
3145: A7      		and		a						;
              										;
3146:         	oflw1_clr:							;
3146: 3C      		inc		a						;
3147: 2008    		jr		nz, oflw2_clr			;
3149: 3806    		jr		c, oflw2_clr			;
314B: D9      		exx								;
314C: CB7A    		bit		7, d					;
314E: D9      		exx								;
314F: 205C    		jr		nz, report_6			;
              										;
3151:         	oflw2_clr:							;
3151: 77      		ld		(hl), a					;
3152: D9      		exx								;
3153: 78      		ld		a, b					;
3154: D9      		exx								;
              										;
3155:         	test_norm:							;
3155: 3015    		jr		nc, normalize			;
3157: 7E      		ld		a, (hl)					;
3158: A7      		and		a						;
              										;
3159:         	near_zero:							;
3159: 3E80    		ld		a, 128					;
315B: 2801    		jr		z, skip_zero			;
              										;
315D:         	zero_rslt:							;
315D: AF      		xor		a						;
              										;
315E:         	skip_zero:							;
315E: D9      		exx								;
315F: A2      		and		d						;
3160: CDFB2F  		call	zeros_4_5				;
3163: 07      		rlca							;
3164: 77      		ld		(hl), a					;
3165: 382E    		jr		c, oflow_clr			;
3167: 23      		inc		hl						;
3168: 77      		ld		(hl), a					;
3169: 2B      		dec		hl						;
316A: 1829    		jr		oflow_clr				;
              										;
316C:         	normalize:							;
316C: 0620    		ld		b, 32					;
              										;
316E:         	shift_one:							;
316E: D9      		exx								;
316F: CB7A    		bit		7, d					;
3171: D9      		exx								;
3172: 2012    		jr		nz, norml_now			;
3174: 07      		rlca							;
3175: CB13    		rl		e						;
3177: CB12    		rl		d						;
3179: D9      		exx								;
317A: CB13    		rl		e						;
317C: CB12    		rl		d						;
317E: D9      		exx								;
317F: 35      		dec		(hl)					;
3180: 28D7    		jr		z, near_zero			;
3182: 10EA    		djnz	shift_one				;
3184: 18D7    		jr		zero_rslt				;
              										;
3186:         	norml_now:							;
3186: 17      		rla								;
3187: 300C    		jr		nc, oflow_clr			;
3189: CD0430  		call	add_back				;
318C: 2007    		jr		nz, oflow_clr			;
318E: D9      		exx								;
318F: 1680    		ld		d, 128					;
3191: D9      		exx								;
3192: 34      		inc		(hl)					;
3193: 2818    		jr		z, report_6				;
              										;
3195:         	oflow_clr:							;
3195: E5      		push	hl						;
3196: 23      		inc		hl						;
3197: D9      		exx								;
3198: D5      		push	de						;
3199: D9      		exx								;
319A: C1      		pop		bc						;
319B: 78      		ld		a, b					;
319C: 17      		rla								;
319D: CB16    		rl		(hl)					;
319F: 1F      		rra								;
31A0: 77      		ld		(hl), a					;
31A1: 23      		inc		hl						;
31A2: 71      		ld		(hl), c					;
31A3: 23      		inc		hl						;
31A4: 72      		ld		(hl), d					;
31A5: 23      		inc		hl						;
31A6: 73      		ld		(hl), e					;
31A7: E1      		pop		hl						;
31A8: D1      		pop		de						;
31A9: D9      		exx								;
31AA: E1      		pop		hl						;
31AB: D9      		exx								;
31AC: C9      		ret								;
              	
31AD:         	report_6:							; zx81
31AD: CF      		rst		error_1					;
31AE: 05      		defb	Number_too_large		;
              	
31AF:         	x80_fdiv:
31AF: CD9332  		call	l3293
31B2: EB      		ex		de, hl					; zx81
31B3: AF      		xor		a						;
31B4: CDC030  		call	prep_m_d				;
31B7: 38F4    		jr		c, report_6				;
31B9: EB      		ex		de, hl					;
31BA: CDC030  		call	prep_m_d				;
31BD: D8      		ret		c						;
31BE: D9      		exx								;
31BF: E5      		push	hl						;
31C0: D9      		exx								;
31C1: D5      		push	de						;
31C2: E5      		push	hl						;
31C3: CDBA2F  		call	fetch_two				;
31C6: D9      		exx								;
31C7: E5      		push	hl						;
31C8: 60      		ld		h, b					;
31C9: 69      		ld		l, c					;
31CA: D9      		exx								;
31CB: 61      		ld		h, c					;
31CC: 68      		ld		l, b					;
31CD: AF      		xor		a						;
31CE: 06DF    		ld		b, 0xdf					;
31D0: 1810    		jr		div_start				;
              										;
31D2:         	div_loop:							;
31D2: 17      		rla								;
31D3: CB11    		rl		c						;
31D5: D9      		exx								;
31D6: CB11    		rl		c						;
31D8: CB10    		rl		b						;
31DA: D9      		exx								;
              										;
31DB:         	l31db:								;
31DB: 29      		add		hl, hl					;
31DC: D9      		exx								;
31DD: ED6A    		adc		hl, hl					;
31DF: D9      		exx								;
31E0: 3810    		jr		c, subn_only			;
              										;
31E2:         	div_start:							;
31E2: ED52    		sbc		hl, de					;
31E4: D9      		exx								;
31E5: ED52    		sbc		hl, de					;
31E7: D9      		exx								;
31E8: 300F    		jr		nc, no_rstore			;
31EA: 19      		add		hl, de					;
31EB: D9      		exx								;
31EC: ED5A    		adc		hl, de					;
31EE: D9      		exx								;
31EF: A7      		and		a						;
31F0: 1808    		jr		count_one				;
              										;
31F2:         	subn_only:							;
31F2: A7      		and		a						;
31F3: ED52    		sbc		hl, de					;
31F5: D9      		exx								;
31F6: ED52    		sbc		hl, de					;
31F8: D9      		exx								;
              										;
31F9:         	no_rstore:							;
31F9: 37      		scf								;
              										;
31FA:         	count_one:							;
31FA: 04      		inc		b						;
31FB: FAD231  		jp		m, div_loop				;
31FE: F5      		push	af						;
31FF: 28E1    		jr		z, div_start			;
3201: 5F      		ld		e, a					;
3202: 51      		ld		d, c					;
3203: D9      		exx								;
3204: 59      		ld		e, c					;
3205: 50      		ld		d, b					;
3206: F1      		pop		af						;
3207: CB18    		rr		b						;
3209: F1      		pop		af						;
320A: CB18    		rr		b						;
320C: D9      		exx								;
320D: C1      		pop		bc						;
320E: E1      		pop		hl						;
320F: 78      		ld		a, b					;
3210: 91      		sub		c						;
3211: C33D31  		jp		divn_expt				;
              										;
3214:         	x80_ftrn:							;
3214: 7E      		ld		a, (hl)					;
3215: A7      		and		a
3216: C8      		ret		z
3217: FE81    		cp		129						; zx81
3219: 3022    		jr		nc, fptrunct			; was x_large
321B: 3600    		ld		(hl), 0					;
321D: 3E20    		ld		a, 32					;
321F: 1851    		jr		nil_bytes				;
              	
3221:         	l3221:								; se
3221: C23C30  		jp		nz, l303c				;
3224: 9F      		sbc		a, a					;
3225: 4F      		ld		c, a					;
3226: 3C      		inc		a						;
3227: B3      		or		e						;
3228: B2      		or		d						;
3229: 79      		ld		a, c					;
322A: 2006    		jr		nz, l3232				;
322C: 2B      		dec		hl						;
322D: 3691    		ld		(hl), 145				;
322F: 23      		inc		hl						;
3230: E680    		and		%10000000				;
              										;
3232:         	l3232:								;
3232: C33230  		jp		l3032					;
              										;
3235:         	l3235:								;
3235: 80536372		defb	0x80, 'Scroll', '?' + 0x80
3239: 6F6C6CBF	
              	
323D:         	fptrunct:							; sam
323D: FE91    		cp		145						;
323F: 302C    		jr		nc, x_large				;
3241: D5      		push	de						;
3242: 2F      		cpl
3243: C691    		add		a, 145
3245: 23      		inc		hl						; sam
3246: 56      		ld		d, (hl)					;
3247: 23      		inc		hl						;
3248: 5E      		ld		e, (hl)					;
3249: 2B      		dec		hl						;
324A: 2B      		dec		hl						;
324B: 0EFF    		ld		c, 0xff					;
324D: CB7A    		bit		7, d					;
324F: 2001    		jr		nz, trunct2				;
3251: 0C      		inc		c						;
              	
3252:         	trunct2:
3252: CBFA    		set		7, d
3254: 0608    		ld		b, 08
3256: 90      		sub		b						; sam
3257: 80      		add		a, b					;
3258: 3804    		jr		c, trunct3				;
325A: 5A      		ld		e, d					;
325B: 1600    		ld		d, 0					;
325D: 90      		sub		b						;
              										;
325E:         	trunct3:							;
325E: 2807    		jr		z, trunct5				;
3260: 47      		ld		b, a					;
              										;
3261:         	trunct4:							;
3261: CB3A    		srl		d						;
3263: CB1B    		rr		e						;
3265: 10FA    		djnz	trunct4					;
              	
3267:         	trunct5:
3267: CD8E2D  		call	l2d8e
326A: D1      		pop		de
326B: C9      		ret
326C: FF      		defb	0xff					; se
              	
326D:         	x_large:							; zx81
326D: D6A0    		sub		160						;
326F: F0      		ret		p						;
3270: ED44    		neg								;
              										;
3272:         	nil_bytes:							;
3272: D5      		push	de						;
3273: EB      		ex		de, hl					;
3274: 2B      		dec		hl						;
3275: 47      		ld		b, a					;
3276: CB38    		srl		b						;
3278: CB38    		srl		b						;
327A: CB38    		srl		b						;
327C: 2805    		jr		z, bits_zero			;
              										;
327E:         	byte_zero:							;
327E: 3600    		ld		(hl), 0					;
3280: 2B      		dec		hl						;
3281: 10FB    		djnz	byte_zero				;
              										;
3283:         	bits_zero:							;
3283: E607    		and		%00000111				;
3285: 2809    		jr		z, ix_end				;
3287: 47      		ld		b, a					;
3288: 3EFF    		ld		a, 255					;
              										;
328A:         	less_mask:							;
328A: CB27    		sla		a						;
328C: 10FC    		djnz	less_mask				;
328E: A6      		and		(hl)					;
328F: 77      		ld		(hl), a					;
              										;
3290:         	ix_end:								;
3290: EB      		ex		de, hl					;
3291: D1      		pop		de						;
3292: C9      		ret								;
              	
3293:         	l3293:
3293: CD9632  		call	l3296
              	
3296:         	l3296:
3296: EB      		ex		de, hl
              	
3297:         	x80_frstk:
3297: 7E      		ld		a, (hl)
3298: A7      		and		a
3299: C0      		ret		nz
329A: D5      		push	de
329B: CD7F2D  		call	fetchi
329E: AF      		xor		a
329F: 23      		inc		hl
32A0: 77      		ld		(hl), a
32A1: 2B      		dec		hl
32A2: 77      		ld		(hl), a
32A3: 0691    		ld		b, 145
32A5: 7A      		ld		a, d
32A6: A7      		and		a
32A7: 2008    		jr		nz, l32b1
32A9: 42      		ld		b, d
32AA: B3      		or		e
32AB: 2810    		jr		z, l32bd
32AD: 53      		ld		d, e
32AE: 58      		ld		e, b
32AF: 0689    		ld		b, 137
              	
32B1:         	l32b1:
32B1: EB      		ex		de, hl
              	
32B2:         	l32b2:
32B2: 05      		dec		b
32B3: 29      		add		hl, hl
32B4: 30FC    		jr		nc, l32b2
32B6: CB09    		rrc		c
32B8: CB1C    		rr		h
32BA: CB1D    		rr		l
32BC: EB      		ex		de, hl
              	
32BD:         	l32bd:
32BD: 2B      		dec		hl
32BE: 73      		ld		(hl), e
32BF: 2B      		dec		hl
32C0: 72      		ld		(hl), d
32C1: 2B      		dec		hl
32C2: 70      		ld		(hl), b
32C3: D1      		pop		de
32C4: C9      		ret
              	
32C5:         	constants:							; se
32C5: 00000000		defb	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01 
32C9: 00000001	
32CD: 00008000		defb	0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x81 
32D1: 00000081	
32D5: 490FDAA2		defb	0x49, 0x0f, 0xda, 0xa2, 0x00, 0x00, 0x0a, 0x00 
32D9: 00000A00	
32DD: 00      		defb	0x00					;
              	
32DE:         	addresses:							; zx81
32DE: 6436    		defw	x80_fjpt				;
32E0: 2134    		defw	x80_fxch				;
32E2: A533    		defw	x80_fdel				;
32E4: 0F30    		defw	x80_fsub				;
32E6: CA30    		defw	x80_fmul				;
32E8: AF31    		defw	x80_fdiv				;
32EA: 4638    		defw	x80_ftop				;
32EC: F734    		defw	x80_fbor				;
32EE: 0035    		defw	x80_fband				;
32F0: 1735    		defw	x80_fcp					;
32F2: 1735    		defw	x80_fcp					;
32F4: 1735    		defw	x80_fcp					;
32F6: 1735    		defw	x80_fcp					;
32F8: 1735    		defw	x80_fcp					;
32FA: 1735    		defw	x80_fcp					;
32FC: 1430    		defw	x80_fadd				;
32FE: 0935    		defw	x80_fbands				;
3300: 1735    		defw	x80_fcp					;
3302: 1735    		defw	x80_fcp					;
3304: 1735    		defw	x80_fcp					;
3306: 1735    		defw	x80_fcp					;
3308: 1735    		defw	x80_fcp					;
330A: 1735    		defw	x80_fcp					;
330C: 7435    		defw	x80_fcat				;
330E: B135    		defw	x80_fval				; sam
3310: 9C34    		defw	x80_fusrs				;
3312: 1C36    		defw	x80_fread				;
3314: 5234    		defw	x80_fneg				; zx81
3316: 3E36    		defw	x80_fasc				;
3318: B135    		defw	x80_fval				;
331A: 4936    		defw	x80_flen				;
331C: 8637    		defw	x80_fsin				;
331E: 7B37    		defw	x80_fcos				;
3320: F50D    		defw	x80_ftan				;
3322: FC37    		defw	x80_fasin				;
3324: 0C38    		defw	x80_facos				;
3326: AB37    		defw	x80_fatan				;
3328: E736    		defw	x80_flogn				;
332A: 9936    		defw	x80_fexp				;
332C: 8436    		defw	x80_fint				;
332E: 1338    		defw	x80_fsqrt				;
3330: 7234    		defw	x80_fsgn				;
3332: 4E34    		defw	x80_fabs				;
3334: 8C34    		defw	x80_fpeek				;
3336: 8534    		defw	x80_fin					; sam
3338: 9334    		defw	x80_fusr				; zx81
333A: EF35    		defw	x80_fstrs				;
333C: A235    		defw	x80_fchrs				;
333E: DD34    		defw	x80_fnot				;
3340: C433    		defw	x80_fmove				;
3342: 7536    		defw	x80_fmod				;
3344: 5B36    		defw	x80_fjp					;
3346: CA33    		defw	x80_fstk				;
3348: 4F36    		defw	x80_fdjnz				;
334A: E234    		defw	x80_fcp_lz				;
334C: D534    		defw	x80_fcp_gz				;
334E: 7036    		defw	x80_fce					;
3350: 5537    		defw	x80_fget				;
3352: 1432    		defw	x80_ftrn				;
3354: A633    		defw	x80_fsgl				;
3356: 6338    		defw	x80_fhexs				; sam
3358: 9732    		defw	x80_frstk				; zx81
335A: 2D34    		defw	x80_fsgen				;
335C: 0C34    		defw	x80_fstkc				;
335E: 1134    		defw	x80_fst					;
3360: 0034    		defw	x80_fgt					;
              	
3362:         	calculate:							; zx81
3362: CD9735  		call	stk_pntrs				;
              										;
3365:         	gen_ent_1:							;
3365: 78      		ld		a, b					;
3366: 32675C  		ld		(breg),a				;
              										;
3369:         	gen_ent_2:							;
3369: D9      		exx								;
336A: E3      		ex		(sp), hl				;
336B: D9      		exx								;
              										;
336C:         	re_entry:							;
336C: ED53655C		ld		(stkend), de			;
3370: D9      		exx								;
3371: 7E      		ld		a, (hl)					;
3372: 23      		inc		hl						;
              										;
3373:         	scan_ent:							;
3373: E5      		push	hl						;
3374: A7      		and		a						;
3375: F28733  		jp		p, first_38				;
3378: 57      		ld		d, a					;
3379: E660    		and		%01100000				;
337B: 0F      		rrca							;
337C: 0F      		rrca							;
337D: 0F      		rrca							;
337E: 0F      		rrca							;
337F: C67C    		add		a, 124					;
3381: 6F      		ld		l, a					;
3382: 7A      		ld		a, d					;
3383: E61F    		and		%00011111				;
3385: 180B    		jr		ent_table				;
              										;
3387:         	first_38:							;
3387: FE18    		cp		24						;
3389: 3005    		jr		nc, double_a			;
338B: D9      		exx								;
338C: CD9A35  		call	l359a
338F: D9      		exx
              	
3390:         	double_a:							; zx81
3390: 07      		rlca							;
3391: 6F      		ld		l, a					;
              										;
3392:         	ent_table:							;
3392: 11DE32  		ld		de, addresses			;
3395: 2600    		ld		h, 0					;
3397: 19      		add		hl, de					;
3398: 5E      		ld		e, (hl)					;
3399: 23      		inc		hl						;
339A: 56      		ld		d, (hl)					;
339B: 216C33  		ld		hl, re_entry			;
339E: E3      		ex		(sp), hl				;
339F: D5      		push	de						;
33A0: D9      		exx								;
33A1: ED4B665C		ld		bc, (stkend_h)			;
              										;
33A5:         	x80_fdel:							;
33A5: C9      		ret								;
              										;
33A6:         	x80_fsgl:							;
33A6: F1      		pop		af						;
33A7: 3A675C  		ld		a, (breg)				;
33AA: D9      		exx								;
33AB: 18C6    		jr		scan_ent				;
              										;
33AD:         	test_5_sp:							;
33AD: D5      		push	de						;
33AE: E5      		push	hl						;
33AF: 010500  		ld		bc, 5					;
33B2: CD051F  		call	test_room				;
33B5: E1      		pop		hl						;
33B6: D1      		pop		de						;
33B7: C9      		ret								;
              										;
33B8:         	l33b8:								;
33B8: ED5B655C		ld		de, (stkend)			;
33BC: CDC433  		call	x80_fmove				;
33BF: ED53655C		ld		(stkend), de			;
33C3: C9      		ret								;
              										;
33C4:         	x80_fmove:							;
33C4: CDAD33  		call	test_5_sp				;
33C7: EDB0    		ldir							;
33C9: C9      		ret								;
              										;
33CA:         	x80_fstk:							;
33CA: 62      		ld		h, d					;
33CB: 6B      		ld		l, e					;
              										;
33CC:         	stk_const:							;
33CC: CDAD33  		call	test_5_sp				;
33CF: D9      		exx								;
33D0: E5      		push	hl						;
33D1: D9      		exx								;
33D2: E3      		ex		(sp), hl				;
33D3: 7E      		ld		a, (hl)					;
33D4: E6C0    		and		%11000000				;
33D6: 07      		rlca							;
33D7: 07      		rlca							;
33D8: 4F      		ld		c, a					;
33D9: 0C      		inc		c						;
33DA: 7E      		ld		a, (hl)					;
33DB: E63F    		and		%00111111				;
33DD: 2002    		jr		nz, form_exp			;
33DF: 23      		inc		hl						;
33E0: 7E      		ld		a, (hl)					;
              										;
33E1:         	form_exp:							;
33E1: C650    		add		a, 80					;
33E3: 12      		ld		(de), a					;
33E4: 3E05    		ld		a, 5					;
33E6: 91      		sub		c						;
33E7: 23      		inc		hl						;
33E8: 13      		inc		de						;
33E9: EDB0    		ldir							;
33EB: E3      		ex		(sp), hl				;
33EC: D9      		exx								;
33ED: E1      		pop		hl						;
33EE: D9      		exx								;
33EF: 47      		ld		b, a					;
33F0: AF      		xor		a						;
              										;
33F1:         	stk_zeros:							;
33F1: 05      		dec		b						;
33F2: C8      		ret		z						;
33F3: 12      		ld		(de), a					;
33F4: 13      		inc		de						;
33F5: 18FA    		jr		stk_zeros				;
              										;
33F7:         	loc_mem:							;
33F7: 4F      		ld		c, a					;
33F8: 07      		rlca							;
33F9: 07      		rlca							;
33FA: 81      		add		a, c					;
33FB: 4F      		ld		c, a					;
33FC: 0600    		ld		b, 0					;
33FE: 09      		add		hl, bc					;
33FF: C9      		ret								;
              										;
3400:         	x80_fgt:							;
3400: 2A685C  		ld		hl, (mem)				; /|\
              										;  |
3403:         	l3403:								;  |
3403: D5      		push	de						; \|/
3404: CDF733  		call	loc_mem					;
3407: CDC433  		call	x80_fmove				;
340A: E1      		pop		hl						;
340B: C9      		ret								;
              	
340C:         	x80_fstkc:							; se
340C: 21C532  		ld		hl, constants			;
340F: 18F2    		jr		l3403					;
              	
3411:         	x80_fst:							; zx81
3411: E5      		push	hl						;
3412: EB      		ex		de, hl					;
3413: 2A685C  		ld		hl, (mem)				;
3416: CDF733  		call	loc_mem					;
3419: EB      		ex		de, hl					;
341A: 0E05    		ld		c, 5
341C: EDB0    		ldir
341E: EB      		ex		de, hl					; zx81
341F: E1      		pop		hl						;
3420: C9      		ret								;
              										;
3421:         	x80_fxch:							;
3421: 0605    		ld		b, 5					;
              										;
3423:         	swap_byte:							;
3423: 1A      		ld		a, (de)					;
3424: 4F      		ld		c, a						
3425: 7E      		ld		a, (hl)
3426: 12      		ld		(de), a					; zx81
3427: 71      		ld		(hl), c					;
3428: 23      		inc		hl						;
3429: 13      		inc		de						;
342A: 10F7    		djnz	swap_byte				;
342C: C9      		ret								;
              										;
342D:         	x80_fsgen:							;
342D: 47      		ld		b, a					;
342E: CD6533  		call	gen_ent_1				;
              		fmove							;
3431: 31      		defb	0x31
              		fadd							;
3432: 0F      		defb	0x0f
              		fst		0						;
3433: C0      		defb	0xc0 + 0
              		fdel							;
3434: 02      		defb	0x02
              		fstk0							;
3435: A0      		defb	0xa0
              		fst		2						;
3436: C2      		defb	0xc0 + 2
              										;
3437:         	g_loop:								;
              		fmove							;
3437: 31      		defb	0x31
              		fgt		0						;
3438: E0      		defb	0xe0 + 0
              		fmul							;
3439: 04      		defb	0x04
              		fgt		2						;
343A: E2      		defb	0xe0 + 2
              		fst		1						;
343B: C1      		defb	0xc0 + 1
              		fsub							;
343C: 03      		defb	0x03
              		fce								;
343D: 38      		defb	0x38
343E: CDCA33  		call	x80_fstk				;
3441: CD6933  		call	gen_ent_2				;
              		fadd							;
3444: 0F      		defb	0x0f
              		fxch							;
3445: 01      		defb	0x01
              		fst		2						;
3446: C2      		defb	0xc0 + 2
              		fdel							;
3447: 02      		defb	0x02
              		fdjnz	g_loop					;
3448: 35EF    		defb	0x35, g_loop - $
              		fgt		1						;
344A: E1      		defb	0xe0 + 1
              		fsub							;
344B: 03      		defb	0x03
              		fce								;
344C: 38      		defb	0x38
344D: C9      		ret								;
              	
344E:         	x80_fabs:
344E: 06FF    		ld		b, 0xff
3450: 1806    		jr		negate
              	
3452:         	x80_fneg:
3452: CDC534  		call	tstzero
3455: D8      		ret		c
3456: 0600    		ld		b, 0
              	
3458:         	negate:								; zx81
3458: 7E      		ld		a, (hl)					;
3459: A7      		and		a						;
345A: 280B    		jr		z, l3468
345C: 23      		inc		hl
345D: 78      		ld		a, b
345E: E680    		and		%10000000
3460: B6      		or		(hl)
3461: 17      		rla
3462: 3F      		ccf
3463: 1F      		rra
3464: 77      		ld		(hl), a					; zx81
3465: 2B      		dec		hl						;
3466: C9      		ret								;
              	
3467:         	l3468:
3467: D5      		push	de
3468: E5      		push	hl
3469: CD7F2D  		call	fetchi
346C: E1      		pop		hl
346D: 79      		ld		a, c
346E: B0      		or		b
346F: 2F      		cpl
3470: 180D    		jr		l347f
              	
3472:         	x80_fsgn:							; sam
3472: CDC534  		call	tstzero					;
3475: D8      		ret		c
3476: D5      		push	de
3477: 110100  		ld		de, 1
347A: 23      		inc		hl
347B: CB16    		rl		(hl)
347D: 2B      		dec		hl						; sam
347E: 9F      		sbc		a, a					;
              										;
347F:         	l347f:								;
347F: 4F      		ld		c, a
3480: CD8E2D  		call	l2d8e
3483: D1      		pop		de
3484: C9      		ret
              	
3485:         	x80_fin:							;sam
3485: CD991E  		call	find_int				;
3488: ED78    		in		a, (c)					;
348A: 1804    		jr		stacka					;
              	
348C:         	x80_fpeek:							; zx81
348C: CD991E  		call	find_int				;
348F: 0A      		ld		a, (bc)					;
              										;
3490:         	stacka:								;
3490: C3282D  		jp		stack_a					;
              										;
3493:         	x80_fusr:							;
3493: CD991E  		call	find_int				;
3496: 212B2D  		ld		hl, stack_bc			;
3499: E5      		push	hl						;
349A: C5      		push	bc						;
349B: C9      		ret								;
              	
349C:         	x80_fusrs:
349C: CDF12B  		call	stk_fetch
349F: 0B      		dec		bc
34A0: 79      		ld		a, c
34A1: B0      		or		b
34A2: 201F    		jr		nz, invarg
34A4: 1A      		ld		a, (de)
34A5: CD8D2C  		call	alpha
34A8: 3805    		jr		c, l34af
34AA: D690    		sub		144
34AC: 3815    		jr		c, invarg
34AE: 3C      		inc		a
              	
34AF:         	l34af:
34AF: 3D      		dec		a
34B0: 87      		add		a, a
34B1: 87      		add		a, a
34B2: 87      		add		a, a
34B3: FEA8    		cp		0xa8
34B5: 300C    		jr		nc, invarg
34B7: ED4B7B5C		ld		bc, (udg)
34BB: 81      		add		a, c
34BC: 4F      		ld		c, a
34BD: 3001    		jr		nc, l34c0
34BF: 04      		inc		b
              	
34C0:         	l34c0:
34C0: C32F2D  		jp		stack_bc1
              	
34C3:         	invarg:								; sam
34C3: CF      		rst		error_1					;
34C4: 09      		defb	Bad_argument			;
              	
34C5:         	tstzero:
34C5: C5      		push	bc
34C6: E5      		push	hl
34C7: 4F      		ld		c, a
34C8: 7E      		ld		a, (hl)					; sam
34C9: 23      		inc		hl						;
34CA: B6      		or		(hl)					;
34CB: 23      		inc		hl						;
34CC: B6      		or		(hl)					;
34CD: 23      		inc		hl
34CE: B6      		or		(hl)
34CF: 79      		ld		a, c
34D0: E1      		pop		hl
34D1: C1      		pop		bc
34D2: C0      		ret		nz
34D3: 37      		scf
34D4: C9      		ret
              	
34D5:         	x80_fcp_gz:
34D5: CDC534  		call	tstzero
34D8: D8      		ret		c
34D9: 3EFF    		ld		a, 0xff					; zx81
34DB: 1806    		jr		sign_to_c				;
              	
34DD:         	x80_fnot:
34DD: CDC534  		call	tstzero
34E0: 1805    		jr		fp_0_1					; zx81
              										;
34E2:         	x80_fcp_lz:							;
34E2: AF      		xor		a						;
              										;
34E3:         	sign_to_c:							;
34E3: 23      		inc		hl						;
34E4: AE      		xor		(hl)					;
34E5: 2B      		dec		hl						;
34E6: 07      		rlca							;
              										;
34E7:         	fp_0_1:								;
34E7: E5      		push	hl						;
34E8: 3E00    		ld		a, 0
34EA: 77      		ld		(hl), a
34EB: 23      		inc		hl
34EC: 77      		ld		(hl), a
34ED: 23      		inc		hl
34EE: 17      		rla
34EF: 77      		ld		(hl), a
34F0: 1F      		rra
34F1: 23      		inc		hl
34F2: 77      		ld		(hl), a
34F3: 23      		inc		hl
34F4: 77      		ld		(hl), a
34F5: E1      		pop		hl
34F6: C9      		ret
              	
34F7:         	x80_fbor:
34F7: EB      		ex		de, hl
34F8: CDC534  		call	tstzero
34FB: EB      		ex		de, hl
34FC: D8      		ret		c
34FD: 37      		scf								; zx81
34FE: 18E7    		jr		fp_0_1					;
              	
3500:         	x80_fband:
3500: EB      		ex		de, hl
3501: CDC534  		call	tstzero
3504: EB      		ex		de, hl
3505: D0      		ret		nc
3506: A7      		and		a						; zx81
3507: 18DE    		jr		fp_0_1					;
              	
3509:         	x80_fbands:
3509: EB      		ex		de, hl
350A: CDC534  		call	tstzero
350D: EB      		ex		de, hl
350E: D0      		ret		nc
350F: 1B      		dec		de						; zx81
3510: AF      		xor		a						;
3511: 12      		ld		(de), a					;
3512: 1B      		dec		de						;
3513: 12      		ld		(de), a					;
3514: 13      		inc		de						; se
3515: 13      		inc		de						;
3516: C9      		ret								; zx81
              										;
3517:         	x80_fcp:							;
3517: 78      		ld		a, b					;
3518: CB57    		bit		2, a					;
351A: 2001    		jr		nz, ex_or_not			;
351C: 3D      		dec		a						;
              										;
351D:         	ex_or_not:							;
351D: 0F      		rrca							;
351E: 3008    		jr		nc, nu_or_str			;
3520: F5      		push	af						;
3521: E5      		push	hl						;
3522: CD2134  		call	x80_fxch				;
3525: D1      		pop		de						;
3526: EB      		ex		de, hl					;
3527: F1      		pop		af						;
              										;
3528:         	nu_or_str:							;
3528: 0F      		rrca							;  |
3529: F5      		push	af						;  |
352A: CB57    		bit		2, a					; \|/
352C: 2005    		jr		nz, strings				; \|/
352E: CD0F30  		call	x80_fsub				;
3531: 1831    		jr		end_tests				;
              										;
3533:         	strings:							;
3533: CDF12B  		call	stk_fetch				;
3536: D5      		push	de						;
3537: C5      		push	bc						;
3538: CDF12B  		call	stk_fetch				;
353B: E1      		pop		hl						;
              										;
353C:         	byte_comp:							;
353C: 7C      		ld		a, h					;
353D: B5      		or		l						;
353E: E3      		ex		(sp), hl				;
353F: 78      		ld		a, b					;
3540: 200B    		jr		nz, sec_plus			;
3542: B1      		or		c						;
              										;
3543:         	secnd_low:							;
3543: C1      		pop		bc						;
3544: 2804    		jr		z, both_null			;
3546: F1      		pop		af						;
3547: 3F      		ccf								;
3548: 1816    		jr		str_test				;
              										;
354A:         	both_null:							;
354A: F1      		pop		af						;
354B: 1813    		jr		str_test				;
              										;
354D:         	sec_plus:							;
354D: B1      		or		c						;
354E: 280D    		jr		z, frst_less			;
3550: 1A      		ld		a, (de)					;
3551: 96      		sub		(hl)					;
3552: 3809    		jr		c, frst_less			;
3554: 20ED    		jr		nz, secnd_low			;
3556: 0B      		dec		bc						;
3557: 13      		inc		de						;
3558: 23      		inc		hl						;
3559: E3      		ex		(sp), hl				;
355A: 2B      		dec		hl						;
355B: 18DF    		jr		byte_comp				;
              										;
355D:         	frst_less:							;
355D: C1      		pop		bc						;
355E: F1      		pop		af						;
355F: A7      		and		a						;
              										;
3560:         	str_test:							;
3560: F5      		push	af						;
              		fwait							;
3561: EF      		rst	28h
              		fstk0							;
3562: A0      		defb	0xa0
              		fce								;
3563: 38      		defb	0x38
              										;
3564:         	end_tests:							;
3564: F1      		pop		af						;
3565: F5      		push	af						;
3566: DCDD34  		call	c, x80_fnot				;
3569: F1      		pop		af
356A: F5      		push	af
356B: D4D534  		call	nc, x80_fcp_gz
356E: F1      		pop		af						; zx81
356F: 0F      		rrca							;
3570: D4DD34  		call	nc, x80_fnot			;
3573: C9      		ret								;
              										;
3574:         	x80_fcat:							;
3574: CDF12B  		call	stk_fetch				;
3577: D5      		push	de						;
3578: C5      		push	bc						;
3579: CDF12B  		call	stk_fetch				;
357C: E1      		pop		hl						;
357D: E5      		push	hl						;
357E: D5      		push	de						;
357F: C5      		push	bc						;
3580: 09      		add		hl, bc					;
3581: 44      		ld		b, h					;
3582: 4D      		ld		c, l					;
3583: F7      		rst		bc_spaces				;
3584: CDB22A  		call	stk_store				;
3587: C1      		pop		bc						;
3588: E1      		pop		hl						;
3589: 78      		ld		a, b					;
358A: B1      		or		c						;
358B: 2802    		jr		z, other_str			;
358D: EDB0    		ldir							;
              										;
358F:         	other_str:							;
358F: C1      		pop		bc						;
3590: E1      		pop		hl						;
3591: 78      		ld		a, b					;
3592: B1      		or		c						;
3593: 2802    		jr		z, stk_pntrs			;
3595: EDB0    		ldir							;
              										;
3597:         	stk_pntrs:							;
3597: 2A655C  		ld		hl, (stkend)			;
              										
359A:         	l359a:								; zx81
359A: 54      		ld		d, h					;
359B: 5D      		ld		e, l					;
359C: 2B      		dec		hl
359D: 2B      		dec		hl
359E: 2B      		dec		hl
359F: 2B      		dec		hl
35A0: 2B      		dec		hl
35A1: C9      		ret
              	
35A2:         	x80_fchrs:							; zx81
35A2: CDD52D  		call	fp_to_a					;
35A5: 3808    		jr		c, report_b2			;
35A7: 2006    		jr		nz, report_b2			;
35A9: CD2D00  		call	bc_spaces1				;
35AC: 12      		ld		(de), a					;
35AD: 1868    		jr		x360f
              	
35AF:         	report_b2:							; zx81
35AF: CF      		rst		error_1					;
35B0: 0A      		defb	Integer_out_of_range	;
              	
35B1:         	x80_fval:
35B1: DF      		rst		get_ch
35B2: E5      		push	hl
35B3: 78      		ld		a, b
35B4: C6E3    		add		a, 227
35B6: 9F      		sbc		a, a
35B7: F5      		push	af
35B8: CDF12B  		call	stk_fetch				; zx81
35BB: D5      		push	de						;
35BC: 03      		inc		bc						;
35BD: F7      		rst		bc_spaces				;
35BE: E1      		pop		hl						;
35BF: ED535D5C		ld		(chadd), de				;
35C3: D5      		push	de						;
35C4: EDB0    		ldir							;
35C6: EB      		ex		de, hl					;
35C7: 2B      		dec		hl						;
35C8: 360D    		ld		(hl), ctrl_n_l			;
35CA: FDCB01BE		res		7, (iy + _flags)		;
35CE: CDFB24  		call	scanning
35D1: FE0D    		cp		ctrl_n_l
35D3: 2007    		jr		nz, l35dc
35D5: E1      		pop		hl
35D6: F1      		pop		af
35D7: FDAE01  		xor		(iy + _flags)
35DA: E640    		and		%01000000
              	
35DC:         	l35dc:
35DC: C28A1C  		jp		nz, report_c
35DF: 225D5C  		ld		(chadd), hl				; zx81
35E2: FDCB01FE		set		7, (iy + _flags)		;
35E6: CDFB24  		call	scanning				;
35E9: E1      		pop		hl						;
35EA: 225D5C  		ld		(chadd), hl				;
35ED: 18A8    		jr		stk_pntrs				;
              	
35EF:         	x80_fstrs:
35EF: 3A8F5C  		ld		a, (attrt)				; se
35F2: 08      		ex		af, af'					;'
35F3: CD2D00  		call	bc_spaces1
35F6: 225B5C  		ld		(kcur), hl
35F9: E5      		push	hl
35FA: 2A515C  		ld		hl, (curchl)
35FD: E5      		push	hl
35FE: 3EFF    		ld		a, 0xff
3600: CD0116  		call	l1601
3603: CDE32D  		call	print_fp
3606: E1      		pop		hl
3607: CD1516  		call	chanflag
360A: 08      		ex		af, af'					;'se
360B: 328F5C  		ld		(attrt), a				;
360E: D1      		pop		de						; zx81
360F: 2A5B5C  		ld		hl, (kcur)				;
3612: A7      		and		a						;
3613: ED52    		sbc		hl, de					;
3615: 44      		ld		b, h					;
3616: 4D      		ld		c, l					;
              	
3617:         	x360f:								; zx81
3617: CDB22A  		call	stk_store				;
361A: EB      		ex		de, hl					;
361B: C9      		ret
              	
361C:         	x80_fread:
361C: 2A515C  		ld		hl, (curchl)
361F: E5      		push	hl
3620: CD7C20  		call	l207c
3623: CDD621  		call	chltchk
3626: 2001    		jr		nz, x3621
3628: 76      		halt
              	
3629:         	x3621:
3629: CDE615  		call	inputad
362C: 010000  		ld		bc, 0
362F: 3003    		jr		nc, x362c
3631: 0C      		inc		c
3632: F7      		rst		bc_spaces
3633: 12      		ld		(de), a
              	
3634:         	x362c:
3634: CDB22A  		call	stk_store
3637: E1      		pop		hl
3638: CD1516  		call	chanflag
363B: C39735  		jp		stk_pntrs
              	
363E:         	x80_fasc:							; zx81
363E: CDF12B  		call	stk_fetch				;
3641: 78      		ld		a, b					;
3642: B1      		or		c						;
3643: 2801    		jr		z, stk_code				;
3645: 1A      		ld		a, (de)					;
              										;
3646:         	stk_code:							;
3646: C3282D  		jp		stack_a					;
              										;
3649:         	x80_flen:							;
3649: CDF12B  		call	stk_fetch				;
364C: C32F2D  		jp		stack_bc1				;
              										;
364F:         	x80_fdjnz:							;
364F: D9      		exx								;
3650: E5      		push	hl						;
3651: 21675C  		ld		hl, breg				;
3654: 35      		dec		(hl)					;
3655: E1      		pop		hl						;
3656: 2004    		jr		nz, jump_2				;
3658: 23      		inc		hl						;
3659: D9      		exx								;
365A: C9      		ret								;
              										;
365B:         	x80_fjp:							;
365B: D9      		exx								;
              										;
365C:         	jump_2:								;
365C: 5E      		ld		e, (hl)					;
365D: 7B      		ld		a, e					;
365E: 17      		rla								;
365F: 9F      		sbc		a, a					;
3660: 57      		ld		d, a					;
3661: 19      		add		hl, de					;
3662: D9      		exx								;
3663: C9      		ret								;
              	
3664:         	x80_fjpt:
3664: 13      		inc		de
3665: 13      		inc		de
3666: 1A      		ld		a, (de)					; zx81
3667: 1B      		dec		de						
3668: 1B      		dec		de
3669: A7      		and		a						; zx81
366A: 20EF    		jr		nz, x80_fjp				;
366C: D9      		exx								;
366D: 23      		inc		hl						;
366E: D9      		exx								;
366F: C9      		ret								;
              										;
3670:         	x80_fce:							;
3670: F1      		pop		af						;
3671: D9      		exx								;
3672: E3      		ex		(sp), hl				;
3673: D9      		exx								;
3674: C9      		ret								;
              										;
3675:         	x80_fmod:							;
              		fwait							;
3675: EF      		rst	28h
              		fst		1						; was 0
3676: C1      		defb	0xc0 + 1
              		fdel							;
3677: 02      		defb	0x02
              		fmove							;
3678: 31      		defb	0x31
              		fgt		1						; was 0
3679: E1      		defb	0xe0 + 1
              		fdiv							;
367A: 05      		defb	0x05
              		fint							;
367B: 27      		defb	0x27
              		fgt		1						; was 0
367C: E1      		defb	0xe0 + 1
              		fxch							;
367D: 01      		defb	0x01
              		fst		1						; was 0
367E: C1      		defb	0xc0 + 1
              		fmul							;
367F: 04      		defb	0x04
              		fsub							;
3680: 03      		defb	0x03
              		fgt		1						; was 0
3681: E1      		defb	0xe0 + 1
              		fce								;
3682: 38      		defb	0x38
3683: C9      		ret								;
              										;
3684:         	x80_fint:							;
              		fwait							;
3684: EF      		rst	28h
              		fmove							;
3685: 31      		defb	0x31
              		fcp		.lz						;
3686: 36      		defb	0x09 + .lz
              		fjpt	x_neg					;
3687: 0005    		defb	0x00, x_neg - $
              		ftrn							;
3689: 3A      		defb	0x3a
              		fce								;
368A: 38      		defb	0x38
368B: C9      		ret								;
              										;
368C:         	x_neg:								;
              		fmove							;
368C: 31      		defb	0x31
              		ftrn							;
368D: 3A      		defb	0x3a
              		fst		0						;
368E: C0      		defb	0xc0 + 0
              		fsub							;
368F: 03      		defb	0x03
              		fgt		0						;
3690: E0      		defb	0xe0 + 0
              		fxch							;
3691: 01      		defb	0x01
              		fnot							;
3692: 30      		defb	0x30
              		fjpt	exit					;
3693: 0004    		defb	0x00, exit - $
              		fstk1							;
3695: A1      		defb	0xa1
              		fsub							;
3696: 03      		defb	0x03
              										;
3697:         	exit:								;
              		fce								;
3697: 38      		defb	0x38
3698: C9      		ret								;
              										;
3699:         	x80_fexp:							;
              		fwait							;
3699: EF      		rst	28h
              		fstk							;
369A: 34      		defb	0x34
369B: F138AA3B		defb	0xf1, 0x38, 0xaa, 0x3b, 0x29
369F: 29      	
              		fmul							;
36A0: 04      		defb	0x04
              		fmove							;
36A1: 31      		defb	0x31
              		fint							;
36A2: 27      		defb	0x27
              		fst		3						;
36A3: C3      		defb	0xc0 + 3
              		fsub							;
36A4: 03      		defb	0x03
              		fmove							;
36A5: 31      		defb	0x31
              		fadd							;
36A6: 0F      		defb	0x0f
              		fstk1							;
36A7: A1      		defb	0xa1
              		fsub							;
36A8: 03      		defb	0x03
36A9: 88133658		defb	0x88, 0x13, 0x36, 0x58, 0x65, 0x66, 0x9d, 0x78
36AD: 65669D78	
36B1: 6540A260		defb	0x65, 0x40, 0xa2, 0x60, 0x32, 0xc9, 0xe7, 0x21
36B5: 32C9E721	
36B9: F7AF24EB		defb	0xf7, 0xaf, 0x24, 0xeb, 0x2f, 0xb0, 0xb0, 0x14
36BD: 2FB0B014	
36C1: EE7EBB94		defb	0xee, 0x7e, 0xbb, 0x94, 0x58, 0xf1, 0x3a, 0x7e
36C5: 58F13A7E	
36C9: F8CF    		defb	0xf8, 0xcf				;
              		fgt		3						;
36CB: E3      		defb	0xe0 + 3
              		fce								;
36CC: 38      		defb	0x38
36CD: CDD52D  		call	fp_to_a					;
36D0: 2007    		jr		nz, n_negtv				;
36D2: 3803    		jr		c, report6_2			;
36D4: 86      		add		a, (hl)					;
36D5: 3009    		jr		nc, result_ok			;
              										;
36D7:         	report6_2:							;
36D7: CF      		rst		error_1					;
36D8: 05      		defb	Number_too_large		;
              										;
36D9:         	n_negtv:							;
36D9: 3807    		jr		c, rslt_zero			;
36DB: 96      		sub		(hl)					;
36DC: 3004    		jr		nc, rslt_zero			;
36DE: ED44    		neg								;
              										;
36E0:         	result_ok:							;
36E0: 77      		ld		(hl), a					;
36E1: C9      		ret								;
              										;
36E2:         	rslt_zero:							;
              		fwait							;
36E2: EF      		rst	28h
              		fdel							;
36E3: 02      		defb	0x02
              		fstk0							;
36E4: A0      		defb	0xa0
              		fce								;
36E5: 38      		defb	0x38
36E6: C9      		ret								;
              										;
36E7:         	x80_flogn:							;
              		fwait							;
36E7: EF      		rst	28h
              		frstk
36E8: 3D      		defb	0x3d
              		fmove							; zx81
36E9: 31      		defb	0x31
              		fcp		.gz						;
36EA: 37      		defb	0x09 + .gz
              		fjpt	valid					;
36EB: 0005    		defb	0x00, valid - $
              		fce								;
36ED: 38      		defb	0x38
              										;
36EE:         	x36e6:								;
36EE: CF      		rst		error_1					;
36EF: 09      		defb	Bad_argument			;
              										;
36F0:         	valid:								;
              		fce								;
36F0: 38      		defb	0x38
36F1: 7E      		ld		a, (hl)					;
36F2: 3680    		ld		(hl), 0x80				;
36F4: CD282D  		call	stack_a					;
              		fwait							;
36F7: EF      		rst	28h
              		fstk							;
36F8: 34      		defb	0x34
36F9: 3800    		defb	0x38, 0x00				;
              		fsub							;
36FB: 03      		defb	0x03
              		fxch							;
36FC: 01      		defb	0x01
              		fmove							;
36FD: 31      		defb	0x31
              		fstk							;
36FE: 34      		defb	0x34
36FF: F04CCCCC		defb	0xf0, 0x4c, 0xcc, 0xcc, 0xcd
3703: CD      	
              		fsub							;
3704: 03      		defb	0x03
              		fcp		.gz						;
3705: 37      		defb	0x09 + .gz
              		fjpt	gre_8					;
3706: 0009    		defb	0x00, gre_8 - $
              		fxch							;
3708: 01      		defb	0x01
              		fstk1							;
3709: A1      		defb	0xa1
              		fsub							;
370A: 03      		defb	0x03
              		fxch							;
370B: 01      		defb	0x01
              		fce								;
370C: 38      		defb	0x38
370D: 34      		inc		(hl)					;
              		fwait							;
370E: EF      		rst	28h
              										;
370F:         	gre_8:								;
              		fxch							;
370F: 01      		defb	0x01
              		fstk							;
3710: 34      		defb	0x34
3711: F0317217		defb	0xf0, 0x31, 0x72, 0x17, 0xf8
3715: F8      	
              		fmul							;
3716: 04      		defb	0x04
              		fxch							;
3717: 01      		defb	0x01
              		fstk_5							;
3718: A2      		defb	0xa2
              		fsub							;
3719: 03      		defb	0x03
              		fstk_5							;
371A: A2      		defb	0xa2
              		fsub							;
371B: 03      		defb	0x03
              		fmove							;
371C: 31      		defb	0x31
              		fstk							;
371D: 34      		defb	0x34
371E: 3220    		defb	0x32, 0x20				;
              		fmul							;
3720: 04      		defb	0x04
              		fstk_5							;
3721: A2      		defb	0xa2
              		fsub							;
3722: 03      		defb	0x03
3723: 8C11AC14		defb	0x8c, 0x11, 0xac, 0x14, 0x09, 0x56, 0xda, 0xa5
3727: 0956DAA5	
372B: 5930C55C		defb	0x59, 0x30, 0xc5, 0x5c, 0x90, 0xaa, 0x9e, 0x70
372F: 90AA9E70	
3733: 6F61A1CB		defb	0x6f, 0x61, 0xa1, 0xcb, 0xda, 0x96, 0xa4, 0x31
3737: DA96A431	
373B: 9FB4E7A0		defb	0x9f, 0xb4, 0xe7, 0xa0, 0xfe, 0x5c, 0xfc, 0xea
373F: FE5CFCEA	
3743: 1B43CA36		defb	0x1b, 0x43, 0xca, 0x36, 0xed, 0xa7, 0x9c, 0x7e
3747: EDA79C7E	
374B: 5EF06E23		defb	0x5e, 0xf0, 0x6e, 0x23, 0x80, 0x93
374F: 8093    	
              		fmul							;
3751: 04      		defb	0x04
              		fadd							;
3752: 0F      		defb	0x0f
              		fce								;
3753: 38      		defb	0x38
3754: C9      		ret								;
              										;
3755:         	x80_fget:							;
              		fwait							;
3755: EF      		rst	28h
              		fstk							;
3756: 34      		defb	0x34
3757: EE22F983		defb	0xee, 0x22, 0xf9, 0x83, 0x6e
375B: 6E      	
              		fmul							;
375C: 04      		defb	0x04
              		fmove							;
375D: 31      		defb	0x31
              		fstk_5							;
375E: A2      		defb	0xa2
              		fadd							;
375F: 0F      		defb	0x0f
              		fint							;
3760: 27      		defb	0x27
              		fsub							;
3761: 03      		defb	0x03
              		fmove							;
3762: 31      		defb	0x31
              		fadd							;
3763: 0F      		defb	0x0f
              		fmove							;
3764: 31      		defb	0x31
              		fadd							;
3765: 0F      		defb	0x0f
              		fmove							;
3766: 31      		defb	0x31
              		fabs							;
3767: 2A      		defb	0x2a
              		fstk1							;
3768: A1      		defb	0xa1
              		fsub							;
3769: 03      		defb	0x03
              		fmove							;
376A: 31      		defb	0x31
              		fcp		.gz						;
376B: 37      		defb	0x09 + .gz
              		fst		0						;
376C: C0      		defb	0xc0 + 0
              		fjpt	zplus					;
376D: 0005    		defb	0x00, zplus - $
              		fdel							;
376F: 02      		defb	0x02
              		fce								;
3770: 38      		defb	0x38
3771: C9      		ret								;
              										;
3772:         	zplus:								;
              		fstk1							;
3772: A1      		defb	0xa1
              		fsub							;
3773: 03      		defb	0x03
              		fxch							;
3774: 01      		defb	0x01
              		fcp		.lz						;
3775: 36      		defb	0x09 + .lz
              		fjpt	yneg					;
3776: 0003    		defb	0x00, yneg - $
              		fneg							;
3778: 1B      		defb	0x1b
              										;
3779:         	yneg:								;
              		fce								;
3779: 38      		defb	0x38
377A: C9      		ret								;
              										;
377B:         	x80_fcos:							;
              		fwait							;
377B: EF      		rst	28h
              		fget							;
377C: 39      		defb	0x39
              		fabs							;
377D: 2A      		defb	0x2a
              		fstk1							;
377E: A1      		defb	0xa1
              		fsub							;
377F: 03      		defb	0x03
              		fgt		0						;
3780: E0      		defb	0xe0 + 0
              		fjpt	c_ent					;
3781: 0007    		defb	0x00, c_ent - $
              		fneg							;
3783: 1B      		defb	0x1b
              		fjp		c_ent					;
3784: 3304    		defb	0x33, c_ent - $
              										;
3786:         	x80_fsin:							;
              		fwait							;
3786: EF      		rst	28h
              		fget							;
3787: 39      		defb	0x39
              										;
3788:         	c_ent:								;
              		fmove							;
3788: 31      		defb	0x31
              		fmove							;
3789: 31      		defb	0x31
              		fmul							;
378A: 04      		defb	0x04
              		fmove							;
378B: 31      		defb	0x31
              		fadd							;
378C: 0F      		defb	0x0f
              		fstk1							;
378D: A1      		defb	0xa1
              		fsub							;
378E: 03      		defb	0x03
378F: 8614E65C		defb	0x86, 0x14, 0xe6, 0x5c, 0x1f, 0x0b, 0xa3, 0x8f
3793: 1F0BA38F	
3797: 38EEE915		defb	0x38, 0xee, 0xe9, 0x15, 0x63, 0xbb, 0x23, 0xee
379B: 63BB23EE	
379F: 920DCDED		defb	0x92, 0x0d, 0xcd, 0xed, 0xf1, 0x23, 0x5d, 0x1b
37A3: F1235D1B	
37A7: EA      		defb	0xea					;
              		fmul							;
37A8: 04      		defb	0x04
              		fce								;
37A9: 38      		defb	0x38
37AA: C9      		ret								;
              										;
              	;x80_ftan:							;
              	;	fwait							;
              	;	fmove							;
              	;	fsin							;
              	;	fxch							;
              	;	fcos							;
              	;	fdiv							;
              	;	fce								;
              	;	ret								;
              										;
37AB:         	x80_fatan:							;
37AB: CD9732  		call	x80_frstk				;
37AE: 7E      		ld		a, (hl)					;
37AF: FE81    		cp		0x81					;
37B1: 380E    		jr		c, small				;
              		fwait							;
37B3: EF      		rst	28h
              		fstk1							;
37B4: A1      		defb	0xa1
              		fneg							;
37B5: 1B      		defb	0x1b
              		fxch							;
37B6: 01      		defb	0x01
              		fdiv							;
37B7: 05      		defb	0x05
              		fmove							;
37B8: 31      		defb	0x31
              		fcp		.lz						;
37B9: 36      		defb	0x09 + .lz
              		fstkpix_5						;
37BA: A3      		defb	0xa3
              		fxch							;
37BB: 01      		defb	0x01
              		fjpt	cases					;
37BC: 0007    		defb	0x00, cases - $
              		fneg							;
37BE: 1B      		defb	0x1b
              		fjp		cases					;
37BF: 3304    		defb	0x33, cases - $
              										;
37C1:         	small:								;
              		fwait							;
37C1: EF      		rst	28h
              		fstk0							;
37C2: A0      		defb	0xa0
              										;
37C3:         	cases:								;
              		fxch							;
37C3: 01      		defb	0x01
              		fmove							;
37C4: 31      		defb	0x31
              		fmove							;
37C5: 31      		defb	0x31
              		fmul							;
37C6: 04      		defb	0x04
              		fmove							;
37C7: 31      		defb	0x31
              		fadd							;
37C8: 0F      		defb	0x0f
              		fstk1							;
37C9: A1      		defb	0xa1
              		fsub							;
37CA: 03      		defb	0x03
37CB: 8C10B213		defb	0x8c, 0x10, 0xb2, 0x13, 0x0e, 0x55, 0xe4, 0x8d
37CF: 0E55E48D	
37D3: 5839BC5B		defb	0x58, 0x39, 0xbc, 0x5b, 0x98, 0xfd, 0x9e, 0x00
37D7: 98FD9E00	
37DB: 3675A0DB		defb	0x36, 0x75, 0xa0, 0xdb, 0xe8, 0xb4, 0x63, 0x42
37DF: E8B46342	
37E3: C4E6B509		defb	0xc4, 0xe6, 0xb5, 0x09, 0x36, 0xbe, 0xe9, 0x36
37E7: 36BEE936	
37EB: 731B5DEC		defb	0x73, 0x1b, 0x5d, 0xec, 0xd8, 0xde, 0x63, 0xbe
37EF: D8DE63BE	
37F3: F061A1B3		defb	0xf0, 0x61, 0xa1, 0xb3, 0x0c
37F7: 0C      	
              		fmul							;
37F8: 04      		defb	0x04
              		fadd							;
37F9: 0F      		defb	0x0f
              		fce								;
37FA: 38      		defb	0x38
37FB: C9      		ret								;
              										;
37FC:         	x80_fasin:							;
              		fwait							;
37FC: EF      		rst	28h
              		fmove							;
37FD: 31      		defb	0x31
              		fmove							;
37FE: 31      		defb	0x31
              		fmul							;
37FF: 04      		defb	0x04
              		fstk1							;
3800: A1      		defb	0xa1
              		fsub							;
3801: 03      		defb	0x03
              		fneg							;
3802: 1B      		defb	0x1b
              		fsqrt							;
3803: 28      		defb	0x28
              		fstk1							;
3804: A1      		defb	0xa1
              		fadd							;
3805: 0F      		defb	0x0f
              		fdiv							;
3806: 05      		defb	0x05
              		fatan							;
3807: 24      		defb	0x24
              		fmove							;
3808: 31      		defb	0x31
              		fadd							;
3809: 0F      		defb	0x0f
              		fce								;
380A: 38      		defb	0x38
380B: C9      		ret								;
              										;
380C:         	x80_facos:							;
              		fwait							;
380C: EF      		rst	28h
              		fasin							;
380D: 22      		defb	0x22
              		fstkpix_5						;
380E: A3      		defb	0xa3
              		fsub							;
380F: 03      		defb	0x03
              		fneg							;
3810: 1B      		defb	0x1b
              		fce								;
3811: 38      		defb	0x38
3812: C9      		ret								;
              	
3813:         	x80_fsqrt:							; se
              		fwait							;
3813: EF      		rst	28h
              		frstk							;
3814: 3D      		defb	0x3d
              		fst		3						;
3815: C3      		defb	0xc0 + 3
              		fce								;
3816: 38      		defb	0x38
3817: 7E      		ld		a, (hl)					;
3818: A7      		and		a						;
3819: C8      		ret		z						;
381A: 23      		inc		hl						;
381B: CB7E    		bit		7, (hl)					;
381D: C2EE36  		jp		nz, x36e6				;
3820: 21A15C  		ld		hl, mem_3				;
3823: 7E      		ld		a, (hl)					;
3824: EE80    		xor		%10000000				;
3826: CB2F    		sra		a						;
3828: 3C      		inc		a						;
3829: 2804    		jr		z, l382f				;
382B: F22F38  		jp		p, l382f				;
382E: 3D      		dec		a						;
              										;
382F:         	l382f:								;
382F: EE80    		xor		%10000000				;
3831: 77      		ld		(hl), a					;
              		fwait							;
3832: EF      		rst	28h
              										;
3833:         	l3833:								;
              		fmove							;
3833: 31      		defb	0x31
              		fgt		3						;
3834: E3      		defb	0xe0 + 3
              		fst		4						;
3835: C4      		defb	0xc0 + 4
              		fdiv							;
3836: 05      		defb	0x05
              		fgt		3						;
3837: E3      		defb	0xe0 + 3
              		fadd							;
3838: 0F      		defb	0x0f
              		fstk_5							;
3839: A2      		defb	0xa2
              		fmul							;
383A: 04      		defb	0x04
              		fst		3						;
383B: C3      		defb	0xc0 + 3
              		fgt		4						;
383C: E4      		defb	0xe0 + 4
              		fsub							;
383D: 03      		defb	0x03
              		fabs							;
383E: 2A      		defb	0x2a
              		fcp		.gz						;
383F: 37      		defb	0x09 + .gz
              		fjpt	l3833					;
3840: 00F3    		defb	0x00, l3833 - $
              		fdel							;
3842: 02      		defb	0x02
              		fgt		3						;
3843: E3      		defb	0xe0 + 3
              		fce								;
3844: 38      		defb	0x38
3845: C9      		ret
              	
3846:         	x80_ftop:							; zx81
              		fwait							;
3846: EF      		rst	28h
              		fxch							;
3847: 01      		defb	0x01
              		fmove							;
3848: 31      		defb	0x31
              		fnot							;
3849: 30      		defb	0x30
              		fjpt	xis0					;
384A: 0008    		defb	0x00, xis0 - $
              		flogn							;
384C: 25      		defb	0x25
              		fmul							;
384D: 04      		defb	0x04
              		fce								;
384E: 38      		defb	0x38
384F: C39936  		jp		x80_fexp				;
              										;
3852:         	xis0:								;
              		fdel							;
3852: 02      		defb	0x02
              		fmove							;
3853: 31      		defb	0x31
              		fnot							;
3854: 30      		defb	0x30
              		fjpt	one						;
3855: 000A    		defb	0x00, one - $
              		fstk0							;
3857: A0      		defb	0xa0
              		fxch							;
3858: 01      		defb	0x01
              		fcp		.gz						;
3859: 37      		defb	0x09 + .gz
              		fjpt	last					;
385A: 0007    		defb	0x00, last - $
              		fstk1							;
385C: A1      		defb	0xa1
              		fxch							;
385D: 01      		defb	0x01
              		fdiv							;
385E: 05      		defb	0x05
              										;
385F:         	one:								;
              		fdel							;
385F: 02      		defb	0x02
              		fstk1							;
3860: A1      		defb	0xa1
              										;
3861:         	last:								;
              		fce								;
3861: 38      		defb	0x38
3862: C9      		ret								;
              	
3863:         	x80_fhexs:							; se
3863: CDA22D  		call	fp_to_bc				;
3866: DAAF35  		jp		c, report_b2			;
3869: C2AF35  		jp		nz, report_b2			;
386C: C5      		push	bc						;
386D: 010400  		ld		bc, 4					;
3870: F7      		rst		bc_spaces				;
3871: E1      		pop		hl						;
3872: D5      		push	de						;
3873: 7C      		ld		a, h					;
3874: CD8238  		call	l3882					;
3877: 7D      		ld		a, l					;
3878: CD8238  		call	l3882					;
387B: D1      		pop		de						;
387C: CDB22A  		call	stk_store				;
387F: C39735  		jp		stk_pntrs				;
              										;
3882:         	l3882:								;
3882: 67      		ld		h, a					;
3883: 07      		rlca							;
3884: 07      		rlca							;
3885: 07      		rlca							;
3886: 07      		rlca							;
3887: CD8B38  		call	l388b					;
388A: 7C      		ld		a, h					;
              										;
388B:         	l388b:								;
388B: E60F    		and		%00001111				;
388D: FE0A    		cp		0x0a					;
388F: 3802    		jr		c, l3893				;
3891: C607    		add		a, 7					;
              										;
3893:         	l3893:								;
3893: C630    		add		a, 0x30					;
3895: 12      		ld		(de), a					;
3896: 13      		inc		de						;
3897: C9      		ret								;
              										;
3898:         	l3898:								;
3898: 2A365C  		ld		hl, (chars)				;
389B: 24      		inc		h						;
389C: 79      		ld		a, c					;
389D: 0F      		rrca							;
389E: 0F      		rrca							;
389F: 0F      		rrca							;
38A0: E6E0    		and     %11100000				;
38A2: A8      		xor		b						;
38A3: 5F      		ld		e, a					;
38A4: 79      		ld		a, c					;
38A5: E618    		and		%00011000				;
38A7: EE40    		xor		%01000000				;
38A9: 57      		ld		d, a					;
38AA: 0602    		ld		b, 2					;
38AC: C33B25  		jp		l253b					;
              										;
38AF:         	l38af:								;
38AF: FEFF    		cp		OK						;
38B1: C8      		ret		z						;
38B2: FE08    		cp		STOP_statement			;
38B4: C8      		ret		z						;
38B5: 2A7F5C  		ld		hl, (onerrflag)			;
38B8: 7C      		ld		a, h					;
38B9: FEFF    		cp		0xff					;
38BB: C8      		ret		z						;
38BC: FEFE    		cp		0xfe					;
38BE: 2807    		jr		z, l38c7				;
38C0: 22425C  		ld		(newppc), hl			;
38C3: FD360A00		ld		(iy + _nsppc), 0		;
              										;
38C7:         	l38c7:								;
38C7: FD3600FF		ld		(iy + _errnr), OK		;
38CB: C35515  		jp		l1555					;
              										;
38CE:         	l38ce:								;
38CE: 01FDBF  		ld		bc, ay_128dat			;
38D1: ED79    		out		(c), a					;
38D3: 5F      		ld		e, a					;
38D4: FD7E0E  		ld		a, (iy + _bordcr)		;
38D7: 0F      		rrca							;
38D8: 0F      		rrca							;
38D9: 0F      		rrca							;
38DA: E607    		and		7						;
38DC: 01F600  		ld		bc, ay_tmxdat			;
38DF: ED59    		out		(c), e					;
38E1: D3FE    		out		(ula), a				;
38E3: C9      		ret								;
              										;
38E4:         	l38e6:								;
38E4: CD5E10  		call	l105e					;
38E7: ED43495C		ld		(eppc), bc				;
              										;
38EB:         	l38ec:								;
38EB: CDB016  		call	setmin					;
38EE: CD6E0D  		call	clslower				;
38F1: FDCB37AE		res		5, (iy + _flage)		;
38F5: CDA90F  		call	edit_key				;
38F8: ED7B3D5C		ld		sp, (errsp)				;
38FC: C38E0F  		jp		l0f8e					;
              										;
38FF:         	l38ff:								;
38FF: FFFF    		defw	0xffff					;
              										;
3901:         	syntax3:							;
3901: CD991E  		call	find_int				;
3904: 78      		ld		a, b					;
3905: FE40    		cp		0x40					;
3907: 180B    		jr		l3914					;
              										;
3909:         	l3909:								;
3909: CD1539  		call	l3915					;
390C: 78      		ld		a, b					;
390D: FE20    		cp		' '						;
390F: 300A    		jr		nc, l391b				;
3911: 79      		ld		a, c					;
3912: FE18    		cp		0x18					;
              										;
3914:         	l3914:								;
3914: D8      		ret		c						;
              										;
3915:         	l3915:								;
3915: CD0723  		call	stk_to_bc				;
3918: 7A      		ld		a, d					;
3919: 83      		add		a, e					;
391A: D0      		ret		nc						;
              										;
391B:         	l391b:								;
391B: CF      		rst		error_1					;
391C: 0A      		defb	Integer_out_of_range	;
              										;
391D:         	l391d:								;
391D: FDCB015E		bit		3, (iy + _flags)		;
3921: C2650B  		jp		nz, l0b65				;
3924: C3240B  		jp		l0b24					;
              										;
3927:         	l3927:								;
3927: E7      		rst		next_ch					;
3928: CDEE1B  		call	check_end				;
392B: 3A3B5C  		ld		a, (flags)				;
392E: F608    		or		%00001000				;
3930: C31F1F  		jp		l1f1f					;
              										;
3933:         	l3934:								;
3933: CD851E  		call	poke1					;
3936: 5F      		ld		e, a					;
3937: 51      		ld		d, c					;
3938: 78      		ld		a, b					;
3939: A7      		and		a						;
393A: C24422  		jp		nz, invcolerr			;
393D: 79      		ld		a, c					;
393E: FE41    		cp		65						;
3940: D24422  		jp		nc, invcolerr			;
              										;
3943:         	l3943:								;
3943: 013BBF  		ld		bc, ulaplus_reg			;
3946: ED79    		out		(c), a					;
3948: 06FF    		ld		b, 0xff					;
394A: ED59    		out		(c), e					;
394C: C9      		ret								;
              										;
394D:         	l394d:								;
394D: 3E40    		ld		a, 64					;
394F: 1E00    		ld		e, 0					;
3951: CD4339  		call	l3943					;
              										;
3954:         	l3954:								;
3954: AF      		xor		a						;
3955: 21005B  		ld		hl, palbuf				;
              										;
3958:         	l3958:								;
3958: 5E      		ld		e, (hl)					;
3959: CD4339  		call	l3943					;
395C: 3C      		inc		a						;
395D: 2C      		inc		l						;
395E: FE40    		cp		64						;
3960: 38F6    		jr		c, l3958				;
3962: C9      		ret								;
              										;
3963:         	l3963:								;
3963: FDCB0156		bit		2, (iy + _flags)		;
3967: 2020    		jr		nz, l3989				;
3969: FE15    		cp		0x15					;
396B: 300A    		jr		nc, l3977				;
396D: FE0F    		cp		0x0f					;
396F: 3806    		jr		c, l3977				;
3971: FDCB01D6		set		2, (iy + _flags)		;
3975: 1816    		jr		l398d					;
              										;
3977:         	l3977:								;
3977: FE06    		cp		6						;
3979: 3804    		jr		c, l397f				;
397B: FEA5    		cp		0xa5					;
397D: 380E    		jr		c, l398d				;
              										;
397F:         	l397f:								;
397F: D9      		exx								;
3980: D5      		push	de						;
3981: D9      		exx								;
3982: CD9039  		call	l3990					;
3985: D9      		exx								;
3986: D1      		pop		de						;
3987: D9      		exx								;
3988: C9      		ret								;
              										;
3989:         	l3989:								;
3989: FDCB0196		res		2, (iy + _flags)		;
              										;
398D:         	l398d:								;
398D: C3810F  		jp		add_char				;
              										;
3990:         	l3990:								;
3990: D5      		push	de						;
3991: DDE1    		pop		ix						;
3993: D6A5    		sub		0xa5					;
3995: 11A800  		ld		de, k_token - 1			;
3998: F5      		push	af						;
3999: CD410C  		call	l0c41					;
399C: 3809    		jr		c, l39a7				;
399E: 3E20    		ld		a, ' '					;
39A0: FDCB0146		bit		0, (iy + _flags)		;
39A4: CCC639  		call	z, l39c6				;
              										;
39A7:         	l39a7:								;
39A7: 1A      		ld		a, (de)					;
39A8: E67F    		and		%01111111				;
39AA: CDC639  		call	l39c6					;
39AD: 1A      		ld		a, (de)					;
39AE: 13      		inc		de						;
39AF: 87      		add		a, a					;
39B0: 30F5    		jr		nc, l39a7				;
39B2: D1      		pop		de						;
39B3: FE24    		cp		'$'						;
39B5: 2803    		jr		z, l39ba				;
39B7: FE82    		cp		0x82					;
39B9: D8      		ret		c						;
              										;
39BA:         	l39ba:								;
39BA: 7A      		ld		a, d					;
39BB: FE26    		cp		'&'						;
39BD: C8      		ret		z						;
39BE: FE60    		cp		0x60					;
39C0: C8      		ret		z						;
39C1: FE03    		cp		0x03					;
39C3: D8      		ret		c						;
39C4: 3E20    		ld		a, ' '					;
              										;
39C6:         	l39c6:								;
39C6: D5      		push	de						;
39C7: DDE5    		push	ix						;
39C9: D1      		pop		de						;
39CA: D7      		rst		print_a					;
39CB: D5      		push	de						;
39CC: DDE1    		pop		ix						;
39CE: D1      		pop		de						;
39CF: C9      		ret								;
              										;
39D0:         	l39d0:								;
39D0: FDCB00FE		set		7, (iy + _errnr)		;
39D4: CD2C0F  		call	editor					;
39D7: DD2A595C		ld		ix, (eline)				;
              										;
39DB:         	l39db:								;
39DB: DDE5    		push	ix						;
39DD: 210201  		ld		hl, k_token + 89		;
39E0: 0EBA    		ld		c, tk_usr - 6			;
39E2: CD9B3A  		call	l3a9b					;
39E5: FE49    		cp		'I'						;
39E7: 2003    		jr		nz, l39ec				;
39E9: CD153A  		call	l3a15					;
              										;
39EC:         	l39ec:								;
39EC: DDE1    		pop		ix						;
39EE: 21A900  		ld		hl, k_token				;
39F1: 0E9F    		ld		c, tk_rnd - 6			;
              										;
39F3:         	l39f3:								;
39F3: CD9B3A  		call	l3a9b					;
39F6: FE0D    		cp		ctrl_n_l				;
39F8: C8      		ret		z						;
39F9: FEEA    		cp		tk_rem					;
39FB: C8      		ret		z						;
39FC: C3013A  		jp		l3a01					;
              										;
39FF:         	l39ff:								;
39FF: FFFF    		defw	0xffff					;
              										;
3A01:         	l3a01:								;
3A01: FE22    		cp		'"'						;
3A03: 2010    		jr		nz, l3a15				;
              										;
3A05:         	l3a05:								;
3A05: DD23    		inc		ix						;
3A07: DD7E00  		ld		a, (ix + 0x00)			;
3A0A: FE0D    		cp		ctrl_n_l				;
3A0C: C8      		ret		z						;
3A0D: FE22    		cp		'"'						;
3A0F: 20F4    		jr		nz, l3a05				;
3A11: DD23    		inc		ix						;
3A13: 18DE    		jr		l39f3					;
              										;
3A15:         	l3a15:								;
3A15: DDE5    		push	ix						;
3A17: D1      		pop		de						;
3A18: BE      		cp		(hl)					;
3A19: 2025    		jr		nz, l3a40				;
              										;
3A1B:         	l3a1b:								;
3A1B: DD23    		inc		ix						;
              										;
3A1D:         	l3a1d:								;
3A1D: 23      		inc		hl						;
              										;
3A1E:         	l3a1e:								;
3A1E: CD9B3A  		call	l3a9b					;
3A21: FE2E    		cp		'.'						;
3A23: 283A    		jr		z, l3a5f				;
3A25: 46      		ld		b, (hl)					;
3A26: FE20    		cp		' '						;
3A28: 2828    		jr		z, l3a52				;
3A2A: F5      		push	af						;
3A2B: 78      		ld		a, b					;
3A2C: FE20    		cp		' '						;
3A2E: 2021    		jr		nz, l3a51				;
3A30: F1      		pop		af						;
3A31: 23      		inc		hl						;
3A32: 18EA    		jr		l3a1e					;
              										;
3A34:         	l3a34:								;
3A34: CB7E    		bit		7, (hl)					;
3A36: 28E3    		jr		z, l3a1b				;
3A38: DD7E01  		ld		a, (ix + 0x01)			;
3A3B: CD9E3A  		call	l3a9e					;
3A3E: 301F    		jr		nc, l3a5f				;
              										;
3A40:         	l3a40:								;
3A40: 0C      		inc		c						;
3A41: D5      		push	de						;
3A42: DDE1    		pop		ix						;
              										;
3A44:         	l3a44:								;
3A44: CB7E    		bit		7, (hl)					;
3A46: 23      		inc		hl						;
3A47: 28FB    		jr		z, l3a44				;
3A49: 79      		ld		a, c					;
3A4A: A7      		and		a						;
3A4B: 20A6    		jr		nz, l39f3				;
3A4D: DD23    		inc		ix						;
              										;
3A4F:         	l3a4f:								;
3A4F: 188A    		jr		l39db					;
              										;
3A51:         	l3a51:								;
3A51: F1      		pop		af						;
              										;
3A52:         	l3a52:								;
3A52: CBB8    		res		7, b					;
3A54: B8      		cp		b						;
3A55: 28DD    		jr		z, l3a34				;
3A57: 78      		ld		a, b					;
3A58: FE20    		cp		' '						;
3A5A: 20E4    		jr		nz, l3a40				;
3A5C: 23      		inc		hl						;
3A5D: 18BE    		jr		l3a1d					;
              										;
3A5F:         	l3a5f:								;
3A5F: DD7E01  		ld		a, (ix + 0x01)			;
3A62: FE20    		cp		' '						;
3A64: 2002    		jr		nz, l3a68				;
3A66: DD23    		inc		ix						;
              										;
3A68:         	l3a68:								;
3A68: 1B      		dec		de						;
3A69: 1A      		ld		a, (de)					;
3A6A: FE20    		cp		' '						;
3A6C: 2806    		jr		z, l3a74				;
3A6E: 13      		inc		de						;
3A6F: CD9E3A  		call	l3a9e					;
3A72: 38CC    		jr		c, l3a40				;
              										;
3A74:         	l3a74:								;
3A74: 0C      		inc		c						;
3A75: 0C      		inc		c						;
3A76: 0C      		inc		c						;
3A77: 0C      		inc		c						;
3A78: 0C      		inc		c						;
3A79: 0C      		inc		c						;
3A7A: DD7100  		ld		(ix + 0x00), c			;
3A7D: 2A5B5C  		ld		hl, (kcur)				;
3A80: A7      		and		a						;
3A81: ED52    		sbc		hl, de					;
3A83: 380D    		jr		c, l3a92				;
3A85: 19      		add		hl, de					;
3A86: DDE5    		push	ix						;
3A88: C1      		pop		bc						;
3A89: 37      		scf								;
3A8A: ED42    		sbc		hl, bc					;
3A8C: 3004    		jr		nc, l3a92				;
3A8E: ED535B5C		ld		(kcur), de				;
              										;
3A92:         	l3a92:								;
3A92: D5      		push	de						;
3A93: DDE3    		ex		(sp), ix				;
3A95: E1      		pop		hl						;
3A96: CDE519  		call	reclaim_1				;
3A99: 18B4    		jr		l3a4f					;
              										;
3A9B:         	l3a9b:								;
3A9B: DD7E00  		ld		a, (ix + 0x00)			;
              										;
3A9E:         	l3a9e:								;
3A9E: FDCB074E		bit		1, (iy + _mode)			;
3AA2: C0      		ret		nz						;
3AA3: CD8D2C  		call	alpha					;
3AA6: D0      		ret		nc						;
3AA7: E6DF    		and		%11011111				;
3AA9: C9      		ret								;
              										;
3AAA:         	l3aa9:								;
3AAA: 2A655C  		ld		hl, (stkend)			;
3AAD: 0602    		ld		b, 2					;
3AAF: FE0D    		cp		ctrl_n_l				;
3AB1: 2815    		jr		z, l3ac8				;
3AB3: FE3A    		cp		':'						;
3AB5: 2811    		jr		z, l3ac8				;
3AB7: CD821C  		call	class_6					;
3ABA: 0601    		ld		b, 1					;
              										;
3ABC:         	l3abc:								;
3ABC: DF      		rst		get_ch					;
3ABD: FE2C    		cp		','						;
3ABF: 2007    		jr		nz, l3ac8				;
3AC1: C5      		push	bc						;
3AC2: CD811C  		call	sexpt1num				;
3AC5: C1      		pop		bc						;
3AC6: 10F4    		djnz	l3abc					;
              										;
3AC8:         	l3ac8:								;
3AC8: CDEE1B  		call	check_end				;
3ACB: 78      		ld		a, b					;
3ACC: FE02    		cp		2						;
3ACE: 2806    		jr		z, l3ad6				;
3AD0: FE01    		cp		1						;
3AD2: 2805    		jr		z, l3ad9				;
3AD4: 1806    		jr		l3adc					;
              										;
3AD6:         	l3ad6:								;
              		fwait							;
3AD6: EF      		rst	28h
              		fstk10							;
3AD7: A4      		defb	0xa4
              		fce								;
3AD8: 38      		defb	0x38
              										;
3AD9:         	l3ad9:								;
              		fwait							;
3AD9: EF      		rst	28h
              		fstk10							;
3ADA: A4      		defb	0xa4
              		fce								;
3ADB: 38      		defb	0x38
              										;
3ADC:         	l3adc:								;
              		fwait							;
3ADC: EF      		rst	28h
              		fst		1						;
3ADD: C1      		defb	0xc0 + 1
              		fdel							;
3ADE: 02      		defb	0x02
              		fst		0						;
3ADF: C0      		defb	0xc0 + 0
              		fdel							;
3AE0: 02      		defb	0x02
              		fce								;
3AE1: 38      		defb	0x38
3AE2: ED5B535C		ld		de, (prog)				;
3AE6: 2A4B5C  		ld		hl, (vars)				;
3AE9: B7      		or		a						;
3AEA: ED52    		sbc		hl, de					;
3AEC: C8      		ret		z						;
3AED: CD443C  		call	l3c44					;
3AF0: 2A995C  		ld		hl, (mem_1_2)			;
3AF3: CDA930  		call	l30a9					;
3AF6: DA8B28  		jp		c, parerr				;
3AF9: EB      		ex		de, hl					;
3AFA: 2A945C  		ld		hl, (mem_0_2)			;
3AFD: 1802    		jr		l3b01					;
              										;
3AFF:         	l3aff:								;
3AFF: FFFF    		defw	0xffff					;
              										;
3B01:         	l3b01:								;
3B01: 19      		add		hl, de					;
3B02: 110040  		ld		de, 16384				;
3B05: B7      		or		a						;
3B06: ED52    		sbc		hl, de					;
3B08: D28B28  		jp		nc, parerr				;
3B0B: 2A535C  		ld		hl, (prog)				;
              										;
3B0E:         	l3b0e:								;
3B0E: CDB819  		call	next_one				;
3B11: 23      		inc		hl						;
3B12: 23      		inc		hl						;
3B13: 22A95C  		ld		(mem_4_3), hl			;
3B16: 23      		inc		hl						;
3B17: 23      		inc		hl						;
3B18: ED539C5C		ld		(mem_2), de				;
              										;
3B1C:         	l3b1c:								;
3B1C: 7E      		ld		a, (hl)					;
3B1D: CDB118  		call	number					;
3B20: FE0D    		cp		ctrl_n_l				;
3B22: 2805    		jr		z, l3b29				;
3B24: CD633B  		call	l3b63					;
3B27: 18F3    		JR		l3b1c					;
              										;
3B29:         	l3b29:								;
3B29: ED5B9C5C		ld		de, (mem_2)				;
3B2D: 2A4B5C  		ld		hl, (vars)				;
3B30: A7      		and		a						;
3B31: ED52    		sbc		hl, de					;
3B33: EB      		ex		de, hl					;
3B34: 20D8    		jr		nz, l3b0e				;
3B36: CD443C  		call	l3c44					;
3B39: 42      		ld		b, d					;
3B3A: 4B      		ld		c, e					;
3B3B: 110000  		ld		de, 0					;
3B3E: 2A535C  		ld		hl, (prog)				;
              										;
3B41:         	l3b41:								;
3B41: C5      		push	bc						;
3B42: D5      		push	de						;
3B43: E5      		push	hl						;
3B44: 2A995C  		ld		hl, (mem_1_2)			;
3B47: CDA930  		call	l30a9					;
3B4A: ED5B945C		ld		de, (mem_0_2)			;
3B4E: 19      		add		hl, de					;
3B4F: EB      		ex		de, hl					;
3B50: E1      		pop		hl						;
3B51: 72      		ld		(hl), d					;
3B52: 23      		inc		hl						;
3B53: 73      		ld		(hl), e					;
3B54: 23      		inc		hl						;
3B55: 4E      		ld		c, (hl)					;
3B56: 23      		inc		hl						;
3B57: 46      		ld		b, (hl)					;
3B58: 23      		inc		hl						;
3B59: 09      		add		hl, bc					;
3B5A: D1      		pop		de						;
3B5B: 13      		inc		de						;
3B5C: C1      		pop		bc						;
3B5D: 0B      		dec		bc						;
3B5E: 78      		ld		a, b					;
3B5F: B1      		or		c						;
3B60: 20DF    		jr		nz, l3b41				;
3B62: C9      		ret								;
              										;
3B63:         	l3b63:								;
3B63: 23      		inc		hl						;
3B64: 22A75C  		ld		(mem_4_1), hl			;
3B67: EB      		ex		de, hl					;
3B68: 010700  		ld		bc, 7					;
3B6B: 211E24  		ld		hl, l241e				;
3B6E: EDB1    		cpir							;
3B70: EB      		ex		de, hl					;
3B71: C0      		ret		nz						;
3B72: 0E00    		ld		c, 0					;
              										;
3B74:         	l3b74:								;
3B74: 7E      		ld		a, (hl)					;
3B75: FE20    		cp		' '						;
3B77: 281B    		jr		z, l3b94				;
3B79: CD1B2D  		call	numeric					;
3B7C: 3016    		jr		nc, l3b94				;
3B7E: FE2E    		cp		'.'						;
3B80: 2812    		jr		z, l3b94				;
3B82: FE0E    		cp		ctrl_number				;
3B84: 2812    		jr		z, l3b98				;
3B86: F620    		or		%00100000				;
3B88: FE65    		cp		'e'						;
3B8A: 2004    		jr		nz, l3b90				;
3B8C: 78      		ld		a, b					;
3B8D: B1      		or		c						;
3B8E: 2004    		jr		nz, l3b94				;
              										;
3B90:         	l3b90:								;
3B90: 2AA75C  		ld		hl, (mem_4_1)			;
3B93: C9      		ret								;
              										;
3B94:         	l3b94:								;
3B94: 03      		inc		bc						;
3B95: 23      		inc		hl						;
3B96: 18DC    		jr		l3b74					;
              										;
3B98:         	l3b98:								;
3B98: ED439E5C		ld		(mem_2_2), bc			;
3B9C: E5      		push	hl						;
3B9D: CDB118  		call	number					;
3BA0: CD773C  		call	l3c77					;
3BA3: 7E      		ld		a, (hl)					;
3BA4: E1      		pop		hl						;
3BA5: FE3A    		cp		':'						;
3BA7: 2803    		jr		z, l3bac				;
3BA9: FE0D    		cp		ctrl_n_l				;
3BAB: C0      		ret		nz						;
              										;
3BAC:         	l3bac:								;
3BAC: 23      		inc		hl						;
3BAD: CDB833  		call	l33b8					;
3BB0: CDA22D  		call	fp_to_bc				;
3BB3: 60      		ld		h, b					;
3BB4: 69      		ld		l, c					;
3BB5: CD6E19  		call	line_addr				;
3BB8: 3807    		jr		c, l3bc1				;
3BBA: 280A    		jr		z, l3bc6				;
3BBC: 7E      		ld		a, (hl)					;
3BBD: E6C0    		and		%11000000				;
3BBF: 2805    		jr		z, l3bc6				;
              										;
3BC1:         	l3bc1:								;
3BC1: 21FF3F  		ld		hl, 16383				;
3BC4: 1811    		jr		l3bd7					;
              										;
3BC6:         	l3bc6:								;
3BC6: 22A55C  		ld		(mem_3_4), hl			;
3BC9: CD4C3C  		call	l3c4c					;
3BCC: 2A995C  		ld		hl, (mem_1_2)			;
3BCF: CDA930  		call	l30a9					;
3BD2: ED5B945C		ld		de, (mem_0_2)			;
3BD6: 19      		add		hl, de					;
              										;
3BD7:         	l3bd7:								;
3BD7: 11A05C  		ld		de, mem_2_4				;
3BDA: E5      		push	hl						;
3BDB: CD7D3C  		call	l3c7d					;
3BDE: 58      		ld		e, b					;
3BDF: 1C      		inc		e						;
3BE0: 1600    		ld		d, 0					;
3BE2: D5      		push	de						;
3BE3: E5      		push	hl						;
3BE4: 6B      		ld		l, e					;
3BE5: 2600    		ld		h, 0					;
3BE7: ED4B9E5C		ld		bc, (mem_2_2)			;
3BEB: B7      		or		a						;
3BEC: ED42    		sbc		hl, bc					;
3BEE: 229E5C  		ld		(mem_2_2), hl			;
3BF1: 2818    		jr		z, l3c0b				;
3BF3: 380C    		jr		c, l3c01				;
3BF5: 44      		ld		b, h					;
3BF6: 4D      		ld		c, l					;
3BF7: 2AA75C  		ld		hl, (mem_4_1)			;
3BFA: CD5516  		call	make_room				;
3BFD: 180C    		jr		l3c0b					;
              										;
3BFF:         	l3bff:								;
3BFF: FFFF    		defw	0xffff					;
              										;
3C01:         	l3c01:								;
3C01: 0B      		dec		bc						;
3C02: 1D      		dec		e						;
3C03: 20FC    		jr		nz, l3c01				;
3C05: 2AA75C  		ld		hl, (mem_4_1)			;
3C08: CDE819  		call	reclaim_2				;
              										;
3C0B:         	l3c0b:								;
3C0B: ED5BA75C		ld		de, (mem_4_1)			;
3C0F: E1      		pop		hl						;
3C10: C1      		pop		bc						;
3C11: EDB0    		ldir							;
3C13: EB      		ex		de, hl					;
3C14: 360E    		ld		(hl), 14				;
3C16: C1      		pop		bc						;
3C17: 23      		inc		hl						;
3C18: E5      		push	hl						;
3C19: CD2F2D  		call	stack_bc1				;
3C1C: D1      		pop		de						;
3C1D: 010500  		ld		bc, 5					;
3C20: EDB0    		ldir							;
3C22: EB      		ex		de, hl					;
3C23: E5      		push	hl						;
3C24: CDA22D  		call	fp_to_bc				;
3C27: 2AA95C  		ld		hl, (mem_4_3)			;
3C2A: E5      		push	hl						;
3C2B: 5E      		ld		e, (hl)					;
3C2C: 23      		inc		hl						;
3C2D: 56      		ld		d, (hl)					;
3C2E: 2A9E5C  		ld		hl, (mem_2_2)			;
3C31: 19      		add		hl, de					;
3C32: EB      		ex		de, hl					;
3C33: E1      		pop		hl						;
3C34: 73      		ld		(hl), e					;
3C35: 23      		inc		hl						;
3C36: 72      		ld		(hl), d					;
3C37: 2A9C5C  		ld		hl, (mem_2)				;
3C3A: ED5B9E5C		ld		de, (mem_2_2)			;
3C3E: 19      		add		hl, de					;
3C3F: 229C5C  		ld		(mem_2), hl				;
3C42: E1      		pop		hl						;
3C43: C9      		ret								;
              										;
3C44:         	l3c44:								;
3C44: 2A4B5C  		ld		hl, (vars)				;
3C47: 22A55C  		ld		(mem_3_4), hl			;
3C4A: 180C    		jr		l3c58					;
              										;
3C4C:         	l3c4c:								;
3C4C: 2A535C  		ld		hl, (prog)				;
3C4F: ED5BA55C		ld		de, (mem_3_4)			;
3C53: B7      		or		a						;
3C54: ED52    		sbc		hl, de					;
3C56: 281A    		jr		z, l3c72				;
              										;
3C58:         	l3c58:								;
3C58: 2A535C  		ld		hl, (prog)				;
3C5B: 010000  		ld		bc, 0					;
              										;
3C5E:         	l3c5e:								;
3C5E: C5      		push	bc						;
3C5F: CDB819  		call	next_one				;
3C62: 2AA55C  		ld		hl, (mem_3_4)			;
3C65: A7      		and		a						;
3C66: ED52    		sbc		hl, de					;
3C68: 2805    		jr		z, l3c6f				;
3C6A: EB      		ex		de, hl					;
3C6B: C1      		pop		bc						;
3C6C: 03      		inc		bc						;
3C6D: 18EF    		jr		l3c5e					;
              										;
3C6F:         	l3c6f:								;
3C6F: D1      		pop		de						;
3C70: 13      		inc		de						;
3C71: C9      		ret								;
              										;
3C72:         	l3c72:								;
3C72: 110000  		ld		de, 0					;
3C75: C9      		ret								;
              										;
3C76:         	l3c76:								;
3C76: 23      		inc		hl						;
              										;
3C77:         	l3c77:								;
3C77: 7E      		ld		a, (hl)					;
3C78: FE20    		cp		' '						;
3C7A: 28FA    		jr		z, l3c76				;
3C7C: C9      		ret								;
              										;
3C7D:         	l3c7d:								;
3C7D: D5      		push	de						;
3C7E: 01F0D8  		ld		bc, -10000				;
3C81: CDA03C  		call	l3ca0					;
3C84: 0118FC  		ld		bc, -1000				;
3C87: CDA03C  		call	l3ca0					;
3C8A: 019CFF  		ld		bc, -100				;
3C8D: CDA03C  		call	l3ca0					;
3C90: 0EF6    		ld		c, -10					;
3C92: CDA03C  		call	l3ca0					;
3C95: 7D      		ld		a, l					;
3C96: C630    		add		a, '0'					;
3C98: 12      		ld		(de), a					;
3C99: 13      		inc		de						;
3C9A: 0604    		ld		b, 4					;
3C9C: E1      		pop		hl						;
3C9D: C31424  		jp		l2414					;
              										;
3CA0:         	l3ca0:								;
3CA0: AF      		xor		a						;
              										;
3CA1:         	l3ca1:								;
3CA1: 09      		add		hl, bc					;
3CA2: 3C      		inc		a						;
3CA3: 38FC    		jr		c, l3ca1				;
3CA5: C37E0A  		jp		l0a7e					;
              										;
3CA8:         	scanfix:							;
3CA8: ED73FE5B		ld		(oldsp), sp				;
3CAC: 210600  		ld		hl, 6					;
3CAF: 39      		add		hl, sp					;
3CB0: 5E      		ld		e, (hl)					;
3CB1: 23      		inc		hl						;
3CB2: 56      		ld		d, (hl)					;
3CB3: 62      		ld		h, d					;
3CB4: 6B      		ld		l, e					;
              										;
3CB5:         	nextchar:							;
3CB5: 23      		inc		hl						;
3CB6: 7E      		ld		a, (hl)					;
              										;
3CB7:         	nextchar2:							;
3CB7: FE29    		cp		')'						;
3CB9: 2809    		jr		z, endfn				;
3CBB: FE0E    		cp		0x0e					;
3CBD: 20F6    		jr		nz, nextchar			;
3CBF: CDB418  		call	l18b4					;
3CC2: 18F3    		jr		nextchar2				;
              										;
3CC4:         	endfn:								;
3CC4: B7      		or		a						;
3CC5: ED52    		sbc		hl, de					;
3CC7: 44      		ld		b, h					;
3CC8: 4D      		ld		c, l					;
3CC9: 7C      		ld		a, h					;
3CCA: 2F      		cpl								;
3CCB: 67      		ld		h, a					;
3CCC: 7D      		ld		a, l					;
3CCD: 2F      		cpl								;
3CCE: 6F      		ld		l, a					;
3CCF: 23      		inc		hl						;
3CD0: 39      		add		hl, sp					;
3CD1: F9      		ld		sp, hl					;
3CD2: EB      		ex		de, hl					;
3CD3: DD2AFE5B		ld		ix, (oldsp)				;
3CD7: DDE5    		push	ix						;
3CD9: D5      		push	de						;
3CDA: E5      		push	hl						;
3CDB: C5      		push	bc						;
3CDC: EDB0    		ldir							;
3CDE: CDFB24  		call	scanning				;
3CE1: C1      		pop		bc						;
3CE2: D1      		pop		de						;
3CE3: E1      		pop		hl						;
3CE4: C3B711  		jp		l11cb					;
              										;
3CE7: 00      		defb	0x00					; end of code
              										;
3CE8:         	cursors:							;
3CE8: 003C1818		incbin		"data/cursors.data"		;
3CEC: 18183C00	
3CF0: 00000000	
3CF4: 3C3C3C00	
3CF8: 003C3C3C	
3CFC: 00000000	
              										;
3D00:         	font:								;
3D00: 00000000		incbin		"data/GenevaMono.data"	;
3D04: 00000000	
3D08: 10101010	
3D0C: 10001000	
3D10: 28280000	
3D14: 00000000	
3D18: 147C287C	
3D1C: 50000000	
3D20: 38545038	
3D24: 14543810	
3D28: 3C54583C	
3D2C: 1A2A2400	
3D30: 1028102A	
3D34: 44443A00	
3D38: 10100000	
3D3C: 00000000	
3D40: 08102020	
3D44: 20201008	
3D48: 20100808	
3D4C: 08081020	
3D50: 10543828	
3D54: 44000000	
3D58: 0010107C	
3D5C: 10100000	
3D60: 00000000	
3D64: 00101020	
3D68: 0000003C	
3D6C: 00000000	
3D70: 00000000	
3D74: 00001000	
3D78: 04040808	
3D7C: 10102020	
3D80: 38444C54	
3D84: 64443800	
3D88: 10301010	
3D8C: 10101000	
3D90: 38440408	
3D94: 10207C00	
3D98: 7C081038	
3D9C: 04443800	
3DA0: 08182848	
3DA4: 7C080800	
3DA8: 7C407804	
3DAC: 04443800	
3DB0: 18204078	
3DB4: 44443800	
3DB8: 7C040808	
3DBC: 10101000	
3DC0: 38444438	
3DC4: 44443800	
3DC8: 3844443C	
3DCC: 04083000	
3DD0: 00001000	
3DD4: 00001000	
3DD8: 00001000	
3DDC: 00101020	
3DE0: 00081020	
3DE4: 10080000	
3DE8: 00007C00	
3DEC: 7C000000	
3DF0: 00201008	
3DF4: 10200000	
3DF8: 18240408	
3DFC: 10001000	
3E00: 18245A6A	
3E04: 6A5C2018	
3E08: 10102828	
3E0C: 7C444400	
3E10: 78444478	
3E14: 44447800	
3E18: 38444040	
3E1C: 40443800	
3E20: 70484444	
3E24: 44487000	
3E28: 3C202038	
3E2C: 20203C00	
3E30: 3C202038	
3E34: 20202000	
3E38: 3844404C	
3E3C: 44443800	
3E40: 4444447C	
3E44: 44444400	
3E48: 10101010	
3E4C: 10101000	
3E50: 04040404	
3E54: 44443800	
3E58: 44485060	
3E5C: 50484400	
3E60: 20202020	
3E64: 20203C00	
3E68: 446C5444	
3E6C: 44444400	
3E70: 64645454	
3E74: 4C4C4400	
3E78: 38444444	
3E7C: 44443800	
3E80: 78444478	
3E84: 40404000	
3E88: 38444444	
3E8C: 44543808	
3E90: 78444478	
3E94: 50484400	
3E98: 38444038	
3E9C: 04443800	
3EA0: 7C101010	
3EA4: 10101000	
3EA8: 44444444	
3EAC: 44443800	
3EB0: 44444428	
3EB4: 28101000	
3EB8: 44445454	
3EBC: 28282800	
3EC0: 44442810	
3EC4: 28444400	
3EC8: 44442810	
3ECC: 10101000	
3ED0: 3C040810	
3ED4: 20203C00	
3ED8: 18101010	
3EDC: 10101018	
3EE0: 20201010	
3EE4: 08080404	
3EE8: 30101010	
3EEC: 10101030	
3EF0: 10280000	
3EF4: 00000000	
3EF8: 00000000	
3EFC: 0000007E	
3F00: 18202070	
3F04: 20247800	
3F08: 00001804	
3F0C: 1C241C00	
3F10: 20203824	
3F14: 24243800	
3F18: 00001824	
3F1C: 20241800	
3F20: 04041C24	
3F24: 24241C00	
3F28: 00001824	
3F2C: 3C201800	
3F30: 0C103810	
3F34: 10101000	
3F38: 00001C24	
3F3C: 241C0418	
3F40: 20203824	
3F44: 24242400	
3F48: 10001010	
3F4C: 10101000	
3F50: 08000808	
3F54: 08080830	
3F58: 20202428	
3F5C: 30282400	
3F60: 10101010	
3F64: 10100800	
3F68: 00006854	
3F6C: 54545400	
3F70: 00003824	
3F74: 24242400	
3F78: 00001824	
3F7C: 24241800	
3F80: 00003824	
3F84: 24382020	
3F88: 00001C24	
3F8C: 241C0404	
3F90: 00002C30	
3F94: 20202000	
3F98: 00001C20	
3F9C: 18043800	
3FA0: 10103810	
3FA4: 10100800	
3FA8: 00002424	
3FAC: 24241800	
3FB0: 00004428	
3FB4: 28101000	
3FB8: 00004444	
3FBC: 54282800	
3FC0: 00004428	
3FC4: 10284400	
3FC8: 00004428	
3FCC: 28101060	
3FD0: 00003C08	
3FD4: 10203C00	
3FD8: 08101020	
3FDC: 10101008	
3FE0: 10101000	
3FE4: 00101010	
3FE8: 20101008	
3FEC: 10101020	
3FF0: 34580000	
3FF4: 00000000	
3FF8: 18245A62	
3FFC: 625A2418	
              	
***ERROR*** No such file or directory: file = "/pub/Develop/Projects/zasm-4.0/Test/Z80/original/opense." (fd108)


; +++ segments +++

#CODE          = $0000 =     0,  size = $4000 = 16384

; +++ global symbols +++

.eq       = $0005 =     5          opense.def:14 (unused)
.ge       = $0001 =     1          opense.def:10 (unused)
.gt       = $0003 =     3          opense.def:12 (unused)
.gz       = $002E =    46          opense.def:16
.le       = $0000 =     0          opense.def:9 (unused)
.lt       = $0004 =     4          opense.def:13 (unused)
.lz       = $002D =    45          opense.def:15
.ne       = $0002 =     2          opense.def:11 (unused)
BREAK_CONTINUE_repeats = $000C =    12          opense.def:493
BREAK_into_program = $0014 =    20          opense.def:501
Bad_CLEAR_address = $0015 =    21          opense.def:502
Bad_argument = $0009 =     9          opense.def:490
Bad_colour = $0013 =    19          opense.def:500
Bad_device = $0012 =    18          opense.def:499
Bad_filename = $000E =    14          opense.def:495
Bad_stream = $0017 =    23          opense.def:504
Bad_subscript = $0002 =     2          opense.def:483
End_of_DATA = $000D =    13          opense.def:494
End_of_file = $0007 =     7          opense.def:488
FOR_without_NEXT = $0011 =    17          opense.def:498
Integer_out_of_range = $000A =    10          opense.def:491
Loading_error = $001A =    26          opense.def:507
Missing_statement = $0016 =    22          opense.def:503
NEXT_without_FOR = $0000 =     0          opense.def:481
No_room_for_line = $000F =    15          opense.def:496 (unused)
Number_too_large = $0005 =     5          opense.def:486
OK        = $00FF =   255          opense.def:480
Off_screen = $0004 =     4          opense.def:485
Out_of_memory = $0003 =     3          opense.def:484
Parameter_error = $0019 =    25          opense.def:506
RETURN_without_GOSUB = $0006 =     6          opense.def:487
STOP_in_INPUT = $0010 =    16          opense.def:497
STOP_statement = $0008 =     8          opense.def:489
Syntax_error = $000B =    11          opense.def:492
Undefined_FN = $0018 =    24          opense.def:505
Undefined_variable = $0001 =     1          opense.def:482
_attrp    = $0053 =    83          opense.def:742 (unused)
_attrt    = $0055 =    85          opense.def:744 (unused)
_bc_spaces = $0030 =    48          opense.asm:140 (unused)
_bordcr   = $000E =    14          opense.def:695
_breg     = $002D =    45          opense.def:715
_chadd    = $0023 =    35          opense.def:708 (unused)
_chans    = $0015 =    21          opense.def:700 (unused)
_chars    = $0004 =     4          opense.def:679 (unused)
_click    = $0001 =     1          opense.def:681 (unused)
_coppc    = $0034 =    52          opense.def:720 (unused)
_cosppc   = $0036 =    54          opense.def:721
_curchl   = $0017 =    23          opense.def:701 (unused)
_datadd   = $001D =    29          opense.def:704 (unused)
_defadd   = $002F =    47          opense.def:655 (unused)
_defadd_h = $002E =    46          opense.def:656 (unused)
_dest     = $0013 =    19          opense.def:699 (unused)
_dfcc     = $004A =    74          opense.def:735 (unused)
_dfccl    = $004C =    76          opense.def:736 (unused)
_dflag    = $0002 =     2          opense.def:687
_dfsz     = $0031 =    49          opense.def:718
_dotnames_ = $0001 =     1          :1 (unused)
_echoe    = $0048 =    72          opense.def:734 (unused)
_eline    = $001F =    31          opense.def:705 (unused)
_end      = $4000 = 16384          opense.asm:87 (unused)
_eppc     = $000F =    15          opense.def:696 (unused)
_eppc_h   = $0010 =    16          opense.def:697 (unused)
_errnr    = $0000 =     0          opense.def:685
_error_1  = $0008 =     8          opense.asm:103 (unused)
_errsound = $0002 =     2          opense.def:680
_errsp    = $0003 =     3          opense.def:688 (unused)
_flage    = $0037 =    55          opense.def:722
_flags    = $0001 =     1          opense.def:686
_fp_calc  = $0028 =    40          opense.asm:130 (unused)
_frames   = $003E =    62          opense.def:726 (unused)
_frames_h = $0040 =    64          opense.def:727 (unused)
_get_ch   = $0018 =    24          opense.asm:115
_if       = $1CF0 =  7408          opense.asm:4791
_interrupt = $0038 =    56          opense.asm:146 (unused)
_kcur     = $0021 =    33          opense.def:706 (unused)
_kcur_h   = $0022 =    34          opense.def:707
_kdata    = $002D =    45          opense.def:657
_klflag   = $0030 =    48          opense.def:717
_kstate   = $003A =    58          opense.def:650
_kstate_4 = $0036 =    54          opense.def:651
_lastk    = $0032 =    50          opense.def:652 (unused)
_listsp   = $0005 =     5          opense.def:689 (unused)
_maskp    = $0054 =    84          opense.def:743 (unused)
_maskt    = $0056 =    86          opense.def:745 (unused)
_mem      = $002E =    46          opense.def:716 (unused)
_mem_0_1  = $0059 =    89          opense.def:748 (unused)
_mem_0_2  = $005A =    90          opense.def:749 (unused)
_mem_0_3  = $005B =    91          opense.def:750 (unused)
_mem_0_4  = $005C =    92          opense.def:751 (unused)
_mem_1    = $005D =    93          opense.def:752 (unused)
_mem_1_1  = $005E =    94          opense.def:753 (unused)
_mem_1_2  = $005F =    95          opense.def:754 (unused)
_mem_1_3  = $0060 =    96          opense.def:755 (unused)
_mem_1_4  = $0061 =    97          opense.def:756 (unused)
_mem_2    = $0062 =    98          opense.def:757
_mem_2_1  = $0063 =    99          opense.def:758 (unused)
_mem_2_2  = $0064 =   100          opense.def:759 (unused)
_mem_2_3  = $0065 =   101          opense.def:760 (unused)
_mem_2_4  = $0066 =   102          opense.def:761 (unused)
_mem_3    = $0067 =   103          opense.def:762 (unused)
_mem_3_1  = $0068 =   104          opense.def:763 (unused)
_mem_3_2  = $0069 =   105          opense.def:764 (unused)
_mem_3_3  = $006A =   106          opense.def:765 (unused)
_mem_3_4  = $006B =   107          opense.def:766 (unused)
_mem_4    = $006C =   108          opense.def:767 (unused)
_mem_4_1  = $006D =   109          opense.def:768 (unused)
_mem_4_2  = $006E =   110          opense.def:769 (unused)
_mem_4_3  = $006F =   111          opense.def:770
_mem_4_4  = $0070 =   112          opense.def:771 (unused)
_mem_5    = $0071 =   113          opense.def:772
_mem_5_1  = $0072 =   114          opense.def:773
_mem_5_2  = $0073 =   115          opense.def:774 (unused)
_mem_5_3  = $0074 =   116          opense.def:775 (unused)
_mem_5_4  = $0075 =   117          opense.def:776 (unused)
_membot   = $0058 =    88          opense.def:747 (unused)
_mode     = $0007 =     7          opense.def:690
_newppc   = $0008 =     8          opense.def:691 (unused)
_next_ch  = $0020 =    32          opense.asm:123 (unused)
_nmiadd   = $0076 =   118          opense.def:777 (unused)
_nsppc    = $000A =    10          opense.def:692
_nxtline  = $001B =    27          opense.def:703 (unused)
_oldsp    = $0038 =    56          opense.def:649 (unused)
_onerrflag = $0045 =    69          opense.def:731 (unused)
_onerrflag_h = $0046 =    70          opense.def:732
_out      = $1E7A =  7802          opense.asm:5078
_pflag    = $0057 =    87          opense.def:746
_ppc      = $000B =    11          opense.def:693 (unused)
_pramt    = $007A =   122          opense.def:779 (unused)
_print_a  = $0010 =    16          opense.asm:108 (unused)
_prog     = $0019 =    25          opense.def:702 (unused)
_ramtop   = $0078 =   120          opense.def:778 (unused)
_repdel   = $0031 =    49          opense.def:653 (unused)
_repper   = $0030 =    48          opense.def:654 (unused)
_reqcolon_ = $0001 =     1          :1 (unused)
_scrct    = $0052 =    82          opense.def:741
_sdtop    = $0032 =    50          opense.def:719 (unused)
_seed     = $003C =    60          opense.def:725 (unused)
_size     = $4000 = 16384          opense.asm:87 (unused)
_sposnl   = $0050 =    80          opense.def:739
_sposnl_h = $0051 =    81          opense.def:740 (unused)
_sposnu   = $004E =    78          opense.def:737 (unused)
_sposnu_h = $004F =    79          opense.def:738
_start    = $0000 =     0          opense.asm:93 (unused)
_stkbot   = $0029 =    41          opense.def:712 (unused)
_stkend   = $002B =    43          opense.def:713 (unused)
_stkend_h = $002C =    44          opense.def:714 (unused)
_stril    = $0038 =    56          opense.def:723
_strms    = $002A =    42          opense.def:660 (unused)
_strms_00 = $0024 =    36          opense.def:663 (unused)
_strms_01 = $0022 =    34          opense.def:664 (unused)
_strms_02 = $0020 =    32          opense.def:665 (unused)
_strms_03 = $001E =    30          opense.def:666 (unused)
_strms_04 = $001C =    28          opense.def:667 (unused)
_strms_05 = $001A =    26          opense.def:668 (unused)
_strms_06 = $0018 =    24          opense.def:669 (unused)
_strms_07 = $0016 =    22          opense.def:670 (unused)
_strms_08 = $0014 =    20          opense.def:671 (unused)
_strms_09 = $0012 =    18          opense.def:672 (unused)
_strms_10 = $0010 =    16          opense.def:673 (unused)
_strms_11 = $000E =    14          opense.def:674 (unused)
_strms_12 = $000C =    12          opense.def:675 (unused)
_strms_13 = $000A =    10          opense.def:676 (unused)
_strms_14 = $0008 =     8          opense.def:677 (unused)
_strms_15 = $0006 =     6          opense.def:678 (unused)
_strms_fe = $0028 =    40          opense.def:661 (unused)
_strms_ff = $0026 =    38          opense.def:662 (unused)
_subppc   = $000D =    13          opense.def:694
_taddr    = $003A =    58          opense.def:724 (unused)
_udg      = $0041 =    65          opense.def:728 (unused)
_user     = $0047 =    71          opense.def:733 (unused)
_vars     = $0011 =    17          opense.def:698 (unused)
_vdudata  = $002C =    44          opense.def:658 (unused)
_vdudata_h = $002B =    43          opense.def:659 (unused)
_worksp   = $0027 =    39          opense.def:711 (unused)
_xcoord   = $0043 =    67          opense.def:729 (unused)
_xptr     = $0025 =    37          opense.def:709 (unused)
_xptr_h   = $0026 =    38          opense.def:710
_ycoord   = $0044 =    68          opense.def:730 (unused)
add_back  = $3004 = 12292          opense.asm:8536
add_char  = $0F81 =  3969          opense.asm:2556
add_rep_6 = $309F = 12447          opense.asm:8678
addend_0  = $2FF9 = 12281          opense.asm:8524
addition  = $303E = 12350          opense.asm:8599
addresses = $32DE = 13022          opense.asm:9175
all_added = $300D = 12301          opense.asm:8546
alpha     = $2C8D = 11405          opense.asm:7774
alphanum  = $2C88 = 11400          opense.asm:7769
anyi      = $0046 =    70          opense.asm:158
atsr4     = $201E =  8222          opense.asm:5382
attrmap   = $5800 = 22528          opense.def:513
attrp     = $5C8D = 23693          opense.def:604
attrt     = $5C8F = 23695          opense.def:606
aul4      = $17E1 =  6113          opense.asm:3695
autolist  = $1795 =  6037          opense.asm:3657
ay_128dat = $BFFD = 49149          opense.def:444
ay_reg    = $C0F5 = 49397          opense.def:442
ay_tmxdat = $00F6 =   246          opense.def:443
bc_spaces = $0030 =    48          opense.def:457
bc_spaces1 = $002D =    45          opense.asm:137
bit_5_nil = $19D6 =  6614          opense.asm:4087
bitmap    = $4000 = 16384          opense.def:512
bits_zero = $3283 = 12931          opense.asm:9102
black     = $0000 =     0          opense.def:255
blue      = $0001 =     1          opense.def:256
bordcr    = $5C48 = 23624          opense.def:559
both_null = $354A = 13642          opense.asm:9686
break_1   = $1F54 =  8020          opense.asm:5245
breg      = $5C67 = 23655          opense.def:577
byte_comp = $353C = 13628          opense.asm:9671
byte_zero = $327E = 12926          opense.asm:9097
c_ent     = $3788 = 14216          opense.asm:10129
calculate = $3362 = 13154          opense.asm:9243
cases     = $37C3 = 14275          opense.asm:10177
ch_add_1  = $0074 =   116          opense.asm:199
chadd     = $5C5D = 23645          opense.def:571
chanflag  = $1615 =  5653          opense.asm:3333
channels  = $5CB6 = 23734          opense.def:642
chans     = $5C4F = 23631          opense.def:564
chantab   = $15AF =  5551          opense.asm:3254
chars     = $5C36 = 23606          opense.def:546
check_end = $1BEE =  7150          opense.asm:4590
chltchk   = $21D6 =  8662          opense.asm:5645
chr_var   = $0004 =     4          opense.def:467
circle    = $2320 =  8992          opense.asm:5912
citem     = $21E2 =  8674          opense.asm:5658
citemsr   = $21F2 =  8690          opense.asm:5668
class_0   = $1C10 =  7184          opense.asm:4623
class_1   = $1C1F =  7199          opense.asm:4638
class_2   = $1C4E =  7246          opense.asm:4668
class_3   = $1C0D =  7181          opense.asm:4620
class_4   = $1C6C =  7276          opense.asm:4691
class_4_2 = $1C22 =  7202          opense.asm:4641
class_5   = $1C11 =  7185          opense.asm:4626
class_6   = $1C82 =  7298          opense.asm:4712
class_7   = $1C96 =  7318          opense.asm:4727
class_8   = $1C7A =  7290          opense.asm:4704
class_9   = $1CBE =  7358          opense.asm:4751
class_a   = $1C8C =  7308          opense.asm:4721
class_b   = $1CDB =  7387          opense.asm:4770
class_c   = $1C51 =  7249          opense.asm:4672
clear     = $1EAC =  7852          opense.asm:5121
click     = $5C39 = 23609          opense.def:548
clr1      = $1EAF =  7855          opense.asm:5124
clr3      = $1EB7 =  7863          opense.asm:5130
clr4      = $1EDC =  7900          opense.asm:5152
cls       = $0D6B =  3435          opense.asm:2183
clslower  = $0D6E =  3438          opense.asm:2186
cltab     = $162D =  5677          opense.asm:3351
cochng    = $226C =  8812          opense.asm:5767
cofbok    = $2287 =  8839          opense.asm:5793
coinverse = $2228 =  8744          opense.asm:5709
col_offst = $0007 =     7          opense.def:470
command   = $1C00 =  7168          opense.asm:4605
constants = $32C5 = 12997          opense.asm:9169
cont      = $1E5F =  7775          opense.asm:5059
coppc     = $5C6E = 23662          opense.def:582
copy      = $0B1C =  2844          opense.asm:1761
copy_over = $157D =  5501          opense.asm:3215
cosppc    = $5C70 = 23664          opense.def:583
cotemp4   = $21FC =  8700          opense.asm:5678
count_one = $31FA = 12794          opense.asm:8989
cp_lines  = $1980 =  6528          opense.asm:4007
ctk_clear = $001E =    30          opense.def:333 (unused)
ctk_cls   = $001C =    28          opense.def:331 (unused)
ctk_continue = $0009 =     9          opense.def:310 (unused)
ctk_data  = $0005 =     5          opense.def:304 (unused)
ctk_dim   = $000A =    10          opense.def:311 (unused)
ctk_draw  = $001D =    29          opense.def:332 (unused)
ctk_for   = $000C =    12          opense.def:313 (unused)
ctk_gosub = $000E =    14          opense.def:317 (unused)
ctk_if    = $001B =    27          opense.def:330 (unused)
ctk_input = $000F =    15          opense.def:318 (unused)
ctk_let   = $0012 =    18          opense.def:321 (unused)
ctk_list  = $0011 =    17          opense.def:320 (unused)
ctk_llist = $0002 =     2          opense.def:301 (unused)
ctk_load  = $0010 =    16          opense.def:319 (unused)
ctk_lprint = $0001 =     1          opense.def:300 (unused)
ctk_new   = $0007 =     7          opense.def:306 (unused)
ctk_next  = $0014 =    20          opense.def:323 (unused)
ctk_out   = $0000 =     0          opense.def:299 (unused)
ctk_pause = $0013 =    19          opense.def:322 (unused)
ctk_plot  = $0017 =    23          opense.def:326 (unused)
ctk_poke  = $0015 =    21          opense.def:324 (unused)
ctk_print = $0016 =    22          opense.def:325 (unused)
ctk_randomize = $001A =    26          opense.def:329 (unused)
ctk_read  = $0004 =     4          opense.def:303 (unused)
ctk_rem   = $000B =    11          opense.def:312 (unused)
ctk_restore = $0006 =     6          opense.def:305 (unused)
ctk_return = $001F =    31          opense.def:334 (unused)
ctk_run   = $0018 =    24          opense.def:327 (unused)
ctk_save  = $0019 =    25          opense.def:328 (unused)
ctk_stop  = $0003 =     3          opense.def:302 (unused)
ctrl_at   = $0016 =    22          opense.def:287
ctrl_bright = $0013 =    19          opense.def:284 (unused)
ctrl_caps = $0006 =     6          opense.def:269
ctrl_comma = $0006 =     6          opense.def:270
ctrl_down = $000A =    10          opense.def:274
ctrl_edit = $0007 =     7          opense.def:271
ctrl_flash = $0012 =    18          opense.def:283 (unused)
ctrl_graphics = $000F =    15          opense.def:280
ctrl_inv_vid = $0005 =     5          opense.def:268
ctrl_inverse = $0014 =    20          opense.def:285 (unused)
ctrl_left = $0008 =     8          opense.def:272
ctrl_n_l  = $000D =    13          opense.def:277
ctrl_number = $000E =    14          opense.def:279
ctrl_over = $0015 =    21          opense.def:286 (unused)
ctrl_paper = $0011 =    17          opense.def:282 (unused)
ctrl_pen  = $0010 =    16          opense.def:281
ctrl_right = $0009 =     9          opense.def:273
ctrl_rubout = $000C =    12          opense.def:276
ctrl_symbol = $000E =    14          opense.def:278
ctrl_tab  = $0017 =    23          opense.def:288
ctrl_true_vid = $0004 =     4          opense.def:267
ctrl_up   = $000B =    11          opense.def:275
curchl    = $5C51 = 23633          opense.def:565
cursor    = $0FA0 =  4000          opense.asm:2581
cursor_so = $0077 =   119          opense.asm:202
cursors   = $3CE8 = 15592          opense.asm:11111 (unused)
cyan      = $0005 =     5          opense.def:260 (unused)
d_letter  = $2C1F = 11295          opense.asm:7685
d_no_loop = $2C2E = 11310          opense.asm:7697
d_rport_c = $2C05 = 11269          opense.asm:7670
d_run     = $2C15 = 11285          opense.asm:7678
d_size    = $2C2D = 11309          opense.asm:7694
datadd    = $5C57 = 23639          opense.def:568
de_de_1   = $2AEE = 10990          opense.asm:7451
dec_to_fp = $2C9B = 11419          opense.asm:7786
decint    = $2CCB = 11467          opense.asm:7819
defadd    = $5C0B = 23563          opense.def:522
defadd_h  = $5C0C = 23564          opense.def:523
dest      = $5C4D = 23629          opense.def:563
dfcc      = $5C84 = 23684          opense.def:597
dfccl     = $5C86 = 23686          opense.def:598
dflag     = $5C3C = 23612          opense.def:551
dfsz      = $5C6B = 23659          opense.def:580
differ    = $19DD =  6621          opense.asm:4098
digit_inc = $192B =  6443          opense.asm:3945
dim       = $2C02 = 11266          opense.asm:7667
dim_sizes = $2C7F = 11391          opense.asm:7759
div_loop  = $31D2 = 12754          opense.asm:8951
div_start = $31E2 = 12770          opense.asm:8966
divn_expt = $313D = 12605          opense.asm:8818
double_a  = $3390 = 13200          opense.asm:9284
down_key  = $0FEB =  4075          opense.asm:2626
e_format  = $2CEB = 11499          opense.asm:7851
e_fp      = $2D18 = 11544          opense.asm:7883
e_to_fp   = $2D4F = 11599          opense.asm:7937
echoe     = $5C82 = 23682          opense.def:596
edag      = $0F30 =  3888          opense.asm:2511
eder      = $107F =  4223          opense.asm:2748
edit_key  = $0FA9 =  4009          opense.asm:2592
editor    = $0F2C =  3884          opense.asm:2507
eline     = $5C59 = 23641          opense.def:569
eline_no  = $19FB =  6651          opense.asm:4128
end_compl = $30A3 = 12451          opense.asm:8682
end_tests = $3564 = 13668          opense.asm:9715
endfn     = $3CC4 = 15556          opense.asm:11082
ent_table = $3392 = 13202          opense.asm:9288
eppc      = $5C49 = 23625          opense.def:560
eppc_h    = $5C4A = 23626          opense.def:561 (unused)
errnr     = $5C3A = 23610          opense.def:549
error_1   = $0008 =     8          opense.def:452
error_2   = $0053 =    83          opense.asm:172
error_3   = $0055 =    85          opense.asm:176
errsound  = $5C38 = 23608          opense.def:547
errsp     = $5C3D = 23613          opense.def:552
ex_or_not = $351D = 13597          opense.asm:9646
exit      = $3697 = 13975          opense.asm:9962
expr_num_str = $0002 =     2          opense.def:465
fetch_two = $2FBA = 12218          opense.asm:8465
fetchi    = $2D7F = 11647          opense.asm:7988
fincstat  = $19AD =  6573          opense.asm:4050
find_int  = $1E99 =  7833          opense.asm:5104
first_38  = $3387 = 13191          opense.asm:9277
flage     = $5C71 = 23665          opense.def:584
flags     = $5C3B = 23611          opense.def:550
fnsy4     = $27E9 = 10217          opense.asm:6856
fnsy5     = $27E6 = 10214          opense.asm:6853
fnsyn     = $27D0 = 10192          opense.asm:6835
font      = $3D00 = 15616          opense.asm:11114
for       = $1D03 =  7427          opense.asm:4805
form_exp  = $33E1 = 13281          opense.asm:9352
fp_0_1    = $34E7 = 13543          opense.asm:9593
fp_a_end  = $2DE1 = 11745          opense.asm:8086
fp_calc   = $0028 =    40          opense.def:456 (unused)
fp_to_a   = $2DD5 = 11733          opense.asm:8075
fp_to_bc  = $2DA2 = 11682          opense.asm:8028
fpbcint   = $2DAD = 11693          opense.asm:8040
fptrunct  = $323D = 12861          opense.asm:9040
frames    = $5C78 = 23672          opense.def:588
frames_h  = $5C7A = 23674          opense.def:589 (unused)
frst_less = $355D = 13661          opense.asm:9704
function  = $1076 =  4214          opense.asm:2741
g_loop    = $3437 = 13367          opense.asm:9434
gen_ent_1 = $3365 = 13157          opense.asm:9246
gen_ent_2 = $3369 = 13161          opense.asm:9250
get_ch    = $0018 =    24          opense.def:454
get_param = $1B55 =  6997          opense.asm:4481
getbyte   = $1E94 =  7828          opense.asm:5100
getibc    = $1E9C =  7836          opense.asm:5107
go_nc_mlt = $30A5 = 12453          opense.asm:8686
gosub     = $1EED =  7917          opense.asm:5165
goto      = $1E67 =  7783          opense.asm:5064
goto_2    = $1E73 =  7795          opense.asm:5073
graphics  = $107C =  4220          opense.asm:2745
gre_8     = $370F = 14095          opense.asm:10049
green     = $0004 =     4          opense.def:259 (unused)
hl_again  = $30BC = 12476          opense.asm:8706
hl_hl_de  = $2AF4 = 10996          opense.asm:7459
hl_loop   = $30B1 = 12465          opense.asm:8697
hl_over   = $30BE = 12478          opense.asm:8709
i_carry   = $2AE8 = 10984          opense.asm:7442
i_restore = $2AEB = 10987          opense.asm:7446
iderr     = $15C4 =  5572          opense.asm:3265
iminkeys  = $2634 =  9780          opense.asm:6570
imposs    = $1DE9 =  7657          opense.asm:4977
initial   = $1216 =  4630          opense.asm:3003
initpal   = $0CF7 =  3319          opense.asm:91
inp2      = $20D8 =  8408          opense.asm:5505
inp7      = $2129 =  8489          opense.asm:5552
inp9      = $215E =  8542          opense.asm:5577
inpas     = $21B9 =  8633          opense.asm:5625
inperr    = $213A =  8506          opense.asm:5561
input     = $2089 =  8329          opense.asm:5465
input_rep = $1C59 =  7257          opense.asm:4679
inputad   = $15E6 =  5606          opense.asm:3285
int_exp1  = $2ACC = 10956          opense.asm:7419
int_exp2  = $2ACD = 10957          opense.asm:7422
int_to_fp = $2D3B = 11579          opense.asm:7918
interrupt = $0038 =    56          opense.def:458 (unused)
invarg    = $34C3 = 13507          opense.asm:9552
invcolerr = $2244 =  8772          opense.asm:5733
invstrm   = $160E =  5646          opense.asm:3324
invstrm2  = $1725 =  5925          opense.asm:3556
ioorerr   = $046C =  1132          opense.asm:618
ipitem    = $20C1 =  8385          opense.asm:5492
ix_end    = $3290 = 12944          opense.asm:9114
jump_2    = $365C = 13916          opense.asm:9894
k_function = $026A =   618          opense.asm:255
k_graphic = $0284 =   644          opense.asm:258
k_shifted = $0260 =   608          opense.asm:250
k_token   = $00A9 =   169          opense.asm:244
k_unshifted = $0239 =   569          opense.asm:247
kcur      = $5C5B = 23643          opense.def:570
kdata     = $5C0D = 23565          opense.def:524
keyboard  = $028E =   654          opense.asm:261
klflag    = $5C6A = 23658          opense.def:579
kstate    = $5C00 = 23552          opense.def:517
kstate_4  = $5C04 = 23556          opense.def:518
kyip      = $10A6 =  4262          opense.asm:2769
l0007     = $0007 =     7          opense.asm:100 (unused)
l0013     = $0013 =    19          opense.asm:111
l0025     = $0025 =    37          opense.asm:127 (unused)
l002b     = $002B =    43          opense.asm:133 (unused)
l0051     = $0051 =    81          opense.asm:169 (unused)
l005f     = $005F =    95          opense.asm:181
l007d     = $007D =   125          opense.asm:210
l0094     = $0094 =   148          opense.asm:228
l0099     = $0099 =   153          opense.asm:233
l0296     = $0296 =   662          opense.asm:266
l029f     = $029F =   671          opense.asm:274
l02a1     = $02A1 =   673          opense.asm:278
l02ab     = $02AB =   683          opense.asm:286
l02bf     = $02BF =   703          opense.asm:303
l02c6     = $02C6 =   710          opense.asm:308
l02d1     = $02D1 =   721          opense.asm:317
l02f1     = $02F1 =   753          opense.asm:337
l0308     = $0308 =   776          opense.asm:353
l0310     = $0310 =   784          opense.asm:358
l031e     = $031E =   798          opense.asm:370
l032c     = $032C =   812          opense.asm:381
l0333     = $0333 =   819          opense.asm:388
l034b     = $034B =   843          opense.asm:403
l035a     = $035A =   858          opense.asm:411
l035f     = $035F =   863          opense.asm:417
l037a     = $037A =   890          opense.asm:434
l0381     = $0381 =   897          opense.asm:441
l0395     = $0395 =   917          opense.asm:454
l03a1     = $03A1 =   929          opense.asm:462
l03b2     = $03B2 =   946          opense.asm:478
l03b5     = $03B5 =   949          opense.asm:481
l03d1     = $03D1 =   977          opense.asm:499
l03d6     = $03D6 =   982          opense.asm:506
l03f2     = $03F2 =  1010          opense.asm:526
l03f6     = $03F6 =  1014          opense.asm:531
l03f8     = $03F8 =  1016          opense.asm:535
l0425     = $0425 =  1061          opense.asm:568
l0427     = $0427 =  1063          opense.asm:571
l046e     = $046E =  1134          opense.asm:622
l04aa     = $04AA =  1194          opense.asm:625
l04b9     = $04B9 =  1209          opense.asm:637
l04c2     = $04C2 =  1218          opense.asm:645
l04d0     = $04D0 =  1232          opense.asm:653
l04d8     = $04D8 =  1240          opense.asm:661
l04ea     = $04EA =  1258          opense.asm:673
l04f2     = $04F2 =  1266          opense.asm:679
l04fe     = $04FE =  1278          opense.asm:687
l0505     = $0505 =  1285          opense.asm:693
l0507     = $0507 =  1287          opense.asm:697
l050e     = $050E =  1294          opense.asm:703
l0511     = $0511 =  1297          opense.asm:707
l0514     = $0514 =  1300          opense.asm:711
l051a     = $051A =  1306          opense.asm:716
l051c     = $051C =  1308          opense.asm:719
l0525     = $0525 =  1317          opense.asm:727
l053c     = $053C =  1340          opense.asm:742
l053f     = $053F =  1343          opense.asm:746
l0554     = $0554 =  1364          opense.asm:762
l0556     = $0556 =  1366          opense.asm:766
l056b     = $056B =  1387          opense.asm:782
l056c     = $056C =  1388          opense.asm:785
l0574     = $0574 =  1396          opense.asm:790
l0580     = $0580 =  1408          opense.asm:799
l058f     = $058F =  1423          opense.asm:809
l05a9     = $05A9 =  1449          opense.asm:825
l05b3     = $05B3 =  1459          opense.asm:832
l05bd     = $05BD =  1469          opense.asm:841
l05c2     = $05C2 =  1474          opense.asm:846
l05c4     = $05C4 =  1476          opense.asm:849 (unused)
l05c5     = $05C5 =  1477          opense.asm:852
l05c8     = $05C8 =  1480          opense.asm:856
l05ca     = $05CA =  1482          opense.asm:859
l05e3     = $05E3 =  1507          opense.asm:877
l05e7     = $05E7 =  1511          opense.asm:881
l05e9     = $05E9 =  1513          opense.asm:884
l05ed     = $05ED =  1517          opense.asm:889
l0605     = $0605 =  1541          opense.asm:908
l0621     = $0621 =  1569          opense.asm:923
l0629     = $0629 =  1577          opense.asm:930
l0644     = $0644 =  1604          opense.asm:947
l064b     = $064B =  1611          opense.asm:953
l0652     = $0652 =  1618          opense.asm:960
l0670     = $0670 =  1648          opense.asm:976 (unused)
l0672     = $0672 =  1650          opense.asm:980
l0685     = $0685 =  1669          opense.asm:992
l068f     = $068F =  1679          opense.asm:999
l0692     = $0692 =  1682          opense.asm:1002
l06a0     = $06A0 =  1696          opense.asm:1012
l06c3     = $06C3 =  1731          opense.asm:1027
l06e1     = $06E1 =  1761          opense.asm:1042
l06f0     = $06F0 =  1776          opense.asm:1051
l06f5     = $06F5 =  1781          opense.asm:1055
l06f9     = $06F9 =  1785          opense.asm:1059
l0710     = $0710 =  1808          opense.asm:1070
l0716     = $0716 =  1814          opense.asm:1074
l0723     = $0723 =  1827          opense.asm:1081
l073a     = $073A =  1850          opense.asm:1092
l075a     = $075A =  1882          opense.asm:1106
l0767     = $0767 =  1895          opense.asm:1114
l078a     = $078A =  1930          opense.asm:1131
l07a6     = $07A6 =  1958          opense.asm:1150
l07ad     = $07AD =  1965          opense.asm:1158
l07cb     = $07CB =  1995          opense.asm:1175
l07e9     = $07E9 =  2025          opense.asm:1191
l07f4     = $07F4 =  2036          opense.asm:1199
l0800     = $0800 =  2048          opense.asm:1208
l0802     = $0802 =  2050          opense.asm:1211
l0808     = $0808 =  2056          opense.asm:1219
l0819     = $0819 =  2073          opense.asm:1232
l0825     = $0825 =  2085          opense.asm:1240
l082e     = $082E =  2094          opense.asm:1247
l084c     = $084C =  2124          opense.asm:1267
l0873     = $0873 =  2163          opense.asm:1294
l08ad     = $08AD =  2221          opense.asm:1321
l08b6     = $08B6 =  2230          opense.asm:1328
l08d2     = $08D2 =  2258          opense.asm:1346
l08d7     = $08D7 =  2263          opense.asm:1351
l08df     = $08DF =  2271          opense.asm:1360
l08eb     = $08EB =  2283          opense.asm:1370
l08f0     = $08F0 =  2288          opense.asm:1374
l08f9     = $08F9 =  2297          opense.asm:1382
l0901     = $0901 =  2305          opense.asm:1389
l0909     = $0909 =  2313          opense.asm:1396
l0912     = $0912 =  2322          opense.asm:1404
l091e     = $091E =  2334          opense.asm:1415
l0921     = $0921 =  2337          opense.asm:1419
l0923     = $0923 =  2339          opense.asm:1422
l092c     = $092C =  2348          opense.asm:1430
l093e     = $093E =  2366          opense.asm:1441
l0955     = $0955 =  2389          opense.asm:1456
l0958     = $0958 =  2392          opense.asm:1459
l0970     = $0970 =  2416          opense.asm:1476
l0991     = $0991 =  2449          opense.asm:1492
l09a1     = $09A1 =  2465          opense.asm:1501
l09af     = $09AF =  2479          opense.asm:1511
l09bb     = $09BB =  2491          opense.asm:1520
l09c2     = $09C2 =  2498          opense.asm:1525
l09c3     = $09C3 =  2499          opense.asm:1528
l09e5     = $09E5 =  2533          opense.asm:1545
l0a11     = $0A11 =  2577          opense.asm:1573
l0a23     = $0A23 =  2595          opense.asm:1593
l0a37     = $0A37 =  2615          opense.asm:1606
l0a49     = $0A49 =  2633          opense.asm:1616
l0a52     = $0A52 =  2642          opense.asm:1622
l0a58     = $0A77 =  2679          opense.asm:1657
l0a59     = $0A59 =  2649          opense.asm:1629
l0a5b     = $0A5B =  2651          opense.asm:1632
l0a5d     = $0A5D =  2653          opense.asm:1635
l0a65     = $0A65 =  2661          opense.asm:1640
l0a6a     = $0A6A =  2666          opense.asm:1644
l0a6d     = $0A6D =  2669          opense.asm:1647
l0a70     = $0A70 =  2672          opense.asm:1650
l0a7e     = $0A7E =  2686          opense.asm:1662
l0a87     = $0A87 =  2695          opense.asm:1671
l0aa6     = $0AA6 =  2726          opense.asm:1690
l0abc     = $0ABC =  2748          opense.asm:1701
l0ac2     = $0AC2 =  2754          opense.asm:1705
l0ac3     = $0AC3 =  2755          opense.asm:1708
l0ad0     = $0AD0 =  2768          opense.asm:1717
l0ad9     = $0AD9 =  2777          opense.asm:1724
l0adc     = $0ADC =  2780          opense.asm:1727
l0aea     = $0AEA =  2794          opense.asm:1734
l0af6     = $0AF6 =  2806          opense.asm:1740
l0b03     = $0B03 =  2819          opense.asm:1748
l0b24     = $0B24 =  2852          opense.asm:1769
l0b38     = $0B38 =  2872          opense.asm:1780
l0b3e     = $0B3E =  2878          opense.asm:1784
l0b4c     = $0B4C =  2892          opense.asm:1795
l0b52     = $0B52 =  2898          opense.asm:1802
l0b5f     = $0B5F =  2911          opense.asm:1810
l0b65     = $0B65 =  2917          opense.asm:1814
l0b6a     = $0B6A =  2922          opense.asm:1818
l0b76     = $0B76 =  2934          opense.asm:1826
l0b7f     = $0B7F =  2943          opense.asm:1836
l0b87     = $0B87 =  2951          opense.asm:1844
l0b98     = $0B98 =  2968          opense.asm:1857
l0ba0     = $0BA0 =  2976          opense.asm:1866
l0bb6     = $0BB6 =  2998          opense.asm:1887
l0bbb     = $0BBB =  3003          opense.asm:1893
l0bd0     = $0BD0 =  3024          opense.asm:1906
l0bdb     = $0BDB =  3035          opense.asm:1917
l0bdd9    = $0BD9 =  3033          opense.asm:1913
l0bfa     = $0BFA =  3066          opense.asm:1937
l0c08     = $0C08 =  3080          opense.asm:1945
l0c0a     = $0C0A =  3082          opense.asm:1949
l0c10     = $0C10 =  3088          opense.asm:1955
l0c14     = $0C14 =  3092          opense.asm:1959
l0c22     = $0C22 =  3106          opense.asm:1966
l0c35     = $0C35 =  3125          opense.asm:1979
l0c3b     = $0C3B =  3131          opense.asm:1985
l0c41     = $0C41 =  3137          opense.asm:1993
l0c55     = $0C55 =  3157          opense.asm:2012
l0c81     = $0C81 =  3201          opense.asm:2032
l0c88     = $0C88 =  3208          opense.asm:2040
l0cce     = $0CCE =  3278          opense.asm:2073
l0cec     = $0CEC =  3308          opense.asm:2093
l0cf4     = $0CF4 =  3316          opense.asm:2102
l0cfe     = $0CFE =  3326          opense.asm:2109 (unused)
l0d02     = $0D02 =  3330          opense.asm:2116
l0d1c     = $0D1C =  3356          opense.asm:2132
l0d2d     = $0D2D =  3373          opense.asm:2145
l0d5b     = $0D5B =  3419          opense.asm:2169
l0d65     = $0D65 =  3429          opense.asm:2176
l0d84     = $0D84 =  3460          opense.asm:2197 (unused)
l0d87     = $0D87 =  3463          opense.asm:2200
l0d89     = $0D89 =  3465          opense.asm:2203
l0d8e     = $0D8E =  3470          opense.asm:2209
l0d94     = $0D94 =  3476          opense.asm:2213
l0da0     = $0DA0 =  3488          opense.asm:2220
l0daf     = $0DAF =  3503          opense.asm:2231
l0dd3     = $0DD3 =  3539          opense.asm:2247
l0dd9     = $0DD9 =  3545          opense.asm:2251
l0de5     = $0DE5 =  3557          opense.asm:2258
l0dfe     = $0DFE =  3582          opense.asm:2281
l0e00     = $0E00 =  3584          opense.asm:2284
l0e05     = $0E05 =  3589          opense.asm:2288
l0e0d     = $0E0D =  3597          opense.asm:2296
l0e19     = $0E19 =  3609          opense.asm:2305
l0e44     = $0E44 =  3652          opense.asm:2335
l0e4a     = $0E4A =  3658          opense.asm:2340
l0e4d     = $0E4D =  3661          opense.asm:2345
l0e80     = $0E80 =  3712          opense.asm:2381
l0e88     = $0E88 =  3720          opense.asm:2389
l0e9b     = $0E9B =  3739          opense.asm:2409
l0eac     = $0EAC =  3756          opense.asm:2424
l0ebb     = $0EBB =  3771          opense.asm:2433
l0ec5     = $0EC5 =  3781          opense.asm:2439
l0ed4     = $0ED4 =  3796          opense.asm:2451
l0ede     = $0EDE =  3806          opense.asm:2459
l0eed     = $0EED =  3821          opense.asm:2467
l0f00     = $0F00 =  3840          opense.asm:2478
l0f14     = $0F14 =  3860          opense.asm:2495
l0f1a     = $0F1A =  3866          opense.asm:2499
l0f38     = $0F38 =  3896          opense.asm:2516
l0f6c     = $0F6C =  3948          opense.asm:2543
l0f87     = $0F87 =  3975          opense.asm:2560
l0f8e     = $0F8E =  3982          opense.asm:2566
l0f92     = $0F92 =  3986          opense.asm:2570
l0ff9     = $0FF9 =  4089          opense.asm:2633
l0fff     = $0FFF =  4095          opense.asm:2638
l100e     = $100E =  4110          opense.asm:2652
l100f     = $100F =  4111          opense.asm:2655
l101a     = $101A =  4122          opense.asm:2664
l101f     = $101F =  4127          opense.asm:2671
l1037     = $1037 =  4151          opense.asm:2691
l1042     = $1042 =  4162          opense.asm:2701
l1056     = $1056 =  4182          opense.asm:2716
l105e     = $105E =  4190          opense.asm:2723
l1068     = $1068 =  4200          opense.asm:2731
l108b     = $108B =  4235          opense.asm:2754
l1095     = $1095 =  4245          opense.asm:2759
l10b3     = $10B3 =  4275          opense.asm:2776
l10d9     = $10D9 =  4313          opense.asm:2797
l10e6     = $10E6 =  4326          opense.asm:2806
l10f4     = $10F4 =  4340          opense.asm:2816
l10fa     = $10FA =  4346          opense.asm:2821
l1105     = $1105 =  4357          opense.asm:2830
l110d     = $110D =  4365          opense.asm:2835
l1113     = $1113 =  4371          opense.asm:2839
l111b     = $111B =  4379          opense.asm:2847
l111d     = $111D =  4381          opense.asm:2851
l1150     = $1150 =  4432          opense.asm:2875
l115e     = $115E =  4446          opense.asm:2884
l1167     = $1167 =  4455          opense.asm:2891
l1179     = $1179 =  4473          opense.asm:2901
l117c     = $117C =  4476          opense.asm:2906
l117e     = $117E =  4478          opense.asm:2910
l1190     = $1190 =  4496          opense.asm:2921
l1195     = $1195 =  4501          opense.asm:2926
l11a7     = $11A7 =  4519          opense.asm:2935
l11cb     = $11B7 =  4535          opense.asm:2946
l11cf     = $11CF =  4559          opense.asm:2961
l12a2     = $12A2 =  4770          opense.asm:3062
l12a9     = $12A9 =  4777          opense.asm:3066
l12ac     = $12AC =  4780          opense.asm:3069
l12cf     = $12CF =  4815          opense.asm:3083
l1301     = $1301 =  4865          opense.asm:3103
l130f     = $130F =  4879          opense.asm:3110
l1344     = $1344 =  4932          opense.asm:3132
l134a     = $134A =  4938          opense.asm:3136
l1373     = $1373 =  4979          opense.asm:3157
l1376     = $1376 =  4982          opense.asm:3160
l1384     = $1384 =  4996          opense.asm:3168
l1386     = $1386 =  4998          opense.asm:3171
l1396     = $1396 =  5014          opense.asm:3180
l13b6     = $13B6 =  5046          opense.asm:3183
l13d5     = $13D5 =  5077          opense.asm:3186
l140c     = $1403 =  5123          opense.asm:3189
l1555     = $1555 =  5461          opense.asm:3192
l15ab     = $15AB =  5547          opense.asm:3250
l15f7     = $15F7 =  5623          opense.asm:3302
l1601     = $1601 =  5633          opense.asm:3312
l1610     = $1610 =  5648          opense.asm:3328
l162c     = $162C =  5676          opense.asm:3348
l1634     = $1634 =  5684          opense.asm:3357
l1642     = $1642 =  5698          opense.asm:3363
l1646     = $1646 =  5702          opense.asm:3366
l1649     = $1649 =  5705          opense.asm:3369
l1650     = $1650 =  5712          opense.asm:3375
l1651     = $1651 =  5713          opense.asm:3378
l168f     = $168F =  5775          opense.asm:3436
l16db     = $16DB =  5851          opense.asm:3492
l16dc     = $16DC =  5852          opense.asm:3495
l16e5     = $16E5 =  5861          opense.asm:3505
l16fc     = $16FC =  5884          opense.asm:3519
l1701     = $1701 =  5889          opense.asm:3526
l1714     = $1714 =  5908          opense.asm:3540
l1716     = $1716 =  5910          opense.asm:3544
l171e     = $171E =  5918          opense.asm:3551
l1727     = $1727 =  5927          opense.asm:3560
l1736     = $1736 =  5942          opense.asm:3573
l1756     = $1756 =  5974          opense.asm:3596
l175d     = $175D =  5981          opense.asm:3603
l1767     = $1767 =  5991          opense.asm:3614
l177a     = $177A =  6010          opense.asm:3628
l1781     = $1781 =  6017          opense.asm:3634
l1785     = $1785 =  6021          opense.asm:3638
l1789     = $1789 =  6025          opense.asm:3642
l178b     = $178B =  6027          opense.asm:3645
l1793     = $1793 =  6035          opense.asm:3654 (unused)
l17ce     = $17CE =  6094          opense.asm:3681
l17e4     = $17E4 =  6116          opense.asm:3698
l17ed     = $17ED =  6125          opense.asm:3704
l17fb     = $17FB =  6139          opense.asm:3716
l1814     = $1814 =  6164          opense.asm:3729 (unused)
l1819     = $1819 =  6169          opense.asm:3733
l181f     = $181F =  6175          opense.asm:3738
l1822     = $1822 =  6178          opense.asm:3741
l1833     = $1833 =  6195          opense.asm:3751
l1835     = $1835 =  6197          opense.asm:3754
l1860     = $1860 =  6240          opense.asm:3778
l187f     = $187F =  6271          opense.asm:3799
l1883     = $1883 =  6275          opense.asm:3802
l1885     = $1885 =  6277          opense.asm:3806
l1895     = $1895 =  6293          opense.asm:3815
l18a6     = $18A6 =  6310          opense.asm:3827
l18a8     = $18A8 =  6312          opense.asm:3831
l18b4     = $18B4 =  6324          opense.asm:3844
l18b5     = $18B5 =  6325          opense.asm:3847
l18bc     = $18BC =  6332          opense.asm:3856
l18e5     = $18E5 =  6373          opense.asm:3884
l18ee     = $18EE =  6382          opense.asm:3890
l18ff     = $18FF =  6399          opense.asm:3902
l1903     = $1903 =  6403          opense.asm:3906
l190c     = $190C =  6412          opense.asm:3913
l1937     = $1937 =  6455          opense.asm:3954
l1946     = $1946 =  6470          opense.asm:3965
l1959     = $1959 =  6489          opense.asm:3975
l1963     = $1963 =  6499          opense.asm:3982
l1967     = $1967 =  6503          opense.asm:3986
l1988     = $1988 =  6536          opense.asm:4017 (unused)
l1990     = $1990 =  6544          opense.asm:4024
l1998     = $1998 =  6552          opense.asm:4033
l199a     = $199A =  6554          opense.asm:4037
l19a5     = $19A5 =  6565          opense.asm:4044
l19b1     = $19B1 =  6577          opense.asm:4054
l1b17     = $1B17 =  6935          opense.asm:4442
l1b7d     = $1B7D =  7037          opense.asm:4513
l1b9e     = $1B9E =  7070          opense.asm:4530
l1bb0     = $1BB0 =  7088          opense.asm:4542 (unused)
l1c56     = $1C56 =  7254          opense.asm:4676
l1cb9     = $1CB9 =  7353          opense.asm:4747
l1cd2     = $1CD2 =  7378          opense.asm:4762
l1cd7     = $1CD7 =  7383          opense.asm:4766
l1cde     = $1CDE =  7390          opense.asm:4773
l1d00     = $1D00 =  7424          opense.asm:4802
l1d64     = $1D64 =  7524          opense.asm:4870
l1d7c     = $1D7C =  7548          opense.asm:4884
l1d84     = $1D84 =  7556          opense.asm:4891
l1d86     = $1D86 =  7558          opense.asm:4895
l1d8b     = $1D8B =  7563          opense.asm:4900
l1da3     = $1DA3 =  7587          opense.asm:4921
l1dec     = $1DEC =  7660          opense.asm:4982
l1ded     = $1DED =  7661          opense.asm:4985
l1e0a     = $1E0A =  7690          opense.asm:5001
l1e1e     = $1E1E =  7710          opense.asm:5010
l1e27     = $1E27 =  7719          opense.asm:5017
l1e2c     = $1E2C =  7724          opense.asm:5021
l1e37     = $1E37 =  7735          opense.asm:5028
l1e39     = $1E39 =  7737          opense.asm:5031
l1f1a     = $1F1A =  7962          opense.asm:5194
l1f1f     = $1F1F =  7967          opense.asm:5198
l1f49     = $1F49 =  8009          opense.asm:5237
l1f60     = $1F60 =  8032          opense.asm:5255
l1f6a     = $1F6A =  8042          opense.asm:5261
l1f7d     = $1F7D =  8061          opense.asm:5271
l1f86     = $1F86 =  8070          opense.asm:5278
l1f89     = $1F89 =  8073          opense.asm:5281
l1f94     = $1F94 =  8084          opense.asm:5290
l1fa6     = $1FA6 =  8102          opense.asm:5302
l1fbd     = $1FBD =  8125          opense.asm:5316
l1fcf     = $1FCF =  8143          opense.asm:5333
l203c     = $203C =  8252          opense.asm:5401
l2048     = $2048 =  8264          opense.asm:5415
l2061     = $2061 =  8289          opense.asm:5433
l206e     = $206E =  8302          opense.asm:5444
l2070     = $2070 =  8304          opense.asm:5448
l207c     = $207C =  8316          opense.asm:5457
l2096     = $2096 =  8342          opense.asm:5472
l20ad     = $20AD =  8365          opense.asm:5483
l20ed     = $20ED =  8429          opense.asm:5515
l20fa     = $20FA =  8442          opense.asm:5521
l211c     = $211C =  8476          opense.asm:5540
l2148     = $2148 =  8520          opense.asm:5568
l2161     = $2161 =  8545          opense.asm:5580
l2174     = $2174 =  8564          opense.asm:5588
l219b     = $219B =  8603          opense.asm:5606
l21af     = $21AF =  8623          opense.asm:5617
l21b2     = $21B2 =  8626          opense.asm:5620
l21d0     = $21D0 =  8656          opense.asm:5639
l21e1     = $21E1 =  8673          opense.asm:5655
l2211     = $2211 =  8721          opense.asm:5694
l2234     = $2234 =  8756          opense.asm:5718
l223e     = $223E =  8766          opense.asm:5727
l2246     = $2246 =  8774          opense.asm:5737
l2257     = $2257 =  8791          opense.asm:5749
l2258     = $2258 =  8792          opense.asm:5752
l2273     = $2273 =  8819          opense.asm:5776
l227d     = $227D =  8829          opense.asm:5785
l2294     = $2294 =  8852          opense.asm:5803
l22a6     = $22A6 =  8870          opense.asm:5815
l22aa     = $22AA =  8874          opense.asm:5819
l22cb     = $22CB =  8907          opense.asm:5848
l22d4     = $22D4 =  8916          opense.asm:5855
l22e5     = $22E5 =  8933          opense.asm:5866
l22f0     = $22F0 =  8944          opense.asm:5873
l22fd     = $22FD =  8957          opense.asm:5883
l2303     = $2303 =  8963          opense.asm:5889
l233b     = $233B =  9019          opense.asm:5931
l235a     = $235A =  9050          opense.asm:5957
l2382     = $2382 =  9090          opense.asm:5989
l238d     = $238D =  9101          opense.asm:5996
l23a3     = $23A3 =  9123          opense.asm:6013
l2405     = $2405 =  9221          opense.asm:6103
l2408     = $2408 =  9224          opense.asm:6107
l2414     = $2414 =  9236          opense.asm:6113
l241e     = $241E =  9246          opense.asm:6122
l2425     = $2425 =  9253          opense.asm:6131
l2439     = $2439 =  9273          opense.asm:6153
l247d     = $247D =  9341          opense.asm:6202
l2495     = $2495 =  9365          opense.asm:6221
l2497     = $2497 =  9367          opense.asm:6224
l24c4     = $24C4 =  9412          opense.asm:6267
l24cb     = $24CB =  9419          opense.asm:6275
l24ce     = $24CE =  9422          opense.asm:6280
l24d4     = $24D4 =  9428          opense.asm:6286
l24db     = $24DB =  9435          opense.asm:6294
l24df     = $24DF =  9439          opense.asm:6300
l24ec     = $24EC =  9452          opense.asm:6311
l24f7     = $24F7 =  9463          opense.asm:6321
l24ff     = $24FF =  9471          opense.asm:6333
l250f     = $250F =  9487          opense.asm:6344
l2522     = $2522 =  9506          opense.asm:6355
l252d     = $252D =  9517          opense.asm:6363
l2535     = $2535 =  9525          opense.asm:6370
l2538     = $2538 =  9528          opense.asm:6373 (unused)
l253b     = $253B =  9531          opense.asm:6376
l253e     = $253E =  9534          opense.asm:6380
l2549     = $2549 =  9545          opense.asm:6391
l254c     = $254C =  9548          opense.asm:6395
l2562     = $2562 =  9570          opense.asm:6413
l2563     = $2563 =  9571          opense.asm:6416
l2569     = $2569 =  9577          opense.asm:6422
l257e     = $257E =  9598          opense.asm:6437
l2580     = $2580 =  9600          opense.asm:6441
l2596     = $2596 =  9622          opense.asm:6458
l25af     = $25AF =  9647          opense.asm:6473
l25b3     = $25B3 =  9651          opense.asm:6477
l25be     = $25BE =  9662          opense.asm:6485
l25cb     = $25CB =  9675          opense.asm:6494
l25d9     = $25D9 =  9689          opense.asm:6506
l25e8     = $25E8 =  9704          opense.asm:6517
l25f5     = $25F5 =  9717          opense.asm:6525
l2660     = $2660 =  9824          opense.asm:6594
l2665     = $2665 =  9829          opense.asm:6598
l2668     = $2668 =  9832          opense.asm:6601
l2672     = $2672 =  9842          opense.asm:6607
l267b     = $267B =  9851          opense.asm:6613
l2684     = $2684 =  9860          opense.asm:6619
l2695     = $2695 =  9877          opense.asm:6630
l26b6     = $26B6 =  9910          opense.asm:6652
l26dd     = $26DD =  9949          opense.asm:6675
l26df     = $26DF =  9951          opense.asm:6678
l274c     = $274C = 10060          opense.asm:6747
l2795     = $2795 = 10133          opense.asm:6803
l27bd     = $27BD = 10173          opense.asm:6823
l27d9     = $27D9 = 10201          opense.asm:6842
l27e4     = $27E4 = 10212          opense.asm:6850
l27f4     = $27F4 = 10228          opense.asm:6864
l27f7     = $27F7 = 10231          opense.asm:6867
l2802     = $2802 = 10242          opense.asm:6877
l2808     = $2808 = 10248          opense.asm:6883
l2814     = $2814 = 10260          opense.asm:6892
l2825     = $2825 = 10277          opense.asm:6903
l2831     = $2831 = 10289          opense.asm:6912
l2843     = $2843 = 10307          opense.asm:6923
l2852     = $2852 = 10322          opense.asm:6934
l2885     = $2885 = 10373          opense.asm:6964
l288d     = $288D = 10381          opense.asm:6974
l28ab     = $28AB = 10411          opense.asm:6992
l28e3     = $28E3 = 10467          opense.asm:7029
l2951     = $2951 = 10577          opense.asm:7123
l295a     = $295A = 10586          opense.asm:7129
l296b     = $296B = 10603          opense.asm:7142
l2981     = $2981 = 10625          opense.asm:7157
l2991     = $2991 = 10641          opense.asm:7166
l2ab6     = $2AB6 = 10934          opense.asm:7401
l2b1f     = $2B1F = 11039          opense.asm:7488
l2b29     = $2B29 = 11049          opense.asm:7494
l2bea     = $2BEA = 11242          opense.asm:7645
l2c7c     = $2C7C = 11388          opense.asm:7755
l2ca2     = $2CA2 = 11426          opense.asm:7791
l2cb3     = $2CB3 = 11443          opense.asm:7803
l2cb8     = $2CB8 = 11448          opense.asm:7808
l2cd5     = $2CD5 = 11477          opense.asm:7829
l2cf2     = $2CF2 = 11506          opense.asm:7857
l2d55     = $2D55 = 11605          opense.asm:7944
l2d60     = $2D60 = 11616          opense.asm:7953
l2d6d     = $2D6D = 11629          opense.asm:7964
l2d6e     = $2D6E = 11630          opense.asm:7967
l2d71     = $2D71 = 11633          opense.asm:7972
l2d7b     = $2D7B = 11643          opense.asm:7982
l2d8c     = $2D8C = 11660          opense.asm:8003 (unused)
l2d8e     = $2D8E = 11662          opense.asm:8006
l2dc1     = $2DC1 = 11713          opense.asm:8059
l2e01     = $2E01 = 11777          opense.asm:8122
l2e1e     = $2E1E = 11806          opense.asm:8146
l2e24     = $2E24 = 11812          opense.asm:8153
l2e56     = $2E56 = 11862          opense.asm:8189
l2e6f     = $2E6F = 11887          opense.asm:8204
l2e7b     = $2E7B = 11899          opense.asm:8214
l2e8a     = $2E8A = 11914          opense.asm:8224
l2ea1     = $2EA1 = 11937          opense.asm:8240
l2ea9     = $2EA9 = 11945          opense.asm:8247
l2eb3     = $2EB3 = 11955          opense.asm:8254
l2eb8     = $2EB8 = 11960          opense.asm:8259
l2ecb     = $2ECB = 11979          opense.asm:8269
l2ecf     = $2ECF = 11983          opense.asm:8275
l2edf     = $2EDF = 11999          opense.asm:8286
l2eec     = $2EEC = 12012          opense.asm:8295
l2eef     = $2EEF = 12015          opense.asm:8298
l2f0c     = $2F0C = 12044          opense.asm:8317
l2f18     = $2F18 = 12056          opense.asm:8326
l2f25     = $2F25 = 12069          opense.asm:8337
l2f2d     = $2F2D = 12077          opense.asm:8343
l2f46     = $2F46 = 12102          opense.asm:8359
l2f4a     = $2F4A = 12106          opense.asm:8363
l2f52     = $2F52 = 12114          opense.asm:8370
l2f59     = $2F59 = 12121          opense.asm:8378
l2f5e     = $2F5E = 12126          opense.asm:8382
l2f64     = $2F64 = 12132          opense.asm:8389
l2f6c     = $2F6C = 12140          opense.asm:8396
l2f83     = $2F83 = 12163          opense.asm:8412
l2f85     = $2F85 = 12165          opense.asm:8415
l2f8b     = $2F8B = 12171          opense.asm:8420
l3032     = $3032 = 12338          opense.asm:8583
l303c     = $303C = 12348          opense.asm:8595
l30a9     = $30A9 = 12457          opense.asm:8690
l30ea     = $30EA = 12522          opense.asm:8747
l31db     = $31DB = 12763          opense.asm:8959 (unused)
l3221     = $3221 = 12833          opense.asm:9020
l3232     = $3232 = 12850          opense.asm:9034
l3235     = $3235 = 12853          opense.asm:9037
l3293     = $3293 = 12947          opense.asm:9119
l3296     = $3296 = 12950          opense.asm:9122
l32b1     = $32B1 = 12977          opense.asm:9147
l32b2     = $32B2 = 12978          opense.asm:9150
l32bd     = $32BD = 12989          opense.asm:9159
l33b8     = $33B8 = 13240          opense.asm:9319
l3403     = $3403 = 13315          opense.asm:9387
l3468     = $3467 = 13415          opense.asm:9478
l347f     = $347F = 13439          opense.asm:9498
l34af     = $34AF = 13487          opense.asm:9536
l34c0     = $34C0 = 13504          opense.asm:9549
l359a     = $359A = 13722          opense.asm:9759
l35dc     = $35DC = 13788          opense.asm:9808
l382f     = $382F = 14383          opense.asm:10244
l3833     = $3833 = 14387          opense.asm:10249
l3882     = $3882 = 14466          opense.asm:10318
l388b     = $388B = 14475          opense.asm:10327
l3893     = $3893 = 14483          opense.asm:10333
l3898     = $3898 = 14488          opense.asm:10339
l38af     = $38AF = 14511          opense.asm:10356
l38c7     = $38C7 = 14535          opense.asm:10370
l38ce     = $38CE = 14542          opense.asm:10374
l38e6     = $38E4 = 14564          opense.asm:10388
l38ec     = $38EB = 14571          opense.asm:10392
l38ff     = $38FF = 14591          opense.asm:10400 (unused)
l3909     = $3909 = 14601          opense.asm:10409
l3914     = $3914 = 14612          opense.asm:10417
l3915     = $3915 = 14613          opense.asm:10420
l391b     = $391B = 14619          opense.asm:10426
l391d     = $391D = 14621          opense.asm:10430
l3927     = $3927 = 14631          opense.asm:10435
l3934     = $3933 = 14643          opense.asm:10442
l3943     = $3943 = 14659          opense.asm:10453
l394d     = $394D = 14669          opense.asm:10460
l3954     = $3954 = 14676          opense.asm:10465
l3958     = $3958 = 14680          opense.asm:10469
l3963     = $3963 = 14691          opense.asm:10478
l3977     = $3977 = 14711          opense.asm:10488
l397f     = $397F = 14719          opense.asm:10494
l3989     = $3989 = 14729          opense.asm:10504
l398d     = $398D = 14733          opense.asm:10507
l3990     = $3990 = 14736          opense.asm:10510
l39a7     = $39A7 = 14759          opense.asm:10522
l39ba     = $39BA = 14778          opense.asm:10536
l39c6     = $39C6 = 14790          opense.asm:10546
l39d0     = $39D0 = 14800          opense.asm:10556
l39db     = $39DB = 14811          opense.asm:10561
l39ec     = $39EC = 14828          opense.asm:10570
l39f3     = $39F3 = 14835          opense.asm:10575
l39ff     = $39FF = 14847          opense.asm:10583 (unused)
l3a01     = $3A01 = 14849          opense.asm:10586
l3a05     = $3A05 = 14853          opense.asm:10590
l3a15     = $3A15 = 14869          opense.asm:10600
l3a1b     = $3A1B = 14875          opense.asm:10606
l3a1d     = $3A1D = 14877          opense.asm:10609
l3a1e     = $3A1E = 14878          opense.asm:10612
l3a34     = $3A34 = 14900          opense.asm:10627
l3a40     = $3A40 = 14912          opense.asm:10634
l3a44     = $3A44 = 14916          opense.asm:10639
l3a4f     = $3A4F = 14927          opense.asm:10648
l3a51     = $3A51 = 14929          opense.asm:10651
l3a52     = $3A52 = 14930          opense.asm:10654
l3a5f     = $3A5F = 14943          opense.asm:10664
l3a68     = $3A68 = 14952          opense.asm:10670
l3a74     = $3A74 = 14964          opense.asm:10679
l3a92     = $3A92 = 14994          opense.asm:10699
l3a9b     = $3A9B = 15003          opense.asm:10706
l3a9e     = $3A9E = 15006          opense.asm:10709
l3aa9     = $3AAA = 15018          opense.asm:10717
l3abc     = $3ABC = 15036          opense.asm:10727
l3ac8     = $3AC8 = 15048          opense.asm:10736
l3ad6     = $3AD6 = 15062          opense.asm:10745
l3ad9     = $3AD9 = 15065          opense.asm:10750
l3adc     = $3ADC = 15068          opense.asm:10755
l3aff     = $3AFF = 15103          opense.asm:10775 (unused)
l3b01     = $3B01 = 15105          opense.asm:10778
l3b0e     = $3B0E = 15118          opense.asm:10786
l3b1c     = $3B1C = 15132          opense.asm:10795
l3b29     = $3B29 = 15145          opense.asm:10803
l3b41     = $3B41 = 15169          opense.asm:10816
l3b63     = $3B63 = 15203          opense.asm:10844
l3b74     = $3B74 = 15220          opense.asm:10855
l3b90     = $3B90 = 15248          opense.asm:10872
l3b94     = $3B94 = 15252          opense.asm:10876
l3b98     = $3B98 = 15256          opense.asm:10881
l3bac     = $3BAC = 15276          opense.asm:10893
l3bc1     = $3BC1 = 15297          opense.asm:10906
l3bc6     = $3BC6 = 15302          opense.asm:10910
l3bd7     = $3BD7 = 15319          opense.asm:10918
l3bff     = $3BFF = 15359          opense.asm:10941 (unused)
l3c01     = $3C01 = 15361          opense.asm:10944
l3c0b     = $3C0B = 15371          opense.asm:10951
l3c44     = $3C44 = 15428          opense.asm:10987
l3c4c     = $3C4C = 15436          opense.asm:10992
l3c58     = $3C58 = 15448          opense.asm:10999
l3c5e     = $3C5E = 15454          opense.asm:11003
l3c6f     = $3C6F = 15471          opense.asm:11015
l3c72     = $3C72 = 15474          opense.asm:11020
l3c76     = $3C76 = 15478          opense.asm:11024
l3c77     = $3C77 = 15479          opense.asm:11027
l3c7d     = $3C7D = 15485          opense.asm:11033
l3ca0     = $3CA0 = 15520          opense.asm:11051
l3ca1     = $3CA1 = 15521          opense.asm:11054
l_adds    = $2BAF = 11183          opense.asm:7598
l_char    = $2B3E = 11070          opense.asm:7509
l_deletes = $2B72 = 11122          opense.asm:7547
l_each_ch = $2B0B = 11019          opense.asm:7472
l_enter   = $2BA6 = 11174          opense.asm:7588
l_exists  = $2B66 = 11110          opense.asm:7540
l_in_w_s  = $2BA3 = 11171          opense.asm:7583
l_length  = $2B9B = 11163          opense.asm:7575
l_news    = $2BC0 = 11200          opense.asm:7613
l_no_sp   = $2B0C = 11020          opense.asm:7475
l_numeric = $2B59 = 11097          opense.asm:7529
l_single  = $2B4F = 11087          opense.asm:7522
l_string  = $2BC6 = 11206          opense.asm:7618
last      = $3861 = 14433          opense.asm:10297
lastk     = $5C08 = 23560          opense.def:519
lead_sp   = $1925 =  6437          opense.asm:3935
left_edge = $102A =  4138          opense.asm:2679
left_key  = $1006 =  4102          opense.asm:2645
less_mask = $328A = 12938          opense.asm:9108
let       = $2AFF = 11007          opense.asm:7466
line_addr = $196E =  6510          opense.asm:3992
line_no   = $1695 =  5781          opense.asm:3443
line_null = $1B29 =  6953          opense.asm:4454
linedraw  = $2477 =  9335          opense.asm:6198
lineend   = $1BB3 =  7091          opense.asm:4548
linerun   = $1B8A =  7050          opense.asm:4520
lines     = $19D5 =  6613          opense.asm:4084
lineuse   = $1BBF =  7103          opense.asm:4557
list      = $17F9 =  6137          opense.asm:3713
listsp    = $5C3F = 23615          opense.def:553
llist     = $17F5 =  6133          opense.asm:3709
lmt_step  = $1D34 =  7476          opense.asm:4840
lmt_v_val = $1DE2 =  7650          opense.asm:4969
ln_fetch  = $190F =  6415          opense.asm:3916
ln_store  = $191C =  6428          opense.asm:3927 (unused)
loc_mem   = $33F7 = 13303          opense.asm:9374
look_vars = $28B2 = 10418          opense.asm:6999
lprint    = $1FC9 =  8137          opense.asm:5326
magenta   = $0003 =     3          opense.def:258 (unused)
make_expt = $313B = 12603          opense.asm:8814
make_room = $1655 =  5717          opense.asm:3384
maskp     = $5C8E = 23694          opense.def:605
maskt     = $5C90 = 23696          opense.def:607
mem       = $5C68 = 23656          opense.def:578
mem_0_1   = $5C93 = 23699          opense.def:610 (unused)
mem_0_2   = $5C94 = 23700          opense.def:611
mem_0_3   = $5C95 = 23701          opense.def:612 (unused)
mem_0_4   = $5C96 = 23702          opense.def:613 (unused)
mem_1     = $5C97 = 23703          opense.def:614 (unused)
mem_1_1   = $5C98 = 23704          opense.def:615 (unused)
mem_1_2   = $5C99 = 23705          opense.def:616
mem_1_3   = $5C9A = 23706          opense.def:617 (unused)
mem_1_4   = $5C9B = 23707          opense.def:618 (unused)
mem_2     = $5C9C = 23708          opense.def:619
mem_2_1   = $5C9D = 23709          opense.def:620 (unused)
mem_2_2   = $5C9E = 23710          opense.def:621
mem_2_3   = $5C9F = 23711          opense.def:622 (unused)
mem_2_4   = $5CA0 = 23712          opense.def:623
mem_3     = $5CA1 = 23713          opense.def:624
mem_3_1   = $5CA1 = 23713          opense.def:625 (unused)
mem_3_2   = $5CA3 = 23715          opense.def:626 (unused)
mem_3_3   = $5CA4 = 23716          opense.def:627 (unused)
mem_3_4   = $5CA5 = 23717          opense.def:628
mem_4     = $5CA6 = 23718          opense.def:629
mem_4_1   = $5CA7 = 23719          opense.def:630
mem_4_2   = $5CA8 = 23720          opense.def:631 (unused)
mem_4_3   = $5CA9 = 23721          opense.def:632
mem_4_4   = $5CAA = 23722          opense.def:633
mem_5     = $5CAB = 23723          opense.def:634
mem_5_1   = $5CAC = 23724          opense.def:635
mem_5_2   = $5CAD = 23725          opense.def:636 (unused)
mem_5_3   = $5CAE = 23726          opense.def:637 (unused)
mem_5_4   = $5CAF = 23727          opense.def:638 (unused)
membot    = $5C92 = 23698          opense.def:609
mlt_loop  = $3114 = 12564          opense.asm:8780
mode      = $5C41 = 23617          opense.def:554
mprseplp  = $1FE5 =  8165          opense.asm:5346
multiply  = $30F0 = 12528          opense.asm:8755
n_l_key   = $101D =  4125          opense.asm:2667
n_l_line  = $155D =  5469          opense.asm:3198
n_l_only  = $18CE =  6350          opense.asm:3869
n_negtv   = $36D9 = 14041          opense.asm:9996
near_zero = $3159 = 12633          opense.asm:8846
neg_byte  = $2FAF = 12207          opense.asm:8454
negate    = $3458 = 13400          opense.asm:9463
new       = $11BB =  4539          opense.asm:2950
newppc    = $5C42 = 23618          opense.def:555
next      = $1DAB =  7595          opense.asm:4928
next_add  = $19DB =  6619          opense.asm:4094
next_ch   = $0020 =    32          opense.def:455
next_five = $19C7 =  6599          opense.asm:4072
next_lett = $19CE =  6606          opense.asm:4077
next_line = $1BD1 =  7121          opense.asm:4572
next_loop = $1DDA =  7642          opense.asm:4960
next_one  = $19B8 =  6584          opense.asm:4061
next_ptr  = $166B =  5739          opense.asm:3400
next_test = $1974 =  6516          opense.asm:3998
nextchar  = $3CB5 = 15541          opense.asm:11070
nextchar2 = $3CB7 = 15543          opense.asm:11074
nextstat  = $1B76 =  7030          opense.asm:4507
nil_bytes = $3272 = 12914          opense.asm:9087
nmi       = $0066 =   102          opense.asm:185 (unused)
nmi_ret   = $0070 =   112          opense.asm:194
nmiadd    = $5CB0 = 23728          opense.def:639
no_add    = $311B = 12571          opense.asm:8787
no_f_ops  = $0000 =     0          opense.def:463
no_number = $1A15 =  6677          opense.asm:4141
no_rstore = $31F9 = 12793          opense.asm:8986
no_to_stk = $1CE6 =  7398          opense.asm:4779
nonsense  = $2CCF = 11471          opense.asm:7823
normalize = $316C = 12652          opense.asm:8865
norml_now = $3186 = 12678          opense.asm:8885
nsppc     = $5C44 = 23620          opense.def:556
nu_or_str = $3528 = 13608          opense.asm:9656
num_exp   = $0006 =     6          opense.def:469
num_exp_0 = $0003 =     3          opense.def:466
number    = $18B1 =  6321          opense.asm:3840
numeric   = $2D1B = 11547          opense.asm:7887
numexp_nofops = $000C =    12          opense.def:475
nxt_dgt_1 = $2CDA = 11482          opense.asm:7836
nxt_dgt_2 = $2D40 = 11584          opense.asm:7925
nxtline   = $5C55 = 23637          opense.def:567
oflow_clr = $3195 = 12693          opense.asm:8896
oflw1_clr = $3146 = 12614          opense.asm:8826
oflw2_clr = $3151 = 12625          opense.asm:8835
oldsp     = $5BFE = 23550          opense.def:516
one       = $385F = 14431          opense.asm:10293
one_shift = $2FE5 = 12261          opense.asm:8510
one_space = $1652 =  5714          opense.asm:3381
onerrflag = $5C7F = 23679          opense.def:593
onerrflag_h = $5C80 = 23680          opense.def:594
opcursor  = $18D3 =  6355          opense.asm:3873
oserror   = $0C86 =  3206          opense.asm:2036
other_str = $358F = 13711          opense.asm:9748
out_code  = $15EF =  5615          opense.asm:3293
out_digit = $192A =  6442          opense.asm:3942
out_line  = $1855 =  6229          opense.asm:3772
out_no    = $1A28 =  6696          opense.asm:4156
out_num   = $1A1B =  6683          opense.asm:4145
p_beep    = $1AC6 =  6854          opense.asm:4331
p_border  = $1ACA =  6858          opense.asm:4335
p_bright  = $1B14 =  6932          opense.asm:4433
p_cat     = $1B0A =  6922          opense.asm:4407
p_circle  = $1ACD =  6861          opense.asm:4339
p_clear   = $1AB0 =  6832          opense.asm:4303
p_close   = $1AD1 =  6865          opense.asm:4343
p_cls     = $1AB3 =  6835          opense.asm:4307
p_cont    = $1AAD =  6829          opense.asm:4299
p_copy    = $1ABD =  6845          opense.asm:4319
p_data    = $1AD4 =  6868          opense.asm:4347
p_deffn   = $1AD7 =  6871          opense.asm:4351
p_delete  = $1ADA =  6874          opense.asm:4355
p_dim     = $1A97 =  6807          opense.asm:4271
p_draw    = $1ADE =  6878          opense.asm:4359
p_edit    = $1AE2 =  6882          opense.asm:4363
p_erase   = $1B0A =  6922          opense.asm:4408
p_flash   = $1B13 =  6931          opense.asm:4430
p_for     = $1A85 =  6789          opense.asm:4255
p_format  = $1AE5 =  6885          opense.asm:4367
p_gosub   = $1A7C =  6780          opense.asm:4243
p_goto    = $1A74 =  6772          opense.asm:4235
p_if      = $1A77 =  6775          opense.asm:4239
p_input   = $1A94 =  6804          opense.asm:4267
p_inverse = $1B15 =  6933          opense.asm:4436
p_let     = $1A71 =  6769          opense.asm:4232
p_list    = $1AA3 =  6819          opense.asm:4287
p_llist   = $1AC3 =  6851          opense.asm:4327
p_load    = $1B0E =  6926          opense.asm:4415
p_lprint  = $1AC0 =  6848          opense.asm:4323
p_merge   = $1B10 =  6928          opense.asm:4421
p_move    = $1AE8 =  6888          opense.asm:4371
p_neg     = $2DF2 = 11762          opense.asm:8104
p_new     = $1A9D =  6813          opense.asm:4279
p_next    = $1A8D =  6797          opense.asm:4259
p_onerr   = $1AED =  6893          opense.asm:4375
p_open    = $1AF0 =  6896          opense.asm:4379
p_out     = $1AF6 =  6902          opense.asm:4383
p_over    = $1B16 =  6934          opense.asm:4439
p_palette = $1AFA =  6906          opense.asm:4387
p_paper   = $1B12 =  6930          opense.asm:4427
p_pause   = $1ABA =  6842          opense.asm:4315
p_pen     = $1B11 =  6929          opense.asm:4424
p_plot    = $1AB6 =  6838          opense.asm:4311
p_poke    = $1AA6 =  6822          opense.asm:4291
p_pos     = $2DF8 = 11768          opense.asm:8111
p_print   = $1A91 =  6801          opense.asm:4263
p_rand    = $1AAA =  6826          opense.asm:4295
p_read    = $1AFE =  6910          opense.asm:4391
p_rem     = $1A9A =  6810          opense.asm:4275
p_renum   = $1B01 =  6913          opense.asm:4395
p_restore = $1B04 =  6916          opense.asm:4399
p_return  = $1A82 =  6786          opense.asm:4251
p_run     = $1AA0 =  6816          opense.asm:4283
p_save    = $1B0D =  6925          opense.asm:4412
p_sound   = $1B07 =  6919          opense.asm:4403
p_stop    = $1A7F =  6783          opense.asm:4247
p_verify  = $1B0F =  6927          opense.asm:4418
palbuf    = $5B00 = 23296          opense.def:514
parerr    = $288B = 10379          opense.asm:6970
pau1      = $1F3D =  7997          opense.asm:5225
pau2      = $1F4F =  8015          opense.asm:5241
pause     = $1F3A =  7994          opense.asm:5222
pchr_copyright = $007F =   127          opense.def:294 (unused)
pchr_pound = $0060 =    96          opense.def:293 (unused)
pflag     = $5C91 = 23697          opense.def:608
plot      = $22DC =  8924          opense.asm:5861
pointers  = $1664 =  5732          opense.asm:3394
poke      = $1E80 =  7808          opense.asm:5083
poke1     = $1E85 =  7813          opense.asm:5088
poke_save = $1E8E =  7822          opense.asm:5094
ppc       = $5C45 = 23621          opense.def:557
pramt     = $5CB4 = 23732          opense.def:641
prcifrn   = $1FF5 =  8181          opense.asm:5357
prep_add  = $2F9B = 12187          opense.asm:8437
prep_m_d  = $30C0 = 12480          opense.asm:8713
print     = $1FCD =  8141          opense.asm:5330
print2    = $1FDF =  8159          opense.asm:5341
print3    = $1FF2 =  8178          opense.asm:5353
print_a   = $0010 =    16          opense.def:453
print_fp  = $2DE3 = 11747          opense.asm:8090
print_sp  = $15F2 =  5618          opense.asm:3297
priority  = $27B0 = 10160          opense.asm:6819
pritem    = $1FFC =  8188          opense.asm:5363
pritem2   = $200E =  8206          opense.asm:5373
pritem4   = $2024 =  8228          opense.asm:5390
prmain    = $09F4 =  2548          opense.asm:1556
prog      = $5C53 = 23635          opense.def:566
prompt    = $211A =  8474          opense.asm:5536
prsepr    = $204E =  8270          opense.asm:5421
prserp3   = $2067 =  8295          opense.asm:5438
prterm    = $2045 =  8261          opense.asm:5411
ptr_done  = $167F =  5759          opense.asm:3420
qmult     = $30EF = 12527          opense.asm:8752
r1offcl   = $24B7 =  9399          opense.asm:6256
ram_check = $03A7 =   935          opense.asm:469
ramtop    = $5CB2 = 23730          opense.def:640
rand      = $1E4F =  7759          opense.asm:5048
re_entry  = $336C = 13164          opense.asm:9255
reclaim_1 = $19E5 =  6629          opense.asm:4107
reclaim_2 = $19E8 =  6632          opense.asm:4110
red       = $0002 =     2          opense.def:257
rem       = $1BB2 =  7090          opense.asm:4545
reorder   = $1D16 =  7446          opense.asm:4819
repdel    = $5C09 = 23561          opense.def:520
report6_2 = $36D7 = 14039          opense.asm:9992
report_1  = $1DD8 =  7640          opense.asm:4956
report_2  = $1C2E =  7214          opense.asm:4647
report_3  = $2A20 = 10784          opense.asm:7282
report_4  = $1F15 =  7957          opense.asm:5190
report_6  = $31AD = 12717          opense.asm:8921
report_7  = $1F36 =  7990          opense.asm:5216
report_b  = $24F9 =  9465          opense.asm:6324
report_b1 = $1E9F =  7839          opense.asm:5111
report_b2 = $35AF = 13743          opense.asm:9777
report_c  = $1C8A =  7306          opense.asm:4717
report_d  = $0D00 =  3328          opense.asm:2112
report_f  = $1765 =  5989          opense.asm:3610
repper    = $5C0A = 23562          opense.def:521
reserve   = $169E =  5790          opense.asm:3452
restore   = $1E42 =  7746          opense.asm:5037
restorez  = $1E45 =  7749          opense.asm:5040
result_ok = $36E0 = 14048          opense.asm:10002
return    = $1F23 =  7971          opense.asm:5202
right_key = $100B =  4107          opense.asm:2649
rslt_zero = $36E2 = 14050          opense.asm:10006
rterr     = $1EDA =  7898          opense.asm:5148
rubout    = $1013 =  4115          opense.asm:2659
run       = $1EA1 =  7841          opense.asm:5115
s_cont_2  = $2712 = 10002          opense.asm:6708
s_cont_3  = $2713 = 10003          opense.asm:6711
s_decimal = $268D =  9869          opense.asm:6625
s_endloop = $2770 = 10096          opense.asm:6775
s_let_num = $26C9 =  9929          opense.asm:6665
s_loop    = $2734 = 10036          opense.asm:6731
s_next    = $2790 = 10128          opense.asm:6798
s_no_to_s = $2707 =  9991          opense.asm:6698
s_not_and = $2788 = 10120          opense.asm:6792
s_numeric = $26C3 =  9923          opense.asm:6661
s_opertr  = $2723 = 10019          opense.asm:6720
s_pi      = $2627 =  9767          opense.asm:6558
s_pi_end  = $2630 =  9776          opense.asm:6566
s_push_po = $270D =  9997          opense.asm:6703
s_rnd     = $25F8 =  9720          opense.asm:6528
s_rnd_end = $2625 =  9765          opense.asm:6555
s_rprt_c2 = $2761 = 10081          opense.asm:6764
s_runtest = $2764 = 10084          opense.asm:6767
s_stk_dec = $26B5 =  9909          opense.asm:6649
s_string  = $25DB =  9691          opense.asm:6510
s_syntest = $275B = 10075          opense.asm:6759
s_tighter = $2773 = 10099          opense.asm:6779
scan_ent  = $3373 = 13171          opense.asm:9261
scan_loop = $1B52 =  6994          opense.asm:4478
scanfix   = $3CA8 = 15528          opense.asm:11060
scanning  = $24FB =  9467          opense.asm:6328
scld      = $00FF =   255          opense.def:441
scrct     = $5C8C = 23692          opense.def:603
screen2   = $0E71 =  3697          opense.asm:2372 (unused)
sdtop     = $5C6C = 23660          opense.def:581
sec_plus  = $354D = 13645          opense.asm:9690
secnd_low = $3543 = 13635          opense.asm:9679
seed      = $5C76 = 23670          opense.def:587
separator = $1B6F =  7023          opense.asm:4500
set_mem   = $16C5 =  5829          opense.asm:3478
set_seed  = $1E5A =  7770          opense.asm:5055
set_stk   = $1C30 =  7216          opense.asm:4651
set_strln = $1C46 =  7238          opense.asm:4663
set_top   = $1213 =  4627          opense.asm:3000
setmin    = $16B0 =  5808          opense.asm:3465
setudg    = $09EE =  2542          opense.asm:1552
setudg2   = $16D4 =  5844          opense.asm:3487
setudg3   = $138D =  5005          opense.asm:3175
setudg_ret = $1210 =  4624          opense.asm:2997
setwork   = $16BF =  5823          opense.asm:3474
sexpt1num = $1C81 =  7297          opense.asm:4709
sexpt2nums = $1C79 =  7289          opense.asm:4701
shift_fp  = $2FDD = 12253          opense.asm:8502
shift_len = $3055 = 12373          opense.asm:8617
shift_one = $316E = 12654          opense.asm:8868
sign_done = $2CFE = 11518          opense.asm:7866
sign_to_c = $34E3 = 13539          opense.asm:9587
skip_zero = $315E = 12638          opense.asm:8853
skipstats = $198B =  6539          opense.asm:4020
sl_define = $2A94 = 10900          opense.asm:7371
sl_over   = $2AA8 = 10920          opense.asm:7387
sl_rpt_c  = $2A7A = 10874          opense.asm:7350
sl_second = $2A81 = 10881          opense.asm:7356
sl_store  = $2AAD = 10925          opense.asm:7391
slicing   = $2A52 = 10834          opense.asm:7323
small     = $37C1 = 14273          opense.asm:10173
sposnl    = $5C8A = 23690          opense.def:601
sposnl_h  = $5C8B = 23691          opense.def:602
sposnu    = $5C88 = 23688          opense.def:599
sposnu_h  = $5C89 = 23689          opense.def:600
st_e_part = $2CFF = 11519          opense.asm:7869
stack_a   = $2D28 = 11560          opense.asm:7899
stack_bc  = $2D2B = 11563          opense.asm:7903
stack_bc1 = $2D2F = 11567          opense.asm:7906
stacka    = $3490 = 13456          opense.asm:9513
start     = $0000 =     0          opense.def:451
statlost  = $1BEC =  7148          opense.asm:4586
stk_code  = $3646 = 13894          opense.asm:9873
stk_const = $33CC = 13260          opense.asm:9334 (unused)
stk_digit = $2D22 = 11554          opense.asm:7894
stk_fetch = $2BF1 = 11249          opense.asm:7652
stk_pntrs = $3597 = 13719          opense.asm:9756
stk_st_0  = $2AB1 = 10929          opense.asm:7395
stk_store = $2AB2 = 10930          opense.asm:7398
stk_to_a  = $2314 =  8980          opense.asm:5904
stk_to_bc = $2307 =  8967          opense.asm:5893
stk_var   = $2996 = 10646          opense.asm:7173
stk_zeros = $33F1 = 13297          opense.asm:9367
stkbot    = $5C63 = 23651          opense.def:574
stkend    = $5C65 = 23653          opense.def:575
stkend_h  = $5C66 = 23654          opense.def:576
stmtlp    = $1B28 =  6952          opense.asm:4451
stmtnext1 = $1BF4 =  7156          opense.asm:4596
stop      = $1CEE =  7406          opense.asm:4787
str_exp   = $000A =    10          opense.def:473
str_test  = $3560 = 13664          opense.asm:9709
streamfe  = $0B17 =  2839          opense.asm:1757
stril     = $5C72 = 23666          opense.def:585
strings   = $3533 = 13619          opense.asm:9664
strms     = $5C10 = 23568          opense.def:527
strms_00  = $5C16 = 23574          opense.def:530
strms_01  = $5C18 = 23576          opense.def:531 (unused)
strms_02  = $5C1A = 23578          opense.def:532 (unused)
strms_03  = $5C1C = 23580          opense.def:533 (unused)
strms_04  = $5C1E = 23582          opense.def:534 (unused)
strms_05  = $5C20 = 23584          opense.def:535 (unused)
strms_06  = $5C22 = 23586          opense.def:536 (unused)
strms_07  = $5C24 = 23588          opense.def:537 (unused)
strms_08  = $5C26 = 23590          opense.def:538 (unused)
strms_09  = $5C28 = 23592          opense.def:539 (unused)
strms_10  = $5C2A = 23594          opense.def:540 (unused)
strms_11  = $5C2C = 23596          opense.def:541 (unused)
strms_12  = $5C2E = 23598          opense.def:542 (unused)
strms_13  = $5C30 = 23600          opense.def:543 (unused)
strms_14  = $5C32 = 23602          opense.def:544 (unused)
strms_15  = $5C34 = 23604          opense.def:545 (unused)
strms_fe  = $5C12 = 23570          opense.def:528 (unused)
strms_ff  = $5C14 = 23572          opense.def:529 (unused)
strmtab   = $15C6 =  5574          opense.asm:3269
strt_mlt  = $3125 = 12581          opense.asm:8795
subn_only = $31F2 = 12786          opense.asm:8979
subppc    = $5C47 = 23623          opense.def:558
sv_arrays = $29AE = 10670          opense.asm:7193
sv_chadd  = $29E0 = 10720          opense.asm:7233
sv_close  = $29D8 = 10712          opense.asm:7227
sv_comma  = $29C3 = 10691          opense.asm:7212
sv_count  = $29E7 = 10727          opense.asm:7239
sv_dim    = $2A48 = 10824          opense.asm:7314
sv_elems  = $2A2C = 10796          opense.asm:7294
sv_loop   = $29EA = 10730          opense.asm:7242
sv_mult   = $29FB = 10747          opense.asm:7255
sv_number = $2A22 = 10786          opense.asm:7286
sv_ptr    = $29C0 = 10688          opense.asm:7208
sv_rpt_c  = $2A12 = 10770          opense.asm:7271
sv_slice  = $2A45 = 10821          opense.asm:7311
sv_sliceq = $2A49 = 10825          opense.asm:7317
sv_smples = $29A1 = 10657          opense.asm:7182
swap_byte = $3423 = 13347          opense.asm:9413
syntax    = $1A39 =  6713          opense.asm:4174
syntax3   = $3901 = 14593          opense.asm:10403
syntax_z  = $2530 =  9520          opense.asm:6366
taddr     = $5C74 = 23668          opense.def:586
tap_offst = $000B =    11          opense.def:474
temp_ptr  = $0078 =   120          opense.asm:205
terror    = $0806 =  2054          opense.asm:1215
test_5_sp = $33AD = 13229          opense.asm:9310
test_end  = $1865 =  6245          opense.asm:3782
test_neg  = $307C = 12412          opense.asm:8648
test_norm = $3155 = 12629          opense.asm:8841
test_room = $1F05 =  7941          opense.asm:5179
test_sp   = $001C =    28          opense.asm:119
thousand  = $1A30 =  6704          opense.asm:4165
tk_abs    = $00BD =   189          opense.def:363 (unused)
tk_acs    = $00B6 =   182          opense.def:356 (unused)
tk_and    = $00C6 =   198          opense.def:372
tk_asn    = $00B5 =   181          opense.def:355 (unused)
tk_at     = $00AC =   172          opense.def:346
tk_atn    = $00B7 =   183          opense.def:357 (unused)
tk_attr   = $00AB =   171          opense.def:345
tk_beep   = $00D7 =   215          opense.def:389 (unused)
tk_bin    = $00C4 =   196          opense.def:370
tk_border = $00E7 =   231          opense.def:405 (unused)
tk_bright = $00DC =   220          opense.def:394 (unused)
tk_chr_str = $00C2 =   194          opense.def:368 (unused)
tk_circle = $00D8 =   216          opense.def:390 (unused)
tk_clear  = $00FD =   253          opense.def:427 (unused)
tk_close  = $00D4 =   212          opense.def:386 (unused)
tk_cls    = $00FB =   251          opense.def:425 (unused)
tk_code   = $00AF =   175          opense.def:349
tk_continue = $00E8 =   232          opense.def:406
tk_copy   = $00FF =   255          opense.def:429 (unused)
tk_cos    = $00B3 =   179          opense.def:353 (unused)
tk_deffn  = $00CE =   206          opense.def:380
tk_delete = $0000 =     0          opense.def:430 (unused)
tk_dim    = $00E9 =   233          opense.def:407 (unused)
tk_dir    = $00CF =   207          opense.def:381 (unused)
tk_draw   = $00FC =   252          opense.def:426 (unused)
tk_edit   = $0001 =     1          opense.def:431 (unused)
tk_erase  = $00D2 =   210          opense.def:384
tk_exp    = $00B9 =   185          opense.def:359 (unused)
tk_flash  = $00DB =   219          opense.def:393 (unused)
tk_fn     = $00A8 =   168          opense.def:342
tk_for    = $00EB =   235          opense.def:409 (unused)
tk_format = $00D0 =   208          opense.def:382 (unused)
tk_gosub  = $00ED =   237          opense.def:411
tk_goto   = $00EC =   236          opense.def:410
tk_gr_eq  = $00C8 =   200          opense.def:374
tk_if     = $00FA =   250          opense.def:424 (unused)
tk_in     = $00BF =   191          opense.def:365 (unused)
tk_inkey_str = $00A6 =   166          opense.def:340
tk_input  = $00EE =   238          opense.def:412 (unused)
tk_int    = $00BA =   186          opense.def:360 (unused)
tk_inverse = $00DD =   221          opense.def:395 (unused)
tk_l_eql  = $00C7 =   199          opense.def:373
tk_len    = $00B1 =   177          opense.def:351 (unused)
tk_let    = $00F1 =   241          opense.def:415 (unused)
tk_line   = $00CA =   202          opense.def:376
tk_list   = $00F0 =   240          opense.def:414
tk_llist  = $00E1 =   225          opense.def:399
tk_ln     = $00B8 =   184          opense.def:358 (unused)
tk_load   = $00EF =   239          opense.def:413 (unused)
tk_lprint = $00E0 =   224          opense.def:398 (unused)
tk_merge  = $00D5 =   213          opense.def:387 (unused)
tk_move   = $00D1 =   209          opense.def:383 (unused)
tk_neql   = $00C9 =   201          opense.def:375
tk_new    = $00E6 =   230          opense.def:404 (unused)
tk_next   = $00F3 =   243          opense.def:417
tk_not    = $00C3 =   195          opense.def:369 (unused)
tk_onerr  = $0005 =     5          opense.def:435 (unused)
tk_open   = $00D3 =   211          opense.def:385 (unused)
tk_or     = $00C5 =   197          opense.def:371
tk_out    = $00DF =   223          opense.def:397
tk_over   = $00DE =   222          opense.def:396 (unused)
tk_palette = $0003 =     3          opense.def:433 (unused)
tk_paper  = $00DA =   218          opense.def:392 (unused)
tk_pause  = $00F2 =   242          opense.def:416 (unused)
tk_peek   = $00BE =   190          opense.def:364 (unused)
tk_pen    = $00D9 =   217          opense.def:391
tk_pi     = $00A7 =   167          opense.def:341
tk_plot   = $00F6 =   246          opense.def:420 (unused)
tk_point  = $00A9 =   169          opense.def:343
tk_poke   = $00F4 =   244          opense.def:418 (unused)
tk_print  = $00F5 =   245          opense.def:419 (unused)
tk_randomize = $00F9 =   249          opense.def:423 (unused)
tk_read   = $00E3 =   227          opense.def:401 (unused)
tk_rem    = $00EA =   234          opense.def:408
tk_renum  = $0002 =     2          opense.def:432 (unused)
tk_restore = $00E5 =   229          opense.def:403
tk_return = $00FE =   254          opense.def:428 (unused)
tk_rnd    = $00A5 =   165          opense.def:339
tk_run    = $00F7 =   247          opense.def:421
tk_save   = $00F8 =   248          opense.def:422 (unused)
tk_screen_str = $00AA =   170          opense.def:344
tk_sgn    = $00BC =   188          opense.def:362 (unused)
tk_sin    = $00B2 =   178          opense.def:352 (unused)
tk_sound  = $0004 =     4          opense.def:434 (unused)
tk_sqr    = $00BB =   187          opense.def:361 (unused)
tk_step   = $00CD =   205          opense.def:379
tk_stop   = $00E2 =   226          opense.def:400
tk_str_str = $00C1 =   193          opense.def:367 (unused)
tk_tab    = $00AD =   173          opense.def:347
tk_tan    = $00B4 =   180          opense.def:354 (unused)
tk_then   = $00CB =   203          opense.def:377
tk_to     = $00CC =   204          opense.def:378
tk_usr    = $00C0 =   192          opense.def:366
tk_val    = $00B0 =   176          opense.def:350 (unused)
tk_val_str = $00AE =   174          opense.def:348
tk_verify = $00D6 =   214          opense.def:388 (unused)
tkdata    = $00E4 =   228          opense.def:402
trcurp    = $0D4D =  3405          opense.asm:2161
trunct2   = $3252 = 12882          opense.asm:9057
trunct3   = $325E = 12894          opense.asm:9067
trunct4   = $3261 = 12897          opense.asm:9071
trunct5   = $3267 = 12903          opense.asm:9076
tstzero   = $34C5 = 13509          opense.asm:9556
two_c_s_num = $0008 =     8          opense.def:471
two_csn_col = $0009 =     9          opense.def:472
udg       = $5C7B = 23675          opense.def:590
ula       = $00FE =   254          opense.def:440
ulaplus_dat = $FF3B = 65339          opense.def:446 (unused)
ulaplus_reg = $BF3B = 48955          opense.def:445
units     = $1A33 =  6707          opense.asm:4168
unstack_z = $1FC3 =  8131          opense.asm:5320
up_key    = $104A =  4170          opense.asm:2709
use_one   = $1D10 =  7440          opense.asm:4813
user      = $5C81 = 23681          opense.def:595
v_80_byte = $2932 = 10546          opense.asm:7091
v_char    = $28D4 = 10452          opense.asm:7018
v_each    = $2900 = 10496          opense.asm:7049
v_end     = $294B = 10571          opense.asm:7117
v_found_1 = $293E = 10558          opense.asm:7102
v_found_2 = $293F = 10559          opense.asm:7105
v_get_ptr = $2929 = 10537          opense.asm:7081
v_matches = $2912 = 10514          opense.asm:7063
v_next    = $292A = 10538          opense.asm:7084
v_pass    = $2943 = 10563          opense.asm:7111
v_run     = $28FD = 10493          opense.asm:7046
v_run_syn = $28EF = 10479          opense.asm:7036
v_spaces  = $2913 = 10515          opense.asm:7066
v_str_var = $28DE = 10462          opense.asm:7025
v_syntax  = $2934 = 10548          opense.asm:7094
valid     = $36F0 = 14064          opense.asm:10025
var_rqd   = $0001 =     1          opense.def:464
var_syn   = $0005 =     5          opense.def:468
vars      = $5C4B = 23627          opense.def:562
vdudata   = $5C0E = 23566          opense.def:525
vdudata_h = $5C0F = 23567          opense.def:526
waitkey   = $15D4 =  5588          opense.asm:3273
white     = $0007 =     7          opense.def:262
words     = $0C44 =  3140          opense.asm:1998
worksp    = $5C61 = 23649          opense.def:573
wtky2     = $15DE =  5598          opense.asm:3278
x360f     = $3617 = 13847          opense.asm:9839
x3621     = $3629 = 13865          opense.asm:9852
x362c     = $3634 = 13876          opense.asm:9860
x36e6     = $36EE = 14062          opense.asm:10021
x80_fabs  = $344E = 13390          opense.asm:9454
x80_facos = $380C = 14348          opense.asm:10215
x80_fadd  = $3014 = 12308          opense.asm:8555
x80_fasc  = $363E = 13886          opense.asm:9866
x80_fasin = $37FC = 14332          opense.asm:10197
x80_fatan = $37AB = 14251          opense.asm:10155
x80_fband = $3500 = 13568          opense.asm:9618
x80_fbands = $3509 = 13577          opense.asm:9626
x80_fbor  = $34F7 = 13559          opense.asm:9610
x80_fcat  = $3574 = 13684          opense.asm:9727
x80_fce   = $3670 = 13936          opense.asm:9917
x80_fchrs = $35A2 = 13730          opense.asm:9769
x80_fcos  = $377B = 14203          opense.asm:10114
x80_fcp   = $3517 = 13591          opense.asm:9640
x80_fcp_gz = $34D5 = 13525          opense.asm:9574
x80_fcp_lz = $34E2 = 13538          opense.asm:9584
x80_fdel  = $33A5 = 13221          opense.asm:9301
x80_fdiv  = $31AF = 12719          opense.asm:8925
x80_fdjnz = $364F = 13903          opense.asm:9880
x80_fexp  = $3699 = 13977          opense.asm:9966
x80_fget  = $3755 = 14165          opense.asm:10076
x80_fgt   = $3400 = 13312          opense.asm:9384
x80_fhexs = $3863 = 14435          opense.asm:10301
x80_fin   = $3485 = 13445          opense.asm:9504
x80_fint  = $3684 = 13956          opense.asm:9941
x80_fjp   = $365B = 13915          opense.asm:9891
x80_fjpt  = $3664 = 13924          opense.asm:9904
x80_flen  = $3649 = 13897          opense.asm:9876
x80_flogn = $36E7 = 14055          opense.asm:10013
x80_fmod  = $3675 = 13941          opense.asm:9924
x80_fmove = $33C4 = 13252          opense.asm:9325
x80_fmul  = $30CA = 12490          opense.asm:8722
x80_fneg  = $3452 = 13394          opense.asm:9458
x80_fnot  = $34DD = 13533          opense.asm:9580
x80_fpeek = $348C = 13452          opense.asm:9509
x80_fread = $361C = 13852          opense.asm:9844
x80_frstk = $3297 = 12951          opense.asm:9125
x80_fsgen = $342D = 13357          opense.asm:9424
x80_fsgl  = $33A6 = 13222          opense.asm:9304
x80_fsgn  = $3472 = 13426          opense.asm:9488
x80_fsin  = $3786 = 14214          opense.asm:10125
x80_fsqrt = $3813 = 14355          opense.asm:10224
x80_fst   = $3411 = 13329          opense.asm:9398
x80_fstk  = $33CA = 13258          opense.asm:9330
x80_fstkc = $340C = 13324          opense.asm:9394
x80_fstrs = $35EF = 13807          opense.asm:9817
x80_fsub  = $300F = 12303          opense.asm:8550
x80_ftan  = $0DF5 =  3573          opense.asm:2270
x80_ftop  = $3846 = 14406          opense.asm:10269
x80_ftrn  = $3214 = 12820          opense.asm:9010
x80_fusr  = $3493 = 13459          opense.asm:9516
x80_fusrs = $349C = 13468          opense.asm:9523
x80_fval  = $35B1 = 13745          opense.asm:9781
x80_fxch  = $3421 = 13345          opense.asm:9410
x_large   = $326D = 12909          opense.asm:9082
x_neg     = $368C = 13964          opense.asm:9950
xcoord    = $5C7D = 23677          opense.def:591
xis0      = $3852 = 14418          opense.asm:10280
xptr      = $5C5F = 23647          opense.def:572
ycoord    = $5C7E = 23678          opense.def:592
yellow    = $0006 =     6          opense.def:261 (unused)
yneg      = $3779 = 14201          opense.asm:10110
zero_de   = $1691 =  5777          opense.asm:3439
zero_rslt = $315D = 12637          opense.asm:8850
zeros_4_5 = $2FFB = 12283          opense.asm:8528
zplus     = $3772 = 14194          opense.asm:10102


total time: 0.2053 sec.
1 error
